import{_ as e,r as o,o as c,c as l,b as n,d as p,a,e as s}from"./app.73b065d1.js";var i="/sakuras-docs/imgs/front/react/react2.png",u="/sakuras-docs/imgs/front/react/react1.png";const r={},k=a('<h1 id="react\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#react\u57FA\u7840" aria-hidden="true">#</a> React\u57FA\u7840</h1><hr><h1 id="\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#\u76EE\u5F55" aria-hidden="true">#</a> #\u76EE\u5F55</h1><blockquote><p>[TOC]</p></blockquote><h1 id="i-react\u57FA\u7840\u77E5\u8BC6\u4E0E\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#i-react\u57FA\u7840\u77E5\u8BC6\u4E0E\u6982\u5FF5" aria-hidden="true">#</a> \u2160-React\u57FA\u7840\u77E5\u8BC6\u4E0E\u6982\u5FF5</h1><blockquote><p>React\u76F8\u5BF9\u4E8Evue\u6765\u8BF4\u5B66\u4E60\u6210\u672C\u66F4\u9AD8\uFF0C\u6216\u8005\u8BF4\u9700\u8981\u7684\u57FA\u7840\u77E5\u8BC6\u66F4\u591A\uFF0C\u9700\u8981\u6709\u4E00\u4E9B\u9884\u5907\u77E5\u8BC6\u70B9\u652F\u6491</p><ol><li>webpack\u76F8\u5173\u77E5\u8BC6</li><li>axios\u76F8\u5173\u77E5\u8BC6</li><li>js\u57FA\u7840\u4E0Ees6\u76F8\u5173\u77E5\u8BC6</li></ol></blockquote><h2 id="\u4E00\u3001react\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u4E00\u3001react\u7B80\u4ECB" aria-hidden="true">#</a> \u4E00\u3001React\u7B80\u4ECB</h2>',7),d=s("\u5B98\u7F51\u94FE\u63A5:"),v={href:"https://react.docschina.org/",target:"_blank",rel:"noopener noreferrer"},m=s("\u4E2D\u6587\u5B98\u7F51"),b=n("li",null,"\u4ECB\u7ECD\u63CF\u8FF0",-1),g=n("li",null,"\u7528\u4E8E\u52A8\u6001\u6784\u5EFA\u7528\u6237\u754C\u9762\u7684JavaScript(\u53EA\u5173\u6CE8\u89C6\u56FE)",-1),h=n("li",null,"\u7531Facebook\u5F00\u6E90",-1),y=a(`<h3 id="_1\u3001react\u7684\u7279\u70B9" tabindex="-1"><a class="header-anchor" href="#_1\u3001react\u7684\u7279\u70B9" aria-hidden="true">#</a> 1\u3001React\u7684\u7279\u70B9</h3><blockquote><ol><li><p>\u58F0\u660E\u5F0F\u7F16\u7A0B</p></li><li><p>\u7EC4\u4EF6\u5316\u7F16\u7A0B</p></li><li><p>React Native\u7F16\u5199\u539F\u751F\u5E94\u7528</p></li></ol><p><em>React Native (\u7B80\u79F0RN)\u662FFacebook\u4E8E2015\u5E744\u6708\u5F00\u6E90\u7684\u8DE8\u5E73\u53F0\u79FB\u52A8\u5E94\u7528\u5F00\u53D1\u6846\u67B6\uFF0C\u662FFacebook\u65E9\u5148\u5F00\u6E90\u7684JS\u6846\u67B6 React \u5728\u539F\u751F\u79FB\u52A8\u5E94\u7528\u5E73\u53F0\u7684\u884D\u751F\u4EA7\u7269</em></p><ol start="4"><li>\u9AD8\u6548 (\u4F18\u79C0\u7684Diffing\u7B97\u6CD5)</li></ol></blockquote><h3 id="_2\u3001react\u9AD8\u6548\u7684\u539F\u56E0" tabindex="-1"><a class="header-anchor" href="#_2\u3001react\u9AD8\u6548\u7684\u539F\u56E0" aria-hidden="true">#</a> 2\u3001React\u9AD8\u6548\u7684\u539F\u56E0</h3><blockquote><ol><li>\u4F7F\u7528\u865A\u62DF(virtual)DOM,\u4E0D\u603B\u662F\u76F4\u63A5\u64CD\u4F5C\u9875\u9762\u771F\u5B9EDON</li><li>DOM Diffing\u7B97\u6CD5,\u6700\u5C0F\u5316\u9875\u9762\u91CD\u7ED8</li><li><code>\u6CE8\u610F</code>\uFF1AReact\u5E76\u4E0D\u4F1A\u63D0\u9AD8\u6E32\u67D3\u901F\u5EA6,\u53CD\u800C\u53EF\u80FD\u4F1A\u589E\u52A0\u6E32\u67D3\u65F6\u95F4,\u771F\u6B63\u9AD8\u6548\u7684\u539F\u56E0\u662F\u5B83\u80FD\u6709\u6548<code>\u51CF\u5C11\u6E32\u67D3\u6B21\u6570</code></li></ol></blockquote><h3 id="_3\u3001\u521B\u5EFA\u865A\u62DFdom\u7684\u4E24\u79CD\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u521B\u5EFA\u865A\u62DFdom\u7684\u4E24\u79CD\u65B9\u5F0F" aria-hidden="true">#</a> 3\u3001\u521B\u5EFA\u865A\u62DFDOM\u7684\u4E24\u79CD\u65B9\u5F0F</h3><h4 id="i-js\u521B\u5EFA\u865A\u62DFdom-\u4E0D\u63A8\u8350" tabindex="-1"><a class="header-anchor" href="#i-js\u521B\u5EFA\u865A\u62DFdom-\u4E0D\u63A8\u8350" aria-hidden="true">#</a> \u2160- js\u521B\u5EFA\u865A\u62DFDOM(<code>\u4E0D\u63A8\u8350</code>)</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//1.\u521B\u5EFA\u865A\u62DFDOM,\u521B\u5EFA\u5D4C\u5957\u683C\u5F0F\u7684doms</span>
<span class="token keyword">const</span> <span class="token constant">VDOM</span><span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;h1&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;span&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&#39;hello,React&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//2.\u6E32\u67D3\u865A\u62DFDOM\u5230\u9875\u9762</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token constant">VDOM</span><span class="token punctuation">,</span>docoment<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ii-jsx\u521B\u5EFA\u865A\u62DFdom" tabindex="-1"><a class="header-anchor" href="#ii-jsx\u521B\u5EFA\u865A\u62DFdom" aria-hidden="true">#</a> \u2161 -jsx\u521B\u5EFA\u865A\u62DFDOM</h4><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//1.\u521B\u5EFA\u865A\u62DFDOM</span>
	<span class="token keyword">const</span> <span class="token constant">VDOM</span> <span class="token operator">=</span> <span class="token punctuation">(</span>  <span class="token comment">/* \u6B64\u5904\u4E00\u5B9A\u4E0D\u8981\u5199\u5F15\u53F7\uFF0C\u56E0\u4E3A\u4E0D\u662F\u5B57\u7B26\u4E32 */</span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello,React</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token comment">//2.\u6E32\u67D3\u865A\u62DFDOM\u5230\u9875\u9762</span>
	ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token constant">VDOM</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//3.\u6253\u5370\u771F\u5B9EDOM\u4E0E\u865A\u62DFDOM,\u8FD9\u4E00\u6B65\u4E0D\u662Fjsx\u521B\u5EFA\u865A\u62DFdom\u5FC5\u987B\uFF0C\u6211\u53EA\u662F\u4E3A\u4E86\u65B9\u4FBF\u67E5\u9605</span>
	<span class="token keyword">const</span> <span class="token constant">TDOM</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;demo&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u865A\u62DFDOM&#39;</span><span class="token punctuation">,</span><span class="token constant">VDOM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u771F\u5B9EDOM&#39;</span><span class="token punctuation">,</span><span class="token constant">TDOM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u53EF\u4EE5\u770B\u5230\uFF0C\u4E0A\u4E0B\u4E24\u79CD\u65B9\u5F0F\uFF0C\u660E\u663E<code>jsx</code>\u7684\u5199\u6CD5\u66F4\u7B26\u5408\u6211\u4EEC\u7684\u4E60\u60EF,\u5F53\u51FA\u73B0\u591A\u91CD\u5D4C\u5957\u65F6,js\u521B\u5EFA\u65B9\u6CD5\u4F1A\u4F7F\u6211\u4EEC\u7F16\u7A0B\u51FA\u73B0\u5F88\u5927\u9EBB\u70E6</p><p>\u4F46\u662Fjsx\u5176\u5B9E\u4E5F\u53EA\u662F\u5E2E\u6211\u4EEC\u505A\u4E86\u4E00\u5C42\u7F16\u8BD1,\u5F53\u6211\u4EEC\u5199\u5B8Cjsx\u4EE3\u7801\u540E,\u6700\u7EC8\u6211\u4EEC\u7684\u4EE3\u7801\u4E5F\u4F1A\u88AB\u7F16\u8BD1\u6210js\u7684\u4E66\u5199\u65B9\u5F0F</p></blockquote><h3 id="_4\u3001\u5173\u4E8E\u865A\u62DFdom" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5173\u4E8E\u865A\u62DFdom" aria-hidden="true">#</a> 4\u3001\u5173\u4E8E\u865A\u62DFDOM</h3><blockquote><ol><li>\u672C\u8D28\u65F6Object\u7C7B\u578B\u7684\u5BF9\u8C61(\u4E00\u822C\u5BF9\u8C61)</li><li>\u865A\u62DFDOM\u6BD4\u8F83&#39;\u8F7B&#39;,\u771F\u5B9EDOM\u6BD4\u8F83&#39;\u91CD&#39;,\u56E0\u4E3A\u865A\u62DFDOM\u662FReact\u5185\u90E8\u5728\u7528,\u65E0\u9700\u771F\u5B9EDOM\u4E0A\u90A3\u4E48\u591A\u7684\u5C5E\u6027(\u53EA\u6709React\u9700\u8981\u7684\u5C5E\u6027)</li><li>\u865A\u62DFDOM\u6700\u7EC8\u4F1A\u88ABReact\u8F6C\u5316\u4E3A\u771F\u5B9EDOM,\u5448\u73B0\u5728\u9875\u9762\u4E0A</li></ol></blockquote><h2 id="\u4E8C\u3001jsx\u8BED\u6CD5\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u3001jsx\u8BED\u6CD5\u89C4\u5219" aria-hidden="true">#</a> \u4E8C\u3001jsx\u8BED\u6CD5\u89C4\u5219</h2><blockquote><p>JSX\u662F\u4E00\u79CDJavaScript\u7684\u8BED\u6CD5\u6269\u5C55\u3001\u662F\u4E00\u79CD\u5D4C\u5165\u5F0F\u7684\u7C7B\u4F3CXML\u7684\u8BED\u6CD5,\u5E38\u5E94\u7528\u4E8EReact\u67B6\u6784\u4E2D,\u4F46\u4E5F\u4E0D\u4EC5\u9650\u4E8E\u6B64.\u5E94\u8BE5\u8BF4JSX\u56E0React\u6846\u67B6\u800C\u6D41\u884C,\u4F46\u4E5F\u5B58\u5728\u5176\u4ED6\u7684\u5B9E\u73B0.\u53EA\u8981\u4F60\u591F\u5389\u5BB3,\u751A\u81F3\u80FD\u5728\u5355\u7247\u673A\u4E0A\u5B9E\u73B0(\u5F53\u7136\u4F60\u8981\u81EA\u5DF1\u5199\u51FA\u5B83\u7684\u5B9E\u73B0\u65B9\u5F0F)</p></blockquote><h3 id="_1\u3001\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u89C4\u5219" aria-hidden="true">#</a> 1\u3001\u89C4\u5219</h3><blockquote><ol><li>\u5B9A\u4E49\u865A\u62DFDOM\u65F6,\u4E0D\u8981\u5199\u5F15\u53F7</li><li>\u6807\u7B7E\u4E2D\u6DF7\u5165JS\u8868\u8FBE\u5F0F\u65F6\u8981\u7528{}</li><li>\u6837\u5F0F\u7684\u7C7B\u540D\u6307\u5B9A\u4E0D\u8981\u7528class,\u8981\u7528className</li><li>\u5185\u8054\u6837\u5F0F,\u8981\u7528style={ {key:value} }\u7684\u5F62\u5F0F(<code>\u53CC{}\u4EE3\u8868\u5BF9\u8C61,\u5355{}\u4EE3\u8868\u8868\u8FBE\u5F0F</code>)\u53BB\u5199</li><li>\u53EA\u6709\u4E00\u4E2A\u8DDF\u6807\u7B7E(\u6574\u4E2A\u865A\u62DFDOM\u5728\u5916\u5C42\u6709\u4E14\u4EC5\u6709\u4E00\u4E2A\u5BB9\u5668\u5305\u88F9)</li><li>\u6807\u7B7E\u5FC5\u987B\u95ED\u5408</li><li>\u6807\u7B7E\u9996\u5B57\u6BCD</li></ol><p>\u82E5<code>\u5C0F\u5199\u5B57\u6BCD\u5F00\u5934</code>,\u5219\u5C06\u8BE5\u6807\u7B7E\u8F6C\u4E3Ahtml\u4E2D\u540C\u540D\u5143\u7D20,\u82E5html\u4E2D\u65E0\u8BE5\u6807\u7B7E\u5BF9\u5E94\u7684\u540C\u540D\u5143\u7D20,\u5219<code>\u62A5\u9519</code></p><p>\u82E5<code>\u5927\u5199\u5B57\u6BCD\u5F00\u5934</code>,ract\u5C31\u53BB\u6E32\u67D3\u5BF9\u5E94\u7EC4\u4EF6,\u82E5\u7EC4\u4EF6\u6CA1\u6709\u5B9A\u4E49,\u5219<code>\u62A5\u9519</code></p></blockquote><h3 id="_2\u3001\u533A\u5206\u3010js\u8BED\u53E5-\u4EE3\u7801-\u3011\u4E0E\u3010js\u8868\u8FBE\u5F0F\u3011" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u533A\u5206\u3010js\u8BED\u53E5-\u4EE3\u7801-\u3011\u4E0E\u3010js\u8868\u8FBE\u5F0F\u3011" aria-hidden="true">#</a> 2\u3001\u533A\u5206\u3010js\u8BED\u53E5(\u4EE3\u7801)\u3011\u4E0E\u3010js\u8868\u8FBE\u5F0F\u3011</h3><blockquote><ol><li>\u8868\u8FBE\u5F0F:\u4E00\u4E2A\u8868\u8FBE\u5F0F\u4F1A\u4EA7\u751F\u4E00\u4E2A\u503C,\u53EF\u4EE5\u653E\u5728\u4EFB\u4F55\u4E00\u4E2A\u9700\u8981\u503C\u7684\u5730\u65B9</li></ol><p>\u4E0B\u9762\u8FD9\u4E9B\u90FD\u662F\u8868\u8FBE\u5F0F</p><ol><li><p>a</p></li><li><p>a+b</p></li><li><p>demo(1)</p></li><li><p>arr.map()</p></li><li><p>function test(){}</p></li><li><p>\u8BED\u53E5:\u4E0D\u80FD\u653E\u5728\u521B\u5EFA\u865A\u62DFdom\u8BED\u53E5\u4E2D</p></li><li><p>if(){}</p></li><li><p>for(){}</p></li><li><p>switch(){}</p></li></ol></blockquote><h2 id="\u4E09\u3001\u4E24\u79CD\u7EC4\u4EF6\u5B9A\u4E49\u533A\u522B\u3001\u7EC4\u4EF6\u4E0E\u6A21\u5757\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#\u4E09\u3001\u4E24\u79CD\u7EC4\u4EF6\u5B9A\u4E49\u533A\u522B\u3001\u7EC4\u4EF6\u4E0E\u6A21\u5757\u7406\u89E3" aria-hidden="true">#</a> \u4E09\u3001\u4E24\u79CD\u7EC4\u4EF6\u5B9A\u4E49\u533A\u522B\u3001\u7EC4\u4EF6\u4E0E\u6A21\u5757\u7406\u89E3</h2><h3 id="i-react\u4E2D\u5B9A\u4E49\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#i-react\u4E2D\u5B9A\u4E49\u7EC4\u4EF6" aria-hidden="true">#</a> \u2160-react\u4E2D\u5B9A\u4E49\u7EC4\u4EF6</h3><h5 id="_1\u51FD\u6570\u5F0F\u58F0\u660E\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1\u51FD\u6570\u5F0F\u58F0\u660E\u7EC4\u4EF6" aria-hidden="true">#</a> \u2460\u51FD\u6570\u5F0F\u58F0\u660E\u7EC4\u4EF6</h5><blockquote><p>\u6267\u884C\u4E86ReactDOM.render(&lt; MyComponent/&gt;.......\u4E4B\u540E\uFF0C\u53D1\u751F\u4E86\u4EC0\u4E48\uFF1F</p><p>1.React\u89E3\u6790\u7EC4\u4EF6\u6807\u7B7E\uFF0C\u627E\u5230\u4E86MyComponent\u7EC4\u4EF6\u3002</p><p>2.\u53D1\u73B0\u7EC4\u4EF6\u662F\u4F7F\u7528\u51FD\u6570\u5B9A\u4E49\u7684\uFF0C\u968F\u540E\u8C03\u7528\u8BE5\u51FD\u6570\uFF0C\u5C06\u8FD4\u56DE\u7684\u865A\u62DFDOM\u8F6C\u4E3A\u771F\u5B9EDOM\uFF0C\u968F\u540E\u5448\u73B0\u5728\u9875\u9762\u4E2D\u3002</p></blockquote><h5 id="_2\u7C7B\u5F0F\u7EC4\u4EF6-\u4E0B\u9762\u7684\u5B9E\u4F8B\u90FD\u662F\u6307\u7C7B\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2\u7C7B\u5F0F\u7EC4\u4EF6-\u4E0B\u9762\u7684\u5B9E\u4F8B\u90FD\u662F\u6307\u7C7B\u7EC4\u4EF6" aria-hidden="true">#</a> \u2461\u7C7B\u5F0F\u7EC4\u4EF6(\u4E0B\u9762\u7684\u5B9E\u4F8B\u90FD\u662F\u6307\u7C7B\u7EC4\u4EF6)</h5><blockquote><p>\u6267\u884C\u4E86ReactDOM.render(&lt; MyComponent/&gt;.......\u4E4B\u540E\uFF0C\u53D1\u751F\u4E86\u4EC0\u4E48\uFF1F</p><p>\u200B 1.React\u89E3\u6790\u7EC4\u4EF6\u6807\u7B7E\uFF0C\u627E\u5230\u4E86MyComponent\u7EC4\u4EF6\u3002</p><p>\u200B 2.\u53D1\u73B0\u7EC4\u4EF6\u662F\u4F7F\u7528\u7C7B\u5B9A\u4E49\u7684\uFF0C\u968F\u540Enew\u51FA\u6765\u8BE5\u7C7B\u7684\u5B9E\u4F8B\uFF0C\u5E76\u901A\u8FC7\u8BE5\u5B9E\u4F8B\u8C03\u7528\u5230\u539F\u578B\u4E0A\u7684render\u65B9\u6CD5\u3002</p><p>\u200B 3.\u5C06render\u8FD4\u56DE\u7684\u865A\u62DFDOM\u8F6C\u4E3A\u771F\u5B9EDOM\uFF0C\u968F\u540E\u5448\u73B0\u5728\u9875\u9762\u4E2D\u3002</p><p>\u7EC4\u4EF6\u4E2D\u7684render\u662F\u653E\u5728\u54EA\u91CC\u7684\uFF1F</p><p>\u200B MyComponent\u7684\u539F\u578B\u5BF9\u8C61\u4E0A\uFF0C\u4F9B\u5B9E\u4F8B\u4F7F\u7528\u3002</p><p>\u7EC4\u4EF6\u4E2D\u7684render\u4E2D\u7684this\u662F\u8C01\uFF1F</p><p>\u200B MyComponent\u7684\u5B9E\u4F8B\u5BF9\u8C61 &lt;=&gt; MyComponent\u7EC4\u4EF6\u5B9E\u4F8B\u5BF9\u8C61\u3002</p></blockquote><h3 id="ii-\u6A21\u5757\u4E0E\u6A21\u5757\u5316" tabindex="-1"><a class="header-anchor" href="#ii-\u6A21\u5757\u4E0E\u6A21\u5757\u5316" aria-hidden="true">#</a> \u2161-\u6A21\u5757\u4E0E\u6A21\u5757\u5316</h3><h5 id="_1-\u6A21\u5757" tabindex="-1"><a class="header-anchor" href="#_1-\u6A21\u5757" aria-hidden="true">#</a> \u2460 \u6A21\u5757</h5><blockquote><ol><li>\u7406\u89E3:\u5411\u5916\u63D0\u4F9B\u7279\u5B9A\u529F\u80FD\u7684js\u7A0B\u5E8F,\u4E00\u822C\u5C31\u662F\u4E00\u4E2Ajs\u6587\u4EF6</li><li>\u4E3A\u4EC0\u4E48\u8981\u62C6\u6210\u6A21\u5757:\u968F\u7740\u4E1A\u52A1\u903B\u8F91\u589E\u52A0,\u4EE3\u7801\u8D8A\u6765\u8D8A\u591A\u4E14\u590D\u6742</li><li>\u4F5C\u7528:\u590D\u7528js,\u7B80\u5316js\u7684\u7F16\u5199,\u63D0\u9AD8js\u8FD0\u884C\u6548\u7387</li></ol></blockquote><h5 id="_2-\u6A21\u5757\u5316" tabindex="-1"><a class="header-anchor" href="#_2-\u6A21\u5757\u5316" aria-hidden="true">#</a> \u2461 \u6A21\u5757\u5316</h5><blockquote><p>\u5F53\u5E94\u7528\u7684js\u90FD\u4EE5\u6A21\u5757\u6765\u7F16\u5199,\u8FD9\u4E2A\u5E94\u7528\u5C31\u662F\u4E00\u4E2A\u6A21\u5757\u5316\u7684\u5E94\u7528</p></blockquote><h3 id="iii-\u7EC4\u4EF6\u4E0E\u7EC4\u4EF6\u5316" tabindex="-1"><a class="header-anchor" href="#iii-\u7EC4\u4EF6\u4E0E\u7EC4\u4EF6\u5316" aria-hidden="true">#</a> \u2162-\u7EC4\u4EF6\u4E0E\u7EC4\u4EF6\u5316</h3><h5 id="_1-\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-\u7EC4\u4EF6" aria-hidden="true">#</a> \u2460 \u7EC4\u4EF6</h5><blockquote><ol><li><p>\u7406\u89E3:\u7528\u6765\u5B9E\u73B0\u5C40\u90E8\u529F\u80FD\u6548\u679C\u7684\u4EE3\u7801\u548C\u8D44\u6E90\u7684\u96C6\u5408(html/css/js/img\u7B49\u7B49)</p></li><li><p>\u4E3A\u4EC0\u4E48\u8981\u7528\u7EC4\u4EF6:\u4E00\u4E2A\u754C\u9762\u7684\u529F\u80FD\u590D\u6742</p></li><li><p>\u4F5C\u7528:\u590D\u7528\u7F16\u7801,\u7B80\u5316\u9879\u76EE\u7F16\u7801,\u63D0\u9AD8\u8FD0\u884C\u6548\u7387</p></li></ol></blockquote><h5 id="_2-\u7EC4\u4EF6\u5316" tabindex="-1"><a class="header-anchor" href="#_2-\u7EC4\u4EF6\u5316" aria-hidden="true">#</a> \u2461 \u7EC4\u4EF6\u5316</h5><blockquote><p>\u5F53\u5E94\u7528\u662F\u4EE5\u591A\u7EC4\u4EF6\u7684\u65B9\u5F0F\u5B9E\u73B0,\u8FD9\u4E2A\u5E94\u7528\u5C31\u662F\u7EC4\u4EF6\u5316\u7684\u5E94\u7528</p></blockquote><h2 id="\u56DB\u3001react\u9762\u5411\u7EC4\u4EF6\u7F16\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u56DB\u3001react\u9762\u5411\u7EC4\u4EF6\u7F16\u7A0B" aria-hidden="true">#</a> \u56DB\u3001React\u9762\u5411\u7EC4\u4EF6\u7F16\u7A0B</h2><blockquote><ol><li>\u4F7F\u7528React\u5F00\u53D1\u8005\u5DE5\u5177\u8C03\u8BD5</li></ol><p><code>React Developer Tools</code></p><ol start="2"><li>\u6CE8\u610F</li></ol><p>a) \u7EC4\u4EF6\u540D\u5FC5\u987B\u662F\u9996\u5B57\u6BCD\u5927\u5199</p><p>b) \u865A\u62DFDOM\u5143\u7D20\u53EA\u80FD\u6709\u4E00\u4E2A\u6839\u5143\u7D20</p><p>c) \u865A\u62DFDOM\u5143\u7D20\u5FC5\u987B\u6709\u7ED3\u675F\u6807\u7B7E &lt; /&gt;</p><ol start="3"><li>\u6E32\u67D3\u7C7B\u7EC4\u4EF6\u6807\u7B7E\u7684\u57FA\u672C\u6D41\u7A0B</li></ol><p>a) React\u5185\u90E8\u4F1A\u521B\u5EFA\u7EC4\u4EF6\u5B9E\u4F8B\u5BF9\u8C61</p><p>b) \u8C03\u7528render()\u5F97\u5230\u865A\u62DFDOM,\u5E76\u89E3\u6790\u4E3A\u771F\u5B9EDOM</p><p>c) \u63D2\u5165\u5230\u6307\u5B9A\u7684\u9875\u9762\u5143\u7D20\u5185\u90E8</p></blockquote><h3 id="_1\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60271-state" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60271-state" aria-hidden="true">#</a> 1\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60271:state</h3><h5 id="_1-\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#_1-\u7406\u89E3" aria-hidden="true">#</a> \u2460 \u7406\u89E3</h5><blockquote><ol><li>state\u662F\u7EC4\u4EF6\u5BF9\u8C61\u6700\u91CD\u8981\u7684\u5C5E\u6027,\u503C\u662F\u5BF9\u8C61(\u53EF\u4EE5\u5305\u542B\u591A\u4E2Akey:value\u7684\u7EC4\u5408)</li><li>\u7EC4\u4EF6\u88AB\u79F0\u4E3A<code>\u72B6\u6001\u673A</code>,\u901A\u8FC7\u66F4\u65B0\u7EC4\u4EF6\u7684state\u6765\u66F4\u65B0\u5BF9\u5E94\u7684\u9875\u9762\u663E\u793A(\u91CD\u65B0\u6E32\u67D3\u7EC4\u4EF6)</li></ol></blockquote><h5 id="_2-\u5F3A\u70C8\u6CE8\u610F" tabindex="-1"><a class="header-anchor" href="#_2-\u5F3A\u70C8\u6CE8\u610F" aria-hidden="true">#</a> \u2461 \u5F3A\u70C8\u6CE8\u610F</h5><blockquote><ol><li><p>\u7EC4\u4EF6\u4E2D\u7684render\u65B9\u6CD5\u4E2D\u7684this\u4E3A\u7EC4\u4EF6\u5B9E\u4F8B\u5BF9\u8C61</p></li><li><p>\u7EC4\u4EF6\u81EA\u5B9A\u4E49\u65B9\u6CD5\u4E2Dthis\u4E3Aundefined,\u5982\u4F55\u89E3\u51B3?</p></li></ol><p>a) \u5F3A\u5236\u7ED1\u5B9Athis:\u901A\u8FC7\u51FD\u6570\u5BF9\u8C61\u7684bind()</p><p>b) \u7BAD\u5934\u51FD\u6570<code>\u63A8\u8350</code></p><ol start="3"><li>\u72B6\u6001\u6570\u636E,\u4E0D\u80FD\u76F4\u63A5\u4FEE\u6539\u6216\u8005\u66F4\u65B0</li></ol></blockquote><h5 id="_3\u4EE3\u7801\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_3\u4EE3\u7801\u793A\u4F8B" aria-hidden="true">#</a> \u2462\u4EE3\u7801\u793A\u4F8B</h5><h6 id="i-\u6B63\u5E38\u7684\u7528\u51FD\u6570\u5BF9\u8C61\u7684bind" tabindex="-1"><a class="header-anchor" href="#i-\u6B63\u5E38\u7684\u7528\u51FD\u6570\u5BF9\u8C61\u7684bind" aria-hidden="true">#</a> \u2160-\u6B63\u5E38\u7684\u7528\u51FD\u6570\u5BF9\u8C61\u7684bind()</h6><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>    <span class="token comment">//1.\u521B\u5EFA\u7EC4\u4EF6</span>
		<span class="token keyword">class</span> <span class="token class-name">Weather</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
			<span class="token comment">//\u6784\u9020\u5668\u8C03\u7528\u51E0\u6B21\uFF1F \u2014\u2014\u2014\u2014 1\u6B21</span>
			<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;constructor&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
				<span class="token comment">//\u521D\u59CB\u5316\u72B6\u6001</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">isHot</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">wind</span><span class="token operator">:</span><span class="token string">&#39;\u5FAE\u98CE&#39;</span><span class="token punctuation">}</span>
				<span class="token comment">//\u89E3\u51B3changeWeather\u4E2Dthis\u6307\u5411\u95EE\u9898,\u4E5F\u53EF\u4EE5\u5728\u8C03\u7528\u51FA\u76F4\u63A5\u4F7F\u7528</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>changeWeather <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeWeather</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//render\u8C03\u7528\u51E0\u6B21\uFF1F \u2014\u2014\u2014\u2014 1+n\u6B21 1\u662F\u521D\u59CB\u5316\u7684\u90A3\u6B21 n\u662F\u72B6\u6001\u66F4\u65B0\u7684\u6B21\u6570</span>
			<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;render&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//\u8BFB\u53D6\u72B6\u6001</span>
				<span class="token keyword">const</span> <span class="token punctuation">{</span>isHot<span class="token punctuation">,</span>wind<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
				<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeWeather<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u4ECA\u5929\u5929\u6C14\u5F88</span><span class="token punctuation">{</span>isHot <span class="token operator">?</span> <span class="token string">&#39;\u708E\u70ED&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;\u51C9\u723D&#39;</span><span class="token punctuation">}</span><span class="token plain-text">\uFF0C</span><span class="token punctuation">{</span>wind<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
			<span class="token punctuation">}</span>
			<span class="token comment">//changeWeather\u8C03\u7528\u51E0\u6B21\uFF1F \u2014\u2014\u2014\u2014 \u70B9\u51E0\u6B21\u8C03\u51E0\u6B21</span>
			<span class="token function">changeWeather</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token comment">//changeWeather\u653E\u5728\u54EA\u91CC\uFF1F \u2014\u2014\u2014\u2014 Weather\u7684\u539F\u578B\u5BF9\u8C61\u4E0A\uFF0C\u4F9B\u5B9E\u4F8B\u4F7F\u7528</span>
				<span class="token comment">//\u7531\u4E8EchangeWeather\u662F\u4F5C\u4E3AonClick\u7684\u56DE\u8C03\uFF0C\u6240\u4EE5\u4E0D\u662F\u901A\u8FC7\u5B9E\u4F8B\u8C03\u7528\u7684\uFF0C\u662F\u76F4\u63A5\u8C03\u7528</span>
				<span class="token comment">//\u7C7B\u4E2D\u7684\u65B9\u6CD5\u9ED8\u8BA4\u5F00\u542F\u4E86\u5C40\u90E8\u7684\u4E25\u683C\u6A21\u5F0F\uFF0C\u6240\u4EE5changeWeather\u4E2D\u7684this\u4E3Aundefined</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;changeWeather&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//\u83B7\u53D6\u539F\u6765\u7684isHot\u503C</span>
				<span class="token keyword">const</span> isHot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot
				<span class="token comment">//\u4E25\u91CD\u6CE8\u610F\uFF1A\u72B6\u6001\u5FC5\u987B\u901A\u8FC7setState\u8FDB\u884C\u66F4\u65B0,\u4E14\u66F4\u65B0\u662F\u4E00\u79CD\u5408\u5E76\uFF0C\u4E0D\u662F\u66FF\u6362\u3002</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">isHot</span><span class="token operator">:</span><span class="token operator">!</span>isHot<span class="token punctuation">}</span><span class="token punctuation">)</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">//\u4E25\u91CD\u6CE8\u610F\uFF1A\u72B6\u6001(state)\u4E0D\u53EF\u76F4\u63A5\u66F4\u6539\uFF0C\u4E0B\u9762\u8FD9\u884C\u5C31\u662F\u76F4\u63A5\u66F4\u6539\uFF01\uFF01\uFF01</span>
				<span class="token comment">//this.state.isHot = !isHot //\u8FD9\u662F\u9519\u8BEF\u7684\u5199\u6CD5</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//2.\u6E32\u67D3\u7EC4\u4EF6\u5230\u9875\u9762</span>
		ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Weather</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="ii-\u7B80\u5199\u65B9\u5F0F-\u8D4B\u503C\u8BED\u53E5\u7684\u5F62\u5F0F-\u7BAD\u5934\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#ii-\u7B80\u5199\u65B9\u5F0F-\u8D4B\u503C\u8BED\u53E5\u7684\u5F62\u5F0F-\u7BAD\u5934\u51FD\u6570" aria-hidden="true">#</a> \u2161-\u7B80\u5199\u65B9\u5F0F:\u8D4B\u503C\u8BED\u53E5\u7684\u5F62\u5F0F+\u7BAD\u5934\u51FD\u6570</h6><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	    <span class="token comment">//1.\u521B\u5EFA\u7EC4\u4EF6</span>
		<span class="token keyword">class</span> <span class="token class-name">Weather</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
			<span class="token comment">//\u521D\u59CB\u5316\u72B6\u6001</span>
			state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">isHot</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">wind</span><span class="token operator">:</span><span class="token string">&#39;\u5FAE\u98CE&#39;</span><span class="token punctuation">}</span>
			<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token keyword">const</span> <span class="token punctuation">{</span>isHot<span class="token punctuation">,</span>wind<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
				<span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeWeather<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u4ECA\u5929\u5929\u6C14\u5F88</span><span class="token punctuation">{</span>isHot <span class="token operator">?</span> <span class="token string">&#39;\u708E\u70ED&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;\u51C9\u723D&#39;</span><span class="token punctuation">}</span><span class="token plain-text">\uFF0C</span><span class="token punctuation">{</span>wind<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
			<span class="token punctuation">}</span>
			<span class="token comment">//\u81EA\u5B9A\u4E49\u65B9\u6CD5\u2014\u2014\u2014\u2014\u8981\u7528\u8D4B\u503C\u8BED\u53E5\u7684\u5F62\u5F0F+\u7BAD\u5934\u51FD\u6570</span>
			<span class="token function-variable function">changeWeather</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
				<span class="token keyword">const</span> isHot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isHot
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">isHot</span><span class="token operator">:</span><span class="token operator">!</span>isHot<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//2.\u6E32\u67D3\u7EC4\u4EF6\u5230\u9875\u9762</span>
		ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Weather</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60272-props" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60272-props" aria-hidden="true">#</a> 2\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60272:props</h3><h5 id="_1\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#_1\u7406\u89E3" aria-hidden="true">#</a> \u2460\u7406\u89E3</h5><blockquote><ol><li>\u6BCF\u4E2A\u7EC4\u4EF6\u5BF9\u8C61\u90FD\u4F1A\u6709props(properties\u7684\u7B80\u5199)\u5C5E\u6027</li><li>\u7EC4\u4EF6\u6807\u7B7E\u7684\u6240\u6709\u5C5E\u6027\u90FD\u4FDD\u5B58\u5728props\u4E2D</li></ol></blockquote><h5 id="_2-\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#_2-\u4F5C\u7528" aria-hidden="true">#</a> \u2461 \u4F5C\u7528</h5><blockquote><ol><li>\u901A\u8FC7\u6807\u7B7E\u5C5E\u6027\u4ECE\u7EC4\u4EF6\u5916\u5411\u7EC4\u4EF6\u5185\u4F20\u9012\u53D8\u5316\u7684\u6570\u636E</li><li>\u6CE8\u610F:\u7EC4\u4EF6\u5185\u90E8\u4E0D\u8981\u4FEE\u6539props\u6570\u636E</li></ol></blockquote><h5 id="_3\u4EE3\u7801\u793A\u4F8B-1" tabindex="-1"><a class="header-anchor" href="#_3\u4EE3\u7801\u793A\u4F8B-1" aria-hidden="true">#</a> \u2462\u4EE3\u7801\u793A\u4F8B:</h5><h6 id="i-\u7C7B\u7EC4\u4EF6\u4F7F\u7528props" tabindex="-1"><a class="header-anchor" href="#i-\u7C7B\u7EC4\u4EF6\u4F7F\u7528props" aria-hidden="true">#</a> \u2160-\u7C7B\u7EC4\u4EF6\u4F7F\u7528props</h6><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	<span class="token comment">//\u521B\u5EFA\u7EC4\u4EF6</span>
		<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
			<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				<span class="token comment">// console.log(this);</span>
				<span class="token keyword">const</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props
				<span class="token keyword">return</span> <span class="token punctuation">(</span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u59D3\u540D\uFF1A</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6027\u522B\uFF1A</span><span class="token punctuation">{</span>sex<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5E74\u9F84\uFF1A</span><span class="token punctuation">{</span>age<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
				<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//\u6E32\u67D3\u7EC4\u4EF6\u5230\u9875\u9762</span>
		ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jerry<span class="token punctuation">&quot;</span></span> <span class="token attr-name">age</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">19</span><span class="token punctuation">}</span></span>  <span class="token attr-name">sex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u7537<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tom<span class="token punctuation">&quot;</span></span> <span class="token attr-name">age</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">}</span></span> <span class="token attr-name">sex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u5973<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;\u8001\u5218&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&#39;\u5973&#39;</span><span class="token punctuation">}</span>
		<span class="token comment">// console.log(&#39;@&#39;,...p);</span>
		<span class="token comment">// ReactDOM.render(&lt;Person name={p.name} age={p.age} sex={p.sex}/&gt;,document.getElementById(&#39;test3&#39;))</span>
        <span class="token comment">//\u6B64\u5904\u4F7F\u7528\u8D4B\u503C\u89E3\u6784\u65B9\u5F0F,\u4F7F\u5F97\u4EE3\u7801\u66F4\u7B80\u6D01</span>
		ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>p<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="ii-\u51FD\u6570\u7EC4\u4EF6\u4F7F\u7528props" tabindex="-1"><a class="header-anchor" href="#ii-\u51FD\u6570\u7EC4\u4EF6\u4F7F\u7528props" aria-hidden="true">#</a> \u2161-\u51FD\u6570\u7EC4\u4EF6\u4F7F\u7528props</h6><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u521B\u5EFA\u7EC4\u4EF6</span>
		<span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">const</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">}</span> <span class="token operator">=</span> props
			<span class="token keyword">return</span> <span class="token punctuation">(</span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u59D3\u540D\uFF1A</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6027\u522B\uFF1A</span><span class="token punctuation">{</span>sex<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5E74\u9F84\uFF1A</span><span class="token punctuation">{</span>age<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
				<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
<span class="token comment">//\u6B64\u5904\u9650\u5236\u53EF\u4EE5\u6362\u6210typrScript</span>
		Person<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span> <span class="token comment">//\u9650\u5236name\u5FC5\u4F20\uFF0C\u4E14\u4E3A\u5B57\u7B26\u4E32</span>
			<span class="token literal-property property">sex</span><span class="token operator">:</span>PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">,</span><span class="token comment">//\u9650\u5236sex\u4E3A\u5B57\u7B26\u4E32</span>
			<span class="token literal-property property">age</span><span class="token operator">:</span>PropTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span><span class="token comment">//\u9650\u5236age\u4E3A\u6570\u503C</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//\u6307\u5B9A\u9ED8\u8BA4\u6807\u7B7E\u5C5E\u6027\u503C</span>
		Person<span class="token punctuation">.</span>defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&#39;\u7537&#39;</span><span class="token punctuation">,</span><span class="token comment">//sex\u9ED8\u8BA4\u503C\u4E3A\u7537</span>
			<span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span> <span class="token comment">//age\u9ED8\u8BA4\u503C\u4E3A18</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//\u6E32\u67D3\u7EC4\u4EF6\u5230\u9875\u9762</span>
		ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jerry<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;test1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60273-refs" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60273-refs" aria-hidden="true">#</a> 3\u3001\u7EC4\u4EF6\u4E09\u5927\u5C5E\u60273:refs</h3><h5 id="_1-\u7406\u89E3-1" tabindex="-1"><a class="header-anchor" href="#_1-\u7406\u89E3-1" aria-hidden="true">#</a> \u2460 \u7406\u89E3</h5><blockquote><p>\u7EC4\u4EF6\u5185\u7684\u6807\u7B7E\u53EF\u4EE5\u5B9A\u4E49ref\u6765\u6807\u8BC6\u81EA\u5DF1</p></blockquote><h5 id="_2-\u4EE3\u7801\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_2-\u4EE3\u7801\u793A\u4F8B" aria-hidden="true">#</a> \u2461 \u4EE3\u7801\u793A\u4F8B:</h5><h6 id="_1\u3001\u5B57\u7B26\u4E32\u5F62\u5F0F\u7684ref-\u4E0D\u63A8\u8350-\u5C06\u88AB\u6DD8\u6C70" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u5B57\u7B26\u4E32\u5F62\u5F0F\u7684ref-\u4E0D\u63A8\u8350-\u5C06\u88AB\u6DD8\u6C70" aria-hidden="true">#</a> 1\u3001\u5B57\u7B26\u4E32\u5F62\u5F0F\u7684ref(<code>\u4E0D\u63A8\u8350,\u5C06\u88AB\u6DD8\u6C70</code>)</h6><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u5C55\u793A\u5DE6\u4FA7\u8F93\u5165\u6846\u7684\u6570\u636E</span>
	<span class="token function-variable function">showData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>input1<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs
		<span class="token function">alert</span><span class="token punctuation">(</span>input1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u5C55\u793A\u53F3\u4FA7\u8F93\u5165\u6846\u7684\u6570\u636E</span>
	<span class="token function-variable function">showData2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>input2<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs
		<span class="token function">alert</span><span class="token punctuation">(</span>input2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u70B9\u51FB\u6309\u94AE\u63D0\u793A\u6570\u636E<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">&amp;nbsp;
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u70B9\u6211\u63D0\u793A\u5DE6\u4FA7\u7684\u6570\u636E</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData2<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u5931\u53BB\u7126\u70B9\u63D0\u793A\u6570\u636E<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2\u3001\u56DE\u8C03\u5F62\u5F0F\u7684ref" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u56DE\u8C03\u5F62\u5F0F\u7684ref" aria-hidden="true">#</a> 2\u3001\u56DE\u8C03\u5F62\u5F0F\u7684ref</h6><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**\u4E0B\u9762\u7684this\u6307\u7684\u662F\u7EC4\u4EF6\u5B9E\u4F8B,\u6211\u76F4\u63A5this.input1 = c \u610F\u601D\u662F\u7ED9\u5B9E\u4F8B\u4E0A\u7684input1\u8D4B\u503C,\u4E4B\u540E\u76F4\u63A5\u901A\u8FC7\u8C03\u7528\u6253\u5370\u5F97\u5230*/</span>
<span class="token comment">//\u5C55\u793A\u5DE6\u4FA7\u8F93\u5165\u6846\u7684\u6570\u636E</span>
	<span class="token function-variable function">showData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>input1<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
		<span class="token function">alert</span><span class="token punctuation">(</span>input1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token comment">//\u5C55\u793A\u53F3\u4FA7\u8F93\u5165\u6846\u7684\u6570\u636E</span>
	<span class="token function-variable function">showData2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>input2<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
		<span class="token function">alert</span><span class="token punctuation">(</span>input2<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>input1 <span class="token operator">=</span> c <span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u70B9\u51FB\u6309\u94AE\u63D0\u793A\u6570\u636E<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">&amp;nbsp;
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u70B9\u6211\u63D0\u793A\u5DE6\u4FA7\u7684\u6570\u636E</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData2<span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>input2 <span class="token operator">=</span> c <span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u5931\u53BB\u7126\u70B9\u63D0\u793A\u6570\u636E<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">&amp;nbsp;
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_3\u3001createref\u521B\u5EFAref\u5BB9\u5668\u6700\u63A8\u8350\u7684" tabindex="-1"><a class="header-anchor" href="#_3\u3001createref\u521B\u5EFAref\u5BB9\u5668\u6700\u63A8\u8350\u7684" aria-hidden="true">#</a> 3\u3001createRef\u521B\u5EFAref\u5BB9\u5668<code>\u6700\u63A8\u8350\u7684</code></h6><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/*React.createRef\u8C03\u7528\u540E\u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u5BB9\u5668\uFF0C\u8BE5\u5BB9\u5668\u53EF\u4EE5\u5B58\u50A8\u88ABref\u6240\u6807\u8BC6\u7684\u8282\u70B9,\u8BE5\u5BB9\u5668\u662F\u201C\u4E13\u4EBA\u4E13\u7528\u201D\u7684*/</span>
myRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
myRef2 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//\u5C55\u793A\u5DE6\u4FA7\u8F93\u5165\u6846\u7684\u6570\u636E</span>
<span class="token function-variable function">showData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u5C55\u793A\u53F3\u4FA7\u8F93\u5165\u6846\u7684\u6570\u636E</span>
<span class="token function-variable function">showData2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef2<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span><span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u70B9\u51FB\u6309\u94AE\u63D0\u793A\u6570\u636E<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">&amp;nbsp;
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u70B9\u6211\u63D0\u793A\u5DE6\u4FA7\u7684\u6570\u636E</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onBlur</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>showData2<span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef2<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u5931\u53BB\u7126\u70B9\u63D0\u793A\u6570\u636E<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">&amp;nbsp;
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4\u3001\u4E8B\u4EF6\u5904\u7406\u4E0E\u6536\u96C6\u8868\u5355\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u4E8B\u4EF6\u5904\u7406\u4E0E\u6536\u96C6\u8868\u5355\u6570\u636E" aria-hidden="true">#</a> 4\u3001\u4E8B\u4EF6\u5904\u7406\u4E0E\u6536\u96C6\u8868\u5355\u6570\u636E</h3><h4 id="i-\u4E8B\u4EF6\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#i-\u4E8B\u4EF6\u5904\u7406" aria-hidden="true">#</a> \u2160-\u4E8B\u4EF6\u5904\u7406</h4><blockquote><ol><li>\u901A\u8FC7onXxx\u5C5E\u6027\u6307\u5B9A\u4E8B\u4EF6\u5904\u7406\u51FD\u6570(\u6CE8\u610F\u5927\u5C0F\u5199)</li></ol><p>a)React\u4F7F\u7528\u7684\u662F\u81EA\u5B9A\u4E49(\u5408\u6210\u4E8B\u4EF6,\u800C\u4E0D\u662F\u4F7F\u7528\u7684\u539F\u751FDOM\u4E8B\u4EF6) ----\u4E3A\u4E86\u66F4\u597D\u7684\u517C\u5BB9\u6027</p><p>b)React\u4E2D\u7684\u4E8B\u4EF6\u662F\u901A\u8FC7\u4E8B\u4EF6\u59D4\u6258\u7684\u65B9\u5F0F\u5904\u7406\u7684(\u59D4\u6258\u7ED9\u7EC4\u4EF6\u6700\u5916\u5C42\u7684\u5143\u7D20)----\u4E3A\u4E86\u66F4\u9AD8\u6548</p><ol start="2"><li>\u901A\u8FC7event.target\u5F97\u5230\u53D1\u751F\u4E8B\u4EF6\u7684DOM\u5143\u7D20\u5BF9\u8C61 -----\u4E0D\u8981\u8FC7\u5EA6\u4F7F\u7528ref</li></ol></blockquote><h4 id="ii-\u8868\u5355\u7EC4\u4EF6\u7684\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#ii-\u8868\u5355\u7EC4\u4EF6\u7684\u5206\u7C7B" aria-hidden="true">#</a> \u2161-\u8868\u5355\u7EC4\u4EF6\u7684\u5206\u7C7B</h4><blockquote><p>\u5C31\u5F62\u5F0F\u4E0A\u6765\u8BF4\uFF0C<strong><code>\u53D7\u63A7\u7EC4\u4EF6</code>\u5C31\u662F\u4E3A\u67D0\u4E2Aform\u8868\u5355\u7EC4\u4EF6\u6DFB\u52A0<code>value</code>\u5C5E\u6027\uFF1B<code>\u975E\u53D7\u63A7\u7EC4\u4EF6</code>\u5C31\u662F\u6CA1\u6709\u6DFB\u52A0<code>value</code>\u5C5E\u6027\u7684\u7EC4\u4EF6</strong></p></blockquote><h5 id="_1\u3001\u53D7\u63A7\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u53D7\u63A7\u7EC4\u4EF6" aria-hidden="true">#</a> 1\u3001\u53D7\u63A7\u7EC4\u4EF6</h5><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token comment">//\u521D\u59CB\u5316\u72B6\u6001</span>
	<span class="token literal-property property">username</span><span class="token operator">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token comment">//\u7528\u6237\u540D</span>
	<span class="token literal-property property">password</span><span class="token operator">:</span><span class="token string">&#39;&#39;</span> <span class="token comment">//\u5BC6\u7801</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u4FDD\u5B58\u7528\u6237\u540D\u5230\u72B6\u6001\u4E2D</span>
<span class="token function-variable function">saveUsername</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u4FDD\u5B58\u5BC6\u7801\u5230\u72B6\u6001\u4E2D</span>
<span class="token function-variable function">savePassword</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">password</span><span class="token operator">:</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u8868\u5355\u63D0\u4EA4\u7684\u56DE\u8C03</span>
<span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u963B\u6B62\u8868\u5355\u63D0\u4EA4</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span>username<span class="token punctuation">,</span>password<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u4F60\u8F93\u5165\u7684\u7528\u6237\u540D\u662F\uFF1A</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,\u4F60\u8F93\u5165\u7684\u5BC6\u7801\u662F\uFF1A</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>password<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span><span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			\u7528\u6237\u540D\uFF1A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>saveUsername<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			\u5BC6\u7801\uFF1A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>savePassword<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u767B\u5F55</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2\u3001\u975E\u53D7\u63A7\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u975E\u53D7\u63A7\u7EC4\u4EF6" aria-hidden="true">#</a> 2\u3001\u975E\u53D7\u63A7\u7EC4\u4EF6</h5><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u963B\u6B62\u8868\u5355\u63D0\u4EA4</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>username<span class="token punctuation">,</span>password<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u4F60\u8F93\u5165\u7684\u7528\u6237\u540D\u662F\uFF1A</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>username<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,\u4F60\u8F93\u5165\u7684\u5BC6\u7801\u662F\uFF1A</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>password<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				\u7528\u6237\u540D\uFF1A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> c<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				\u5BC6\u7801\uFF1A</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> c<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u767B\u5F55</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5\u3001\u9AD8\u9636\u51FD\u6570\u4E0E\u51FD\u6570\u67EF\u91CC\u5316" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u9AD8\u9636\u51FD\u6570\u4E0E\u51FD\u6570\u67EF\u91CC\u5316" aria-hidden="true">#</a> 5\u3001\u9AD8\u9636\u51FD\u6570\u4E0E\u51FD\u6570\u67EF\u91CC\u5316</h3><h5 id="_1-\u9AD8\u9636\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_1-\u9AD8\u9636\u51FD\u6570" aria-hidden="true">#</a> \u2460 \u9AD8\u9636\u51FD\u6570:</h5><blockquote><p>\u5982\u679C\u4E00\u4E2A\u51FD\u6570\u7B26\u5408\u4E0B\u9762\u4E24\u4E2A\u89C4\u8303\u4E2D\u7684\u4EFB\u4F55\u4E00\u4E2A,\u90A3\u8BE5\u51FD\u6570\u5C31\u662F\u9AD8\u9636\u51FD\u6570</p><ol><li>\u82E5A\u51FD\u6570,\u63A5\u53D7\u7684\u53C2\u6570\u662F\u4E00\u4E2A\u51FD\u6570,\u90A3\u4E48A\u5C31\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u9AD8\u9636\u51FD\u6570</li><li>\u82E5A\u51FD\u6570,\u8C03\u7528\u7684\u8FD4\u56DE\u503C\u4F9D\u7136\u662F\u4E00\u4E2A\u51FD\u6570,\u90A3\u4E48A\u5C31\u53EF\u4EE5\u79F0\u4E4B\u4E3A\u9AD8\u9636\u51FD\u6570</li></ol><p>\u5E38\u89C1\u7684\u9AD8\u9636\u51FD\u6570\u6709:Promise\u3001setTimeout\u3001arr.map()\u7B49\u7B49</p></blockquote><h5 id="_2-\u51FD\u6570\u7684\u67EF\u91CC\u5316" tabindex="-1"><a class="header-anchor" href="#_2-\u51FD\u6570\u7684\u67EF\u91CC\u5316" aria-hidden="true">#</a> \u2461 \u51FD\u6570\u7684\u67EF\u91CC\u5316</h5><blockquote><p>\u901A\u8FC7\u51FD\u6570\u8C03\u7528\u7EE7\u7EED\u8FD4\u56DE\u51FD\u6570\u7684\u65B9\u5F0F,\u5B9E\u73B0\u5BF9\u6B64\u63A5\u53D7\u53C2\u6570\u6700\u540E\u7EDF\u4E00\u5904\u7406\u7684\u51FD\u6570\u7F16\u7801\u5F62\u5F0F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token parameter">c</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><h5 id="_3-\u4E0D\u7528\u51FD\u6570\u67EF\u91CC\u5316\u5B9E\u73B0\u4E8B\u4EF6\u7684\u7ED1\u5B9A" tabindex="-1"><a class="header-anchor" href="#_3-\u4E0D\u7528\u51FD\u6570\u67EF\u91CC\u5316\u5B9E\u73B0\u4E8B\u4EF6\u7684\u7ED1\u5B9A" aria-hidden="true">#</a> \u2462 \u4E0D\u7528\u51FD\u6570\u67EF\u91CC\u5316\u5B9E\u73B0\u4E8B\u4EF6\u7684\u7ED1\u5B9A</h5><blockquote><p>\u76F4\u63A5\u4F7F\u7528\u56DE\u8C03\u51FD\u6570,\u56E0\u4E3A\u4ED6\u672C\u8EAB\u5C31\u662F\u4EE5\u4E00\u4E2A\u51FD\u6570\u4E3A\u8FD4\u56DE\u503C</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">event</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveFormData</span><span class="token punctuation">(</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span>event<span class="token punctuation">)</span> <span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><h2 id="\u4E94\u3001\u751F\u547D\u5468\u671F" tabindex="-1"><a class="header-anchor" href="#\u4E94\u3001\u751F\u547D\u5468\u671F" aria-hidden="true">#</a> \u4E94\u3001\u751F\u547D\u5468\u671F</h2><blockquote><ol><li>\u7EC4\u4EF6\u4ECE\u521B\u5EFA\u5230\u6B7B\u4EA1\u5B83\u4F1A\u7ECF\u5386\u4E00\u4E9B\u7279\u5B9A\u7684\u9636\u6BB5</li><li>React\u7EC4\u4EF6\u4E2D\u5305\u542B\u4E00\u7CFB\u5217\u94A9\u5B50\u51FD\u6570(\u751F\u547D\u5468\u671F\u56DE\u8C03\u51FD\u6570),\u4F1A\u5728\u7279\u5B9A\u7684\u65F6\u523B\u8C03\u7528</li><li>\u6211\u4EEC\u5728\u5B9A\u4E49\u7EC4\u4EF6\u65F6,\u4F1A\u5728\u7279\u5B9A\u7684\u751F\u547D\u5468\u671F\u56DE\u8C03\u51FD\u6570\u4E2D,\u505A\u7279\u5B9A\u7684\u5DE5\u4F5C</li></ol></blockquote><h3 id="_1\u3001react\u751F\u547D\u5468\u671F-\u65E7" tabindex="-1"><a class="header-anchor" href="#_1\u3001react\u751F\u547D\u5468\u671F-\u65E7" aria-hidden="true">#</a> 1\u3001React\u751F\u547D\u5468\u671F(\u65E7)</h3><blockquote><p>\u5404\u4E2A\u751F\u547D\u5468\u671F\u94A9\u5B50\u8C03\u7528\u987A\u5E8F</p><ol><li><p>\u521D\u59CB\u5316\u9636\u6BB5:\u7531ReactDOM.render()\u89E6\u53D1 --\u521D\u6B21\u6E32\u67D3</p><ul><li><p>constructor()</p></li><li><p>compinentWillMount()</p></li><li><p>render()</p></li><li><p>componentDidMount() ==&gt;<code>\u5E38\u7528</code> \u7EC4\u4EF6\u5C06\u8981\u6E32\u67D3</p></li></ul><p>\u4E00\u822C\u5728\u8FD9\u4E2A\u94A9\u5B50\u4E2D\u505A\u4E00\u4E9B\u521D\u59CB\u5316\u7684\u4E8B\u60C5,\u5982:\u5F00\u542F\u5B9A\u65F6\u5668,\u53D1\u9001\u7F51\u7EDC\u8BF7\u6C42,\u8BA2\u9605\u6D88\u606F\u7B49</p></li><li><p>\u66F4\u65B0\u9636\u6BB5:\u7531\u7EC4\u4EF6\u5185\u90E8\u7684this.setState()\u6216\u8005\u7236\u7EC4\u4EF6\u7684render\u89E6\u53D1</p><ul><li>shouldComponentUpdate() \u7EC4\u4EF6\u5E94\u8BE5\u66F4\u65B0</li><li>componentWillUpdate() \u7EC4\u4EF6\u5C06\u8981\u66F4\u65B0</li><li>render() ===&gt;<code>\u5FC5\u987B\u4F7F\u7528</code>\u7684\u4E00\u4E2A</li><li>componentDidUpdate() \u7EC4\u4EF6\u5C06\u8981\u66F4\u65B0</li></ul></li><li><p>\u5378\u8F7D\u7EC4\u4EF6:\u7531ReactDOM.unmountComponentAtNode(<code>\u5378\u8F7D\u8282\u70B9\u4E0A\u7684\u7EC4\u4EF6</code>)\u89E6\u53D1</p><ul><li>componentWillUnmount() ===&gt;<code>\u5E38\u7528</code> \u7EC4\u4EF6\u5C06\u8981\u5378\u8F7D</li></ul><p>\u4E00\u822C\u5728\u8FD9\u4E2A\u94A9\u5B50\u4E2D\u505A\u4E00\u4E9B\u9996\u4F4D\u7684\u4E8B\u60C5,\u5982:\u5173\u95ED\u5B9A\u65F6\u5668,\u53D6\u6D88\u8BA2\u9605\u7B49</p></li></ol></blockquote><h3 id="_2\u3001react\u751F\u547D\u5468\u671F-\u65B0" tabindex="-1"><a class="header-anchor" href="#_2\u3001react\u751F\u547D\u5468\u671F-\u65B0" aria-hidden="true">#</a> 2\u3001React\u751F\u547D\u5468\u671F(\u65B0)</h3><blockquote><ol><li><p>\u521D\u59CB\u5316\u9636\u6BB5:\u7531ReactDOM.render()\u89E6\u53D1 ---\u521D\u6B21\u6E32\u67D3</p><ul><li>constructor()</li><li>getDerivedStateFromProps() \u4ECEProps\u83B7\u5F97\u6D3E\u751F\u72B6\u6001</li><li>render()</li><li>componentDidMount() ====&gt;<code>\u5E38\u7528</code></li></ul></li><li><p>\u66F4\u65B0\u9636\u6BB5:\u7531\u7EC4\u4EF6\u5185\u90E8\u7684this.setState()\u6216\u8005\u7236\u7EC4\u4EF6\u7684render\u89E6\u53D1</p><ul><li>getDerivedStateFromProps() \u4ECEProps\u83B7\u5F97\u6D3E\u751F\u72B6\u6001</li><li>shouldComponentUpdate() \u7EC4\u4EF6\u5E94\u8BE5\u66F4\u65B0</li><li>render()</li><li>getSnapshotBeforeUpdate() \u5728\u66F4\u65B0\u524D\u83B7\u5F97\u5FEB\u7167</li><li>componentDidUpdate()</li></ul></li><li><p>\u5378\u8F7D\u7EC4\u4EF6:\u7531ReactDOM.unmountComponentAtNode()\u89E6\u53D1</p><ul><li>componentWillUnmount() ===&gt;<code>\u5E38\u7528</code></li></ul><p>\u4E00\u822C\u5728\u8FD9\u4E2A\u94A9\u5B50\u4E2D\u505A\u4E00\u4E9B\u6536\u5C3E\u7684\u4E8B\u60C5,\u5982:\u5173\u95ED\u5B9A\u65F6\u5668\u3001\u53D6\u6D88\u8BA2\u9605\u6D88\u606F</p></li></ol></blockquote><h3 id="_3\u3001\u91CD\u8981\u7684\u94A9\u5B50" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u91CD\u8981\u7684\u94A9\u5B50" aria-hidden="true">#</a> 3\u3001\u91CD\u8981\u7684\u94A9\u5B50</h3><blockquote><ol><li>render:\u521D\u59CB\u5316\u6E32\u67D3\u6216\u8005\u66F4\u65B0\u6E32\u67D3\u8C03\u7528</li><li>componentDidMount() :\u5F00\u542F\u76D1\u542C,\u53D1\u9001ajax\u8BF7\u6C42</li><li>componentWillUnmount(): \u505A\u4E00\u4E9B\u6536\u5C3E\u5DE5\u4F5C,\u5982:\u6E05\u7406\u5B9A\u65F6\u5668</li></ol></blockquote><h3 id="_4\u3001\u5373\u5C06\u5E9F\u5F03\u7684\u94A9\u5B50" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5373\u5C06\u5E9F\u5F03\u7684\u94A9\u5B50" aria-hidden="true">#</a> 4\u3001\u5373\u5C06\u5E9F\u5F03\u7684\u94A9\u5B50</h3><blockquote><ol><li>componentWillMount</li><li>componentWillReceiveProps</li><li>componentWillUpdate</li></ol><p><code>ps</code>:\u73B0\u5728\u4F7F\u7528\u4F1A\u51FA\u73B0\u8B66\u544A,\u4E4B\u540E\u7248\u672C\u53EF\u80FD\u9700\u8981\u52A0\u4E0AUNSAFE_\u524D\u7F00\u624D\u80FD\u4F7F\u7528,\u4EE5\u540E\u53EF\u80FD\u4F1A\u88AB\u5F7B\u5E95\u5E9F\u5F03,\u4E0D\u5EFA\u8BAE\u4F7F\u7528</p><p>\u63A8\u6D4BReact\u56E2\u961F\u8BA4\u4E3A\u63D0\u9AD8\u4F7F\u7528\u6210\u672C\u5C06\u4F1A\u95F4\u63A5\u5F71\u54CD\u6211\u4EEC,\u8BA9\u6211\u4EEC\u53BB\u9002\u5E94\u65B0\u7684\u94A9\u5B50,\u6240\u4EE5\u52A0\u4E0A\u8FD9\u4E2A</p></blockquote><h2 id="\u516D\u3001react-vue\u4E2D\u7684key" tabindex="-1"><a class="header-anchor" href="#\u516D\u3001react-vue\u4E2D\u7684key" aria-hidden="true">#</a> \u516D\u3001react/vue\u4E2D\u7684key</h2><blockquote><p>\u7ECF\u5178\u9762\u8BD5\u9898:</p><p>1). react/vue\u4E2D\u7684key\u6709\u4EC0\u4E48\u4F5C\u7528\uFF1F\uFF08key\u7684\u5185\u90E8\u539F\u7406\u662F\u4EC0\u4E48\uFF1F\uFF09</p><p>2). \u4E3A\u4EC0\u4E48\u904D\u5386\u5217\u8868\u65F6\uFF0Ckey\u6700\u597D\u4E0D\u8981\u7528index?</p></blockquote><h5 id="_1-\u865A\u62DFdom\u4E2Dkey\u7684\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#_1-\u865A\u62DFdom\u4E2Dkey\u7684\u4F5C\u7528" aria-hidden="true">#</a> \u2460 \u865A\u62DFDOM\u4E2Dkey\u7684\u4F5C\u7528:</h5><blockquote><ol><li><p>\u7B80\u5355\u7684\u8BF4:key\u662F\u865A\u62DFDOM\u5BF9\u8C61\u7684\u6807\u8BC6,\u5728\u66F4\u65B0\u663E\u793A\u65F6key\u8D77\u7740\u6781\u5176\u91CD\u8981\u7684\u4F5C\u7528</p></li><li><p>\u8BE6\u7EC6\u7684\u8BF4:\u5F53\u72B6\u6001\u5F53\u4E2D\u7684\u6570\u636E\u53D1\u751F\u53D8\u5316\u65F6,react\u4F1A\u6839\u636E<code>\u65B0\u6570\u636E</code>\u751F\u6210<code>\u65B0\u7684\u865A\u62DFDOM</code>,\u968F\u540EReact\u8FDB\u884C<code>\u65B0\u865A\u62DFDOM</code>\u4E0E<code>\u65E7\u865A\u62DFDOM</code>\u7684diff\u6BD4\u8F83,\u6BD4\u8F83\u89C4\u5219\u5982\u4E0B:</p></li><li><p>\u65E7\u865A\u62DFDOM\u4E2D\u627E\u5230\u4E86\u4E0E\u65B0\u865A\u62DFDOM\u76F8\u540C\u7684key\uFF1A</p><p>a)\u82E5\u865A\u62DFDOM\u4E2D\u5185\u5BB9\u6CA1\u53D8,\u76F4\u63A5\u4F7F\u7528\u4E4B\u524D\u7684\u771F\u5B9EDOM</p><p>b)\u82E5\u865A\u62DFDON\u4E2D\u7684\u5185\u5BB9\u53D8\u4E86,\u5219\u751F\u6210\u65B0\u7684\u771F\u5B9EDOM,\u968F\u540E\u66FF\u6362\u6389\u9875\u9762\u4E2D\u4E4B\u524D\u7684\u771F\u5B9EDOM</p></li><li><p>\u65E7\u865A\u62DFDOM\u4E2D\u672A\u627E\u5230\u4E0E\u65B0\u865A\u62DFDOM\u76F8\u540C\u7684key</p><p>\u6839\u636E\u6570\u636E\u521B\u5EFA\u65B0\u7684\u771F\u5B9EDOM,\u968F\u540E\u6E32\u67D3\u5230\u9875\u9762</p></li></ol></blockquote><h5 id="_2-\u7528index\u4F5C\u4E3Akey\u53EF\u80FD\u4F1A\u5F15\u53D1\u7684\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_2-\u7528index\u4F5C\u4E3Akey\u53EF\u80FD\u4F1A\u5F15\u53D1\u7684\u95EE\u9898" aria-hidden="true">#</a> \u2461 \u7528index\u4F5C\u4E3Akey\u53EF\u80FD\u4F1A\u5F15\u53D1\u7684\u95EE\u9898:</h5><blockquote><ol><li>\u82E5\u5BF9\u6570\u636E\u8FDB\u884C:\u9006\u5E8F\u6DFB\u52A0,\u9006\u5E8F\u5220\u9664\u7B49\u7834\u574F\u987A\u5E8F\u64CD\u4F5C:</li></ol><p>\u4F1A\u4EA7\u751F\u6CA1\u6709\u5FC5\u8981\u7684\u771F\u5B9EDOM\u66F4\u65B0 ==&gt;\u754C\u9762\u6548\u679C\u6CA1\u95EE\u9898,\u4F46\u662F\u6548\u7387\u4F4E</p><ol start="2"><li>\u5982\u679C\u7ED3\u6784\u4E2D\u8FD8\u5305\u542B\u8F93\u5165\u7C7B\u7684DOM:</li></ol><p>\u4F1A\u4EA7\u751F\u9519\u8BEFDOM\u66F4\u65B0 ===&gt;\u754C\u9762\u6709\u95EE\u9898</p><ol start="3"><li>\u6CE8\u610F:</li></ol><p>\u5982\u679C\u4E0D\u5B58\u5728\u5BF9\u6570\u636E\u7684\u9006\u5E8F\u6DFB\u52A0\u3001\u9006\u5E8F\u5220\u9664\u7B49\u7834\u574F\u987A\u5E8F\u64CD\u4F5C,\u4EC5\u7528\u4E8E\u6E32\u67D3\u5217\u8868\u7528\u4E8E\u5C55\u793A,\u4F7F\u7528index\u4F5C\u4E3Akey\u662F\u6CA1\u6709\u95EE\u9898\u7684</p></blockquote><h5 id="_3-\u5F00\u53D1\u4E2D\u5982\u4F55\u9009\u62E9key" tabindex="-1"><a class="header-anchor" href="#_3-\u5F00\u53D1\u4E2D\u5982\u4F55\u9009\u62E9key" aria-hidden="true">#</a> \u2462 \u5F00\u53D1\u4E2D\u5982\u4F55\u9009\u62E9key?</h5><blockquote><ol><li>\u6700\u597D\u4F7F\u7528\u6BCF\u6761\u6570\u636E\u7684\u552F\u4E00\u6807\u8BC6\u4F5C\u4E3Akey,\u6BD4\u5982id,\u624B\u673A\u53F7,\u8EAB\u4EFD\u8BC1\u53F7,\u5B66\u53F7\u7B49</li><li>\u5982\u679C\u786E\u5B9A\u53EA\u662F\u7B80\u5355\u7684\u5C55\u793A\u8BD7\u53E5,\u7528index\u4E5F\u662F\u53EF\u4EE5\u7684</li></ol></blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">//\u6162\u52A8\u4F5C\u56DE\u653E----\u4F7F\u7528index\u7D22\u5F15\u503C\u4F5C\u4E3Akey</span>
		\u521D\u59CB\u6570\u636E\uFF1A
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u5F20&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u674E&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		\u521D\u59CB\u7684\u865A\u62DFDOM\uFF1A
				&lt;li key=<span class="token number">0</span>&gt;\u5C0F\u5F20--<span class="token number">-18</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;
				&lt;li key=<span class="token number">1</span>&gt;\u5C0F\u674E--<span class="token number">-19</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;

		\u66F4\u65B0\u540E\u7684\u6570\u636E\uFF1A
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u738B&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u5F20&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u674E&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		\u66F4\u65B0\u6570\u636E\u540E\u7684\u865A\u62DFDOM\uFF1A
				&lt;li key=<span class="token number">0</span>&gt;\u5C0F\u738B--<span class="token number">-20</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;
				&lt;li key=<span class="token number">1</span>&gt;\u5C0F\u5F20--<span class="token number">-18</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;
				&lt;li key=<span class="token number">2</span>&gt;\u5C0F\u674E--<span class="token number">-19</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;

-----------------------------------------------------------------

<span class="token comment">//\u6162\u52A8\u4F5C\u56DE\u653E----\u4F7F\u7528id\u552F\u4E00\u6807\u8BC6\u4F5C\u4E3Akey</span>

		\u521D\u59CB\u6570\u636E\uFF1A
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u5F20&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u674E&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		\u521D\u59CB\u7684\u865A\u62DFDOM\uFF1A
				&lt;li key=<span class="token number">1</span>&gt;\u5C0F\u5F20--<span class="token number">-18</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;
				&lt;li key=<span class="token number">2</span>&gt;\u5C0F\u674E--<span class="token number">-19</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;

		\u66F4\u65B0\u540E\u7684\u6570\u636E\uFF1A
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u738B&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u5F20&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{</span>id<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>name<span class="token operator">:</span>&#39;\u5C0F\u674E&#39;<span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		\u66F4\u65B0\u6570\u636E\u540E\u7684\u865A\u62DFDOM\uFF1A
				&lt;li key=<span class="token number">3</span>&gt;\u5C0F\u738B--<span class="token number">-20</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;
				&lt;li key=<span class="token number">1</span>&gt;\u5C0F\u5F20--<span class="token number">-18</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;
				&lt;li key=<span class="token number">2</span>&gt;\u5C0F\u674E--<span class="token number">-19</span>&lt;input type=<span class="token string">&quot;text&quot;</span>/&gt;&lt;/li&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="ii-react\u811A\u624B\u67B6" tabindex="-1"><a class="header-anchor" href="#ii-react\u811A\u624B\u67B6" aria-hidden="true">#</a> \u2161-React\u811A\u624B\u67B6</h1><blockquote><ol><li>xxx\u811A\u624B\u67B6:\u7528\u6765\u5E2E\u52A9\u7A0B\u5E8F\u539F\u5FEB\u901F\u521B\u5EFA\u4E00\u4E2A\u57FA\u4E8Exxx\u5E93\u7684\u6A21\u677F\u9879\u76EE</li></ol><p>a) \u5305\u542B\u4E86\u6240\u6709\u9700\u8981\u7684\u914D\u7F6E(\u8BED\u6CD5\u68C0\u67E5,jsx\u7F16 \u8BD1,devServer...)</p><p>b)\u4E0B\u8F7D\u597D\u4E86\u6240\u6709\u76F8\u5173\u7684\u4F9D\u8D56</p><p>c) \u53EF\u4EE5\u76F4\u63A5\u8FD0\u884C\u4E00\u4E2A\u7B80\u5355\u6548\u679C</p><ol start="2"><li><p>react\u63D0\u4F9B\u4E86\u4E00\u4E2A\u7528\u4E8E\u521B\u5EFAreact\u9879\u76EE\u7684\u811A\u624B\u67B6\u5E93:create-react-app</p></li><li><p>\u9879\u76EE\u7684\u6574\u4F53\u6280\u672F\u67B6\u6784\u4E3A:react+webpack+es6+eslint</p></li><li><p>\u4F7F\u7528\u811A\u624B\u67B6\u5F00\u53D1\u7684\u9879\u76EE\u7684\u7279\u70B9:\u6A21\u5757\u5316,\u7EC4\u4EF6\u5316,\u5DE5\u7A0B\u5316</p></li></ol><p>\u6B64\u5904\u9700\u8981webpack \u76F8\u5173\u77E5\u8BC6\u70B9,\u6211\u5148\u53BB\u5B66\u4E60\u76F8\u5173\u77E5\u8BC6\u5148(2-3\u665A)</p></blockquote><h3 id="_1\u3001\u521B\u5EFA\u9879\u76EE\u5E76\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u521B\u5EFA\u9879\u76EE\u5E76\u542F\u52A8" aria-hidden="true">#</a> 1\u3001\u521B\u5EFA\u9879\u76EE\u5E76\u542F\u52A8</h3><blockquote><ol><li><p>\u5168\u5C40\u5B89\u88C5:<code>npm i -g create-react-app</code></p></li><li><p>\u5207\u6362\u5230\u60F3\u521B\u5EFA\u9879\u76EE\u7684\u76EE\u5F55,\u4F7F\u7528\u547D\u4EE4:<code>create-react-arr hello-react</code></p></li><li><p>\u8FDB\u5165\u9879\u76EE\u6587\u4EF6\u5939</p></li><li><p>\u542F\u52A8\u9879\u76EE:<code>npm start</code></p></li></ol></blockquote><h3 id="_2\u3001react\u811A\u624B\u67B6\u9879\u76EE\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#_2\u3001react\u811A\u624B\u67B6\u9879\u76EE\u7ED3\u6784" aria-hidden="true">#</a> 2\u3001react\u811A\u624B\u67B6\u9879\u76EE\u7ED3\u6784</h3><blockquote><p>public ---- \u9759\u6001\u8D44\u6E90\u6587\u4EF6\u5939</p><p>\u200B favicon.icon ------ \u7F51\u7AD9\u9875\u7B7E\u56FE\u6807</p><p>\u200B <strong>index.html --------</strong> <strong>\u4E3B\u9875\u9762</strong></p><p>\u200B logo192.png ------- logo\u56FE</p><p>\u200B logo512.png ------- logo\u56FE</p><p>\u200B manifest.json ----- \u5E94\u7528\u52A0\u58F3\u7684\u914D\u7F6E\u6587\u4EF6</p><p>\u200B robots.txt -------- \u722C\u866B\u534F\u8BAE\u6587\u4EF6</p><p>src ---- \u6E90\u7801\u6587\u4EF6\u5939</p><p>\u200B App.css -------- App\u7EC4\u4EF6\u7684\u6837\u5F0F</p><p>\u200B <strong>App.js --------- App****\u7EC4\u4EF6</strong></p><p>\u200B App.test.js ---- \u7528\u4E8E\u7ED9App\u505A\u6D4B\u8BD5</p><p>\u200B index.css ------ \u6837\u5F0F</p><p>\u200B <strong>index.js -------</strong> <strong>\u5165\u53E3\u6587\u4EF6</strong></p><p>\u200B logo.svg ------- logo\u56FE</p><p>\u200B reportWebVitals.js</p><p>\u200B --- \u9875\u9762\u6027\u80FD\u5206\u6790\u6587\u4EF6(\u9700\u8981web-vitals\u5E93\u7684\u652F\u6301)</p><p>\u200B setupTests.js</p><p>\u200B ---- \u7EC4\u4EF6\u5355\u5143\u6D4B\u8BD5\u7684\u6587\u4EF6(\u9700\u8981jest-dom\u5E93\u7684\u652F\u6301)</p></blockquote><h3 id="_3\u3001\u529F\u80FD\u754C\u9762\u7684\u7EC4\u4EF6\u5316\u7F16\u7801\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u529F\u80FD\u754C\u9762\u7684\u7EC4\u4EF6\u5316\u7F16\u7801\u6D41\u7A0B" aria-hidden="true">#</a> 3\u3001\u529F\u80FD\u754C\u9762\u7684\u7EC4\u4EF6\u5316\u7F16\u7801\u6D41\u7A0B</h3><blockquote><ol><li><p>\u62C6\u5206\u7EC4\u4EF6: \u62C6\u5206\u754C\u9762,\u62BD\u53D6\u7EC4\u4EF6</p></li><li><p>\u5B9E\u73B0\u9759\u6001\u7EC4\u4EF6: \u4F7F\u7528\u7EC4\u4EF6\u5B9E\u73B0\u9759\u6001\u9875\u9762\u6548\u679C</p></li><li><p>\u5B9E\u73B0\u52A8\u6001\u7EC4\u4EF6</p></li></ol><p>\u200B 3.1 \u52A8\u6001\u663E\u793A\u521D\u59CB\u5316\u6570\u636E</p><p>\u200B 3.1.1 \u6570\u636E\u7C7B\u578B</p><p>\u200B 3.1.2 \u6570\u636E\u540D\u79F0</p><p>\u200B 3.1.2 \u4FDD\u5B58\u5728\u54EA\u4E2A\u7EC4\u4EF6?</p><p>\u200B 3.2 \u4EA4\u4E92(\u4ECE\u7ED1\u5B9A\u4E8B\u4EF6\u76D1\u542C\u5F00\u59CB)</p></blockquote><h3 id="_4\u3001todolist\u90E8\u5206\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_4\u3001todolist\u90E8\u5206\u4EE3\u7801" aria-hidden="true">#</a> 4\u3001TodoList\u90E8\u5206\u4EE3\u7801</h3><blockquote><p>1\u3001\u66F4\u65B0\u65F6\u53EF\u4EE5\u5229\u7528\u8D4B\u503C\u89E3\u6784\u540E\u518D\u4F20\u5165\u91CD\u590D\u5B57\u6BB5\u4F1A\u81EA\u52A8\u8986\u76D6\u7684\u65B9\u5F0F\u8FDB\u884C\u66F4\u65B0\u6570\u636E</p><p>\u200B --&gt;if(todoObj.id === id) return <code>{...todoObj,done}</code></p><p>2\u3001\u6570\u7EC4\u6279\u91CF\u5220\u9664\u53EF\u4EE5\u7528filter\u8FC7\u6EE4\u5B9E\u73B0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//updateTodo\u7528\u4E8E\u66F4\u65B0\u4E00\u4E2Atodo\u5BF9\u8C61</span>
<span class="token function-variable function">updateTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span>done</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token comment">//\u83B7\u53D6\u72B6\u6001\u4E2D\u7684todos</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>todos<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
		<span class="token comment">//\u5339\u914D\u5904\u7406\u6570\u636E</span>
		<span class="token keyword">const</span> newTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todoObj</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>todoObj<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>todoObj<span class="token punctuation">,</span>done<span class="token punctuation">}</span>
			<span class="token keyword">else</span> <span class="token keyword">return</span> todoObj
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">todos</span><span class="token operator">:</span>newTodos<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//deleteTodo\u7528\u4E8E\u5220\u9664\u4E00\u4E2Atodo\u5BF9\u8C61</span>
	<span class="token function-variable function">deleteTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token comment">//\u83B7\u53D6\u539F\u6765\u7684todos</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>todos<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
		<span class="token comment">//\u5220\u9664\u6307\u5B9Aid\u7684todo\u5BF9\u8C61</span>
		<span class="token keyword">const</span> newTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todoObj</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> todoObj<span class="token punctuation">.</span>id <span class="token operator">!==</span> id
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token comment">//\u66F4\u65B0\u72B6\u6001</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">todos</span><span class="token operator">:</span>newTodos<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//checkAllTodo\u7528\u4E8E\u5168\u9009</span>
	<span class="token function-variable function">checkAllTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token comment">//\u83B7\u53D6\u539F\u6765\u7684todos</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>todos<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
		<span class="token comment">//\u52A0\u5DE5\u6570\u636E</span>
		<span class="token keyword">const</span> newTodos <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">todoObj</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token operator">...</span>todoObj<span class="token punctuation">,</span>done<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token comment">//\u66F4\u65B0\u72B6\u6001</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">todos</span><span class="token operator">:</span>newTodos<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="iii-react-ajax" tabindex="-1"><a class="header-anchor" href="#iii-react-ajax" aria-hidden="true">#</a> \u2162-React ajax</h1><blockquote><p>\u6B64\u90E8\u5206\u9700\u8981\u9884\u5907\u6280\u672F\u6808:ajax\u3001Axios,\u76F8\u5173\u7B14\u8BB0\u5DF2\u7ECF\u8BB0\u5F55\u5728\u9694\u58C1\u6587\u4EF6\u5939\u4E14\u5B66\u4E60\u5B8C\u6210</p></blockquote><h3 id="_1\u3001react\u4E2D\u914D\u7F6E\u4EE3\u7406-proxy" tabindex="-1"><a class="header-anchor" href="#_1\u3001react\u4E2D\u914D\u7F6E\u4EE3\u7406-proxy" aria-hidden="true">#</a> 1\u3001React\u4E2D\u914D\u7F6E\u4EE3\u7406(<code>proxy</code>)</h3><blockquote><ol><li><code>\u7B80\u5355\u4EE3\u7406</code>:\u5728package.json\u4E2D\u8FFD\u52A0\u5982\u4E0B\u914D\u7F6E :<code>&quot;proxy&quot;:http://localhost:5000</code><ul><li>ps:\u5F53\u4F60\u8BF7\u6C42<code>http://localhost:5000</code>\u4EA7\u751F\u8DE8\u57DF(\u672C\u8EAB\u57283000\u7AEF\u53E3)\u65F6,\u6DFB\u52A0\u6B64\u4EE3\u7801, \u4E4B\u540E\u4F60\u8BF7\u6C42\u65F6\u7528<code>http://localhost:3000</code>\u8FDB\u884C\u8BF7\u6C42,\u5F53\u5176\u5728<code>3000</code>\u7AEF\u53E3\u4E2D\u627E\u4E0D\u5230\u8D44\u6E90\u65F6\u5C06\u4F1A\u81EA\u52A8\u8F6C\u53D1\u81F3<code>5000</code>\u7AEF\u53E3\u8FDB\u884C\u8BF7\u6C42,\u4E0D\u4EA7\u751F\u8DE8\u57DF\u95EE\u9898</li><li>\u4F18\u70B9\uFF1A\u914D\u7F6E\u7B80\u5355\uFF0C\u524D\u7AEF\u8BF7\u6C42\u8D44\u6E90\u65F6\u53EF\u4EE5\u4E0D\u52A0\u4EFB\u4F55\u524D\u7F00\u3002</li><li>\u7F3A\u70B9\uFF1A\u4E0D\u80FD\u914D\u7F6E\u591A\u4E2A\u4EE3\u7406</li><li>\u5DE5\u4F5C\u65B9\u5F0F\uFF1A\u4E0A\u8FF0\u65B9\u5F0F\u914D\u7F6E\u4EE3\u7406\uFF0C\u5F53\u8BF7\u6C42\u4E863000\u4E0D\u5B58\u5728\u7684\u8D44\u6E90\u65F6\uFF0C\u90A3\u4E48\u8BE5\u8BF7\u6C42\u4F1A\u8F6C\u53D1\u7ED95000 \uFF08\u4F18\u5148\u5339\u914D\u524D\u7AEF\u8D44\u6E90\uFF09</li></ul></li><li>\u65B9\u6CD5\u4E8C: \u5728src\u4E0B\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6\uFF1A<code>src/setupProxy.js</code><ul><li>ps:\u5FC5\u987B\u662F\u8FD9\u4E2A\u6587\u4EF6\u540D,react\u9879\u76EE\u8FD0\u884C\u7684\u65F6\u5019\u4F1A\u81EA\u52A8\u67E5\u627E\u8FD9\u4E2A\u6587\u4EF6,\u5E76\u5C06\u5176\u52A0\u5165webpack\u7684\u914D\u7F6E\u4E2D,\u6240\u4EE5\u5F53\u4F60\u4FEE\u6539\u6B64\u6587\u4EF6\u540E,\u4F60\u9700\u8981\u91CD\u65B0\u542F\u52A8\u9879\u76EE</li><li>\u4F18\u70B9\uFF1A\u53EF\u4EE5\u914D\u7F6E\u591A\u4E2A\u4EE3\u7406\uFF0C\u53EF\u4EE5\u7075\u6D3B\u7684\u63A7\u5236\u8BF7\u6C42\u662F\u5426\u8D70\u4EE3\u7406\u3002</li><li>\u7F3A\u70B9\uFF1A\u914D\u7F6E\u7E41\u7410\uFF0C\u524D\u7AEF\u8BF7\u6C42\u8D44\u6E90\u65F6\u5FC5\u987B\u52A0\u524D\u7F00\u3002</li></ul></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u4EE3\u7801\u793A\u4F8B</span>
<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;http-proxy-middleware&#39;</span><span class="token punctuation">)</span>
 module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
     <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">&#39;/api1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">//api1\u662F\u9700\u8981\u8F6C\u53D1\u7684\u8BF7\u6C42(\u6240\u6709\u5E26\u6709/api1\u524D\u7F00\u7684\u8BF7\u6C42\u90FD\u4F1A\u8F6C\u53D1\u7ED95000)</span>
       <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:5000&#39;</span><span class="token punctuation">,</span> <span class="token comment">//\u914D\u7F6E\u8F6C\u53D1\u76EE\u6807\u5730\u5740(\u80FD\u8FD4\u56DE\u6570\u636E\u7684\u670D\u52A1\u5668\u5730\u5740)</span>
       <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//\u63A7\u5236\u670D\u52A1\u5668\u63A5\u6536\u5230\u7684\u8BF7\u6C42\u5934\u4E2Dhost\u5B57\u6BB5\u7684\u503C</span>
       <span class="token comment">/*
       	changeOrigin\u8BBE\u7F6E\u4E3Atrue\u65F6\uFF0C\u670D\u52A1\u5668\u6536\u5230\u7684\u8BF7\u6C42\u5934\u4E2D\u7684host\u4E3A\uFF1Alocalhost:5000
       	changeOrigin\u8BBE\u7F6E\u4E3Afalse\u65F6\uFF0C\u670D\u52A1\u5668\u6536\u5230\u7684\u8BF7\u6C42\u5934\u4E2D\u7684host\u4E3A\uFF1Alocalhost:3000
       	changeOrigin\u9ED8\u8BA4\u503C\u4E3Afalse\uFF0C\u4F46\u6211\u4EEC\u4E00\u822C\u5C06changeOrigin\u503C\u8BBE\u4E3Atrue
       */</span>
       <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;^/api1&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">}</span> <span class="token comment">//\u53BB\u9664\u8BF7\u6C42\u524D\u7F00\uFF0C\u4FDD\u8BC1\u4EA4\u7ED9\u540E\u53F0\u670D\u52A1\u5668\u7684\u662F\u6B63\u5E38\u8BF7\u6C42\u5730\u5740(\u5FC5\u987B\u914D\u7F6E)</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">&#39;/api2&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
       <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:5001&#39;</span><span class="token punctuation">,</span>
       <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
       <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;^/api2&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="_2\u3001\u8865\u5145\u77E5\u8BC6\u70B9" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u8865\u5145\u77E5\u8BC6\u70B9" aria-hidden="true">#</a> 2\u3001\u8865\u5145\u77E5\u8BC6\u70B9</h3><h4 id="i-es6\u5C0F\u77E5\u8BC6\u70B9-\u8FDE\u7EED\u8D4B\u503C\u89E3\u6784-\u91CD\u547D\u540D" tabindex="-1"><a class="header-anchor" href="#i-es6\u5C0F\u77E5\u8BC6\u70B9-\u8FDE\u7EED\u8D4B\u503C\u89E3\u6784-\u91CD\u547D\u540D" aria-hidden="true">#</a> \u2160-ES6\u5C0F\u77E5\u8BC6\u70B9:<code>\u8FDE\u7EED\u8D4B\u503C\u89E3\u6784</code>+\u91CD\u547D\u540D</h4><blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span> <span class="token comment">//\u4F20\u7EDF\u89E3\u6784\u8D4B\u503C</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token punctuation">{</span>b<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span> <span class="token comment">//\u8FDE\u7EED\u89E3\u6784\u8D4B\u503C</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">b</span><span class="token operator">:</span>value<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span> <span class="token comment">//\u8FDE\u7EED\u89E3\u6784\u8D4B\u503C+\u91CD\u547D\u540D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h4 id="ii-\u6D88\u606F\u8BA2\u9605\u4E0E\u53D1\u5E03\u673A\u5236-\u5DE5\u5177\u5E93-pubsubjs" tabindex="-1"><a class="header-anchor" href="#ii-\u6D88\u606F\u8BA2\u9605\u4E0E\u53D1\u5E03\u673A\u5236-\u5DE5\u5177\u5E93-pubsubjs" aria-hidden="true">#</a> \u2161-\u6D88\u606F\u8BA2\u9605\u4E0E\u53D1\u5E03\u673A\u5236 ---&gt; \u5DE5\u5177\u5E93: PubSubJS</h4><blockquote><p>1.\u5148\u8BA2\u9605\uFF0C\u518D\u53D1\u5E03\uFF08\u7406\u89E3\uFF1A\u6709\u4E00\u79CD\u9694\u7A7A\u5BF9\u8BDD\u7684\u611F\u89C9\uFF09</p><p>2.\u9002\u7528\u4E8E\u4EFB\u610F\u7EC4\u4EF6\u95F4\u901A\u4FE1</p><p>3.\u8981\u5728\u7EC4\u4EF6\u7684componentWillUnmount\u4E2D\u53D6\u6D88\u8BA2\u9605</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u4E0B\u8F7D: npm install pubsub-js --save</span>
<span class="token comment">//\u4F7F\u7528\u4E3E\u4F8B</span>
<span class="token number">1</span><span class="token punctuation">)</span>	<span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">&#39;pubsub-js&#39;</span> <span class="token comment">//\u5F15\u5165</span>
<span class="token number">2</span><span class="token punctuation">)</span>	PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&#39;delete&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BA2\u9605</span>
<span class="token number">3</span><span class="token punctuation">)</span>	PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&#39;delete&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token comment">//\u53D1\u5E03\u6D88\u606F</span>
<span class="token comment">//*------------------------------\u4F7F\u7528----------------------------------------------------</span>
	<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>token <span class="token operator">=</span> PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&#39;atguigu&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span>stateObj</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>stateObj<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		PubSub<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token comment">//----------------------------------\u4F7F\u7528---------------------------------------------------</span>
		<span class="token comment">//\u53D1\u9001\u8BF7\u6C42\u524D\u901A\u77E5List\u66F4\u65B0\u72B6\u6001</span>
		PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&#39;atguigu&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">isFirst</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">isLoading</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token comment">//\u53D1\u9001\u7F51\u7EDC\u8BF7\u6C42---\u4F7F\u7528fetch\u53D1\u9001\uFF08\u4F18\u5316\uFF09</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> response<span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/api1/search/users2?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>keyWord<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
			<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
			PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&#39;atguigu&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">isLoading</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">users</span><span class="token operator">:</span>data<span class="token punctuation">.</span>items<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u51FA\u9519&#39;</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
			PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&#39;atguigu&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">isLoading</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token literal-property property">err</span><span class="token operator">:</span>error<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h4 id="iii-\u6D88\u606F\u8BA2\u9605\u4E0E\u53D1\u5E03\u673A\u5236-\u5DE5\u5177\u5E93-mitt" tabindex="-1"><a class="header-anchor" href="#iii-\u6D88\u606F\u8BA2\u9605\u4E0E\u53D1\u5E03\u673A\u5236-\u5DE5\u5177\u5E93-mitt" aria-hidden="true">#</a> \u2162-\u6D88\u606F\u8BA2\u9605\u4E0E\u53D1\u5E03\u673A\u5236 ---&gt; \u5DE5\u5177\u5E93: mitt</h4>`,122),x=n("p",null,"\u8FD9\u662F\u672C\u4EBA\u540E\u6765\u5728githyb\u4E2D\u627E\u5230\u5E76\u5E94\u7528\u5728\u9879\u76EE\u4EE3\u7801\u4E2D\u7684,\u6B64\u5DE5\u5177\u5E93\u4EE3\u7801\u91CF\u7279\u522B\u5C11,\u53EF\u4EE5\u9605\u8BFB\u6E90\u7801,\u4F1A\u6709\u5F88\u5927\u597D\u5904",-1),f=s("\u6B64\u65B9\u6CD5\u7528\u7684\u662F["),w=n("code",null,"mitt",-1),q=s("]\u5B9E\u73B0,\u5176\u5B9E\u672C\u8D28\u4E0A\u5C31\u662F\u6CE8\u518C\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\u8FDB\u884C\u76D1\u542C --> "),j={href:"https://github.com/developit/mitt",target:"_blank",rel:"noopener noreferrer"},_=s("mitt\u6E90\u7801\u5730\u5740"),R=a(`<p>\u53EF\u4EE5\u81EA\u5DF1\u5B9E\u73B0,\u6B64\u5904\u56E0\u4E3A\u4EBA\u5BB6\u5199\u7684\u4E0D\u9519\u4E86,\u5C31\u4EE5\u6B64\u4F5C\u4E3A\u4F8B\u5B50</p><ol><li>\u5B89\u88C5\u6216\u8005\u76F4\u63A5\u590D\u5236\u4F7F\u7528</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save mitt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>\u4F7F\u7528\u793A\u4F8B</li></ol><div class="language-tsx ext-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token comment">//</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> \u9996\u5148\u8981\u5B9A\u4E49\u4E00\u4E2A\u516C\u7528\u5168\u5C40\u53D8\u91CF  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">//\u6587\u4EF6 utils/index.ts</span>
<span class="token keyword">import</span> mitt <span class="token keyword">from</span> <span class="token string">&#39;./mitt&#39;</span><span class="token punctuation">;</span>
<span class="token comment">//\u6B64\u5904\u58F0\u660E,\u5C06\u5176\u53D8\u4E3A\u5168\u5C40\u53D8\u91CF</span>
<span class="token keyword">const</span> eventBus <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> eventBus <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token function">\u53D1\u9001\u503C\u7684\u7EC4\u4EF6</span><span class="token punctuation">(</span>\u8981\u4FEE\u6539\u522B\u4EBA\u7684\u7EC4\u4EF6<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">//\u5BFC\u5165\u5171\u6709\u53D8\u91CF</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> eventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;~/utils&#39;</span><span class="token punctuation">;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">//\u5EF6\u8FDF\u53D1\u9001\u662F\u672C\u4EBA\u6B64\u4E4B\u524D\u6709\u4E00\u4E2A\u8DF3\u8F6C\u52A8\u4F5C,\u8DF3\u8F6C\u5230\u63A5\u6536\u65B9\u7EC4\u4EF6</span>
    <span class="token comment">// \u9632\u6B62\u4FEE\u6539\u4E86\u503C\u7684\u65F6\u5019\u4F46\u662F\u63A5\u6536\u7EC4\u4EF6\u672A\u6CE8\u518C  \u6B63\u5E38\u60C5\u51B5\u76F4\u63A5\u53D1\u9001\u5373\u53EF     </span>
    <span class="token comment">//setTimeout(() =&gt; {</span>
    <span class="token comment">// eventBus.emit(&#39;foo&#39;, data);</span>
    <span class="token comment">//}, 100);</span>
    eventBus<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>    
   <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token function">\u63A5\u53D7\u65B9\u7EC4\u4EF6</span><span class="token punctuation">(</span>\u63A5\u53D7\u53D1\u9001\u65B9\u7684\u7EC4\u4EF6<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token keyword">const</span> Search<span class="token operator">:</span> <span class="token constant">FC</span><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u66FF\u6362\u4E3Amitt\u5199\u6CD5,\u6B64\u65F6\u5DF2\u7ECF\u63A5\u6536\u5230\u4E86</span>
    eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>searchParams<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u63A5\u53D7\u5230\u503C\u4E86&#39;</span><span class="token punctuation">,</span>searchParams<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>mitt\u6E90\u7801</li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">EventType</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">;</span>

<span class="token comment">// An event handler can take an optional event argument</span>
<span class="token comment">// and should not return a value</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Handler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">WildcardHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  type<span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span>
  event<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">// An array of all currently registered event handlers for a type</span>
<span class="token class-name"><span class="token keyword">export</span></span> <span class="token keyword">type</span> <span class="token class-name">EventHandlerList<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>Handler<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">WildCardEventHandlerList<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>
  WildcardHandler<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// A map of event types and their corresponding event handlers.</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">EventHandlerMap<span class="token operator">&lt;</span>Events <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span>EventType<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token operator">=</span> Map<span class="token operator">&lt;</span>
  <span class="token keyword">keyof</span> Events <span class="token operator">|</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span>
  EventHandlerList<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">|</span> WildCardEventHandlerList<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span>
<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Emitter<span class="token operator">&lt;</span>Events <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span>EventType<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token punctuation">{</span>
  all<span class="token operator">:</span> EventHandlerMap<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  on<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> handler<span class="token operator">:</span> Handler<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>type<span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span> handler<span class="token operator">:</span> WildcardHandler<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  off<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>
    type<span class="token operator">:</span> Key<span class="token punctuation">,</span>
    handler<span class="token operator">?</span><span class="token operator">:</span> Handler<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>type<span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span> handler<span class="token operator">:</span> WildcardHandler<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  emit<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> event<span class="token operator">:</span> Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>
    type<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token keyword">extends</span> <span class="token class-name">Events</span><span class="token punctuation">[</span>Key<span class="token punctuation">]</span> <span class="token operator">?</span> Key <span class="token operator">:</span> <span class="token builtin">never</span>
  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * Mitt: Tiny (~200b) functional event emitter / pubsub.
 * <span class="token keyword">@name</span> mitt
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>Mitt<span class="token punctuation">}</span>
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">mitt</span><span class="token generic class-name"><span class="token operator">&lt;</span>Events <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span>EventType<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span>
  all<span class="token operator">?</span><span class="token operator">:</span> EventHandlerMap<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Emitter<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">type</span> <span class="token class-name">GenericEventHandler</span> <span class="token operator">=</span>
    <span class="token operator">|</span> Handler<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span>
    <span class="token operator">|</span> WildcardHandler<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  all <span class="token operator">=</span> all <span class="token operator">||</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * A Map of event names to registered handler functions.
     */</span>
    all<span class="token punctuation">,</span>

    <span class="token doc-comment comment">/**
     * Register an event handler for the given type.
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string|symbol<span class="token punctuation">}</span> type Type of event to listen for, or \`&#39;*&#39;\` for all events
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Function<span class="token punctuation">}</span> handler Function to call in response to given event
     * <span class="token keyword">@memberOf</span> mitt
     */</span>
    <span class="token generic-function"><span class="token function">on</span><span class="token generic class-name"><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> handler<span class="token operator">:</span> GenericEventHandler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> handlers<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>GenericEventHandler<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        handlers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span>handler<span class="token punctuation">]</span> <span class="token keyword">as</span> EventHandlerList<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token doc-comment comment">/**
     * Remove an event handler for the given type.
     * If \`handler\` is omitted, all handlers of the given type are removed.
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string|symbol<span class="token punctuation">}</span> type Type of event to unregister \`handler\` from, or \`&#39;*&#39;\`
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Function<span class="token punctuation">}</span> [handler] Handler function to remove
     * <span class="token keyword">@memberOf</span> mitt
     */</span>
    <span class="token generic-function"><span class="token function">off</span><span class="token generic class-name"><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> handler<span class="token operator">?</span><span class="token operator">:</span> GenericEventHandler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> handlers<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>GenericEventHandler<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          handlers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>handlers<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token doc-comment comment">/**
     * Invoke all handlers for the given type.
     * If present, \`&#39;*&#39;\` handlers are invoked after type-matched handlers.
     *
     * Note: Manually firing &#39;*&#39; handlers is not supported.
     *
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string|symbol<span class="token punctuation">}</span> type The event type to invoke
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Any<span class="token punctuation">}</span> [evt] Any value (object is recommended and powerful), passed to each handler
     * <span class="token keyword">@memberOf</span> mitt
     */</span>
    <span class="token generic-function"><span class="token function">emit</span><span class="token generic class-name"><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> evt<span class="token operator">?</span><span class="token operator">:</span> Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> handlers <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>handlers <span class="token keyword">as</span> EventHandlerList<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">handler</span><span class="token punctuation">(</span>evt<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      handlers <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>handlers <span class="token keyword">as</span> WildCardEventHandlerList<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">handler</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> evt<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),D=a(`<h4 id="iv-defaultchecked-\u3001-checked\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#iv-defaultchecked-\u3001-checked\u7684\u533A\u522B" aria-hidden="true">#</a> \u2163-defaultChecked \u3001 checked\u7684\u533A\u522B</h4><blockquote><p>\u6CE8\u610FdefaultChecked \u548C checked\u7684\u533A\u522B\uFF0C\u7C7B\u4F3C\u7684\u8FD8\u6709\uFF1AdefaultValue \u548C value</p></blockquote><h3 id="_3\u3001fetch\u53D1\u9001\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#_3\u3001fetch\u53D1\u9001\u8BF7\u6C42" aria-hidden="true">#</a> 3\u3001<code>fetch</code>\u53D1\u9001\u8BF7\u6C42</h3><blockquote><p>\u6982\u5FF5:<code>\u5173\u6CE8\u5206\u79BB</code>\u7684\u8BBE\u8BA1\u601D\u60F3</p></blockquote><blockquote><ol><li>Fetch \u662F\u6D4F\u89C8\u5668\u63D0\u4F9B\u7684\u539F\u751F AJAX \u63A5\u53E3\u3002</li></ol><p>\u7531\u4E8E\u539F\u6765\u7684XMLHttpRequest<code>\u4E0D\u7B26\u5408\u5173\u6CE8\u5206\u79BB\u539F\u5219</code>\uFF0C\u4E14\u57FA\u4E8E\u4E8B\u4EF6\u7684\u6A21\u578B\u5728\u5904\u7406\u5F02\u6B65\u4E0A\u5DF2\u7ECF\u6CA1\u6709\u73B0\u4EE3\u7684Promise\u7B49\u90A3\u4E48\u6709\u4F18\u52BF\u3002\u56E0\u6B64Fetch\u51FA\u73B0\u6765\u89E3\u51B3\u8FD9\u79CD\u95EE\u9898\u3002</p><ol start="2"><li><p>\u7279\u70B9:</p><ul><li><p>fetch: <code>\u539F\u751F\u51FD\u6570</code>\uFF0C\u4E0D\u518D\u4F7F\u7528XmlHttpRequest\u5BF9\u8C61\u63D0\u4EA4ajax\u8BF7\u6C42</p></li><li><p><code>\u8001\u7248\u672C\u6D4F\u89C8\u5668\u53EF\u80FD\u4E0D\u652F\u6301</code></p></li><li><p>\u4F7F\u7528 fetch \u65E0\u6CD5<code>\u53D6\u6D88\u4E00\u4E2A\u8BF7\u6C42</code>\u3002\u8FD9\u662F\u56E0\u4E3AFetch API<code>\u57FA\u4E8E Promise</code>\uFF0C\u800CPromise\u65E0\u6CD5\u505A\u5230\u8FD9\u4E00\u70B9\u3002\u7531\u4E8EFetch\u662F\u5178\u578B\u7684\u5F02\u6B65\u573A\u666F\uFF0C\u6240\u4EE5\u5927\u90E8\u5206\u9047\u5230\u7684\u95EE\u9898\u4E0D\u662F Fetch \u7684\uFF0C\u5176\u5B9E\u662F Promise \u7684\u3002</p></li></ul></li><li><p>\u5982\u679C\u76F4\u63A5\u4F7F\u7528<code>fetch</code>,\u8FD4\u56DE\u7684\u5E76\u4E0D\u662F\u76F4\u63A5\u7684\u7ED3\u679C\u5B83\u53EA\u662F\u4E00\u4E2A<code>HTTP\u54CD\u5E94</code>\uFF0C\u800C\u4E0D\u662F\u771F\u7684\u6570\u636E\u3002\u60F3\u8981\u83B7\u53D6\u6570\u636E,\u65B9\u6CD5\u6709\u4E8C:</p><p>\u2460 \u4F7F\u7528async+await\u83B7\u53D6</p><p>\u2461 \u4F7F\u7528promise\u7684\u94FE\u5F0F\u8C03\u7528,\u518D\u7B2C\u4E00\u4E2Athen\u4E2D\u5C06\u5176\u8FD4\u56DE,\u518D\u4E0B\u4E2Athen\u4E2D\u5728\u4F7F\u7528</p></li><li><p>\u4EE3\u7801\u793A\u4F8B</p></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u4EE3\u7801\u793A\u4F8B</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> \u672A\u4F18\u5316<span class="token operator">:</span>\u4F7F\u7528then\u94FE\u5F0F\u8C03\u7528 <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/api1/search/users2?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>keyWord<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
			<span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8054\u7CFB\u670D\u52A1\u5668\u6210\u529F\u4E86&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8054\u7CFB\u670D\u52A1\u5668\u5931\u8D25\u4E86&#39;</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
			<span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u83B7\u53D6\u6570\u636E\u6210\u529F\u4E86&#39;</span><span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u83B7\u53D6\u6570\u636E\u5931\u8D25\u4E86&#39;</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> 
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> \u4F18\u5316\u540E<span class="token operator">:</span>\u4F7F\u7528async<span class="token operator">+</span><span class="token keyword">await</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> response<span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/api1/search/users2?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>keyWord<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		onsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u8BF7\u6C42\u51FA\u9519&#39;</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h1 id="iv-react-\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#iv-react-\u8DEF\u7531" aria-hidden="true">#</a> \u2163-React \u8DEF\u7531</h1><h2 id="_1\u3001\u76F8\u5173\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u76F8\u5173\u7406\u89E3" aria-hidden="true">#</a> 1\u3001\u76F8\u5173\u7406\u89E3</h2><h3 id="i-spa\u7684\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#i-spa\u7684\u7406\u89E3" aria-hidden="true">#</a> \u2160-SPA\u7684\u7406\u89E3</h3><blockquote><ol><li><p>\u5355\u9875Web\u5E94\u7528\uFF08single page web application\uFF0CSPA\uFF09\u3002</p></li><li><p>\u6574\u4E2A\u5E94\u7528\u53EA\u6709<strong>\u4E00\u4E2A\u5B8C\u6574\u7684\u9875\u9762</strong>\u3002</p></li><li><p>\u70B9\u51FB\u9875\u9762\u4E2D\u7684\u94FE\u63A5<strong>\u4E0D\u4F1A\u5237\u65B0</strong>\u9875\u9762\uFF0C\u53EA\u4F1A\u505A\u9875\u9762\u7684<strong>\u5C40\u90E8\u66F4\u65B0\u3002</strong></p></li><li><p>\u6570\u636E\u90FD\u9700\u8981\u901A\u8FC7ajax\u8BF7\u6C42\u83B7\u53D6, \u5E76\u5728\u524D\u7AEF\u5F02\u6B65\u5C55\u73B0\u3002</p></li></ol></blockquote><h3 id="ii-\u8DEF\u7531\u7684\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#ii-\u8DEF\u7531\u7684\u7406\u89E3" aria-hidden="true">#</a> \u2161-\u8DEF\u7531\u7684\u7406\u89E3</h3><h4 id="_1-\u4EC0\u4E48\u662F\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#_1-\u4EC0\u4E48\u662F\u8DEF\u7531" aria-hidden="true">#</a> \u2460 \u4EC0\u4E48\u662F\u8DEF\u7531?</h4><blockquote><ol><li><p>\u4E00\u4E2A\u8DEF\u7531\u5C31\u662F\u4E00\u4E2A\u6620\u5C04\u5173\u7CFB(key:value)</p></li><li><p>key\u4E3A\u8DEF\u5F84, value\u53EF\u80FD\u662Ffunction\u6216component</p></li></ol></blockquote><h4 id="_2-\u8DEF\u7531\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#_2-\u8DEF\u7531\u5206\u7C7B" aria-hidden="true">#</a> \u2461 \u8DEF\u7531\u5206\u7C7B</h4><h5 id="_1\u3001\u540E\u7AEF\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u540E\u7AEF\u8DEF\u7531" aria-hidden="true">#</a> 1\u3001\u540E\u7AEF\u8DEF\u7531</h5><blockquote><ol><li><p>\u7406\u89E3\uFF1A value\u662Ffunction, \u7528\u6765\u5904\u7406\u5BA2\u6237\u7AEF\u63D0\u4EA4\u7684\u8BF7\u6C42\u3002</p></li><li><p>\u6CE8\u518C\u8DEF\u7531\uFF1A router.get(path, function(req, res))</p></li><li><p>\u5DE5\u4F5C\u8FC7\u7A0B\uFF1A\u5F53node\u63A5\u6536\u5230\u4E00\u4E2A\u8BF7\u6C42\u65F6, \u6839\u636E\u8BF7\u6C42\u8DEF\u5F84\u627E\u5230\u5339\u914D\u7684\u8DEF\u7531, \u8C03\u7528\u8DEF\u7531\u4E2D\u7684\u51FD\u6570\u6765\u5904\u7406\u8BF7\u6C42, \u8FD4\u56DE\u54CD\u5E94\u6570\u636E</p></li></ol></blockquote><h5 id="_2\u3001\u524D\u7AEF\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u524D\u7AEF\u8DEF\u7531" aria-hidden="true">#</a> 2\u3001\u524D\u7AEF\u8DEF\u7531</h5><blockquote><ol><li><p>\u6D4F\u89C8\u5668\u7AEF\u8DEF\u7531\uFF0Cvalue\u662Fcomponent\uFF0C\u7528\u4E8E\u5C55\u793A\u9875\u9762\u5185\u5BB9\u3002</p></li><li><p>\u6CE8\u518C\u8DEF\u7531: <code>&lt;Route path=&quot;/test&quot; component={Test}&gt;</code></p></li><li><p>\u5DE5\u4F5C\u8FC7\u7A0B\uFF1A\u5F53\u6D4F\u89C8\u5668\u7684path\u53D8\u4E3A/test\u65F6, \u5F53\u524D\u8DEF\u7531\u7EC4\u4EF6\u5C31\u4F1A\u53D8\u4E3ATest\u7EC4\u4EF6</p></li></ol></blockquote><h3 id="iii-react-router-dom\u7684\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#iii-react-router-dom\u7684\u7406\u89E3" aria-hidden="true">#</a> \u2162-react-router-dom\u7684\u7406\u89E3</h3><h4 id="_1\u76F8\u5173\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_1\u76F8\u5173\u6982\u5FF5" aria-hidden="true">#</a> \u2460\u76F8\u5173\u6982\u5FF5</h4><blockquote><ol><li><p>react\u7684\u4E00\u4E2A\u63D2\u4EF6\u5E93\u3002</p></li><li><p>\u4E13\u95E8\u7528\u6765\u5B9E\u73B0\u4E00\u4E2ASPA\u5E94\u7528\u3002</p></li><li><p>\u57FA\u4E8Ereact\u7684\u9879\u76EE\u57FA\u672C\u90FD\u4F1A\u7528\u5230\u6B64\u5E93\u3002</p></li></ol></blockquote><h4 id="_2\u76F8\u5173api" tabindex="-1"><a class="header-anchor" href="#_2\u76F8\u5173api" aria-hidden="true">#</a> \u2461\u76F8\u5173api</h4><h5 id="_1\u3001\u5185\u7F6E\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u5185\u7F6E\u7EC4\u4EF6" aria-hidden="true">#</a> 1\u3001\u5185\u7F6E\u7EC4\u4EF6</h5><blockquote><ol><li><p><code>&lt;BrowserRouter&gt;</code></p></li><li><p><code>&lt;HashRouter&gt;</code></p></li><li><p><code>&lt;Route&gt;</code></p></li><li><p><code>&lt;Redirect&gt;</code></p></li><li><p><code>&lt;Link&gt;</code></p></li><li><p><code>&lt;NavLink&gt;</code></p></li><li><p><code>&lt;Switch&gt;</code></p></li></ol></blockquote><h5 id="_2\u3001\u5176\u4ED6" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u5176\u4ED6" aria-hidden="true">#</a> 2\u3001\u5176\u4ED6</h5><blockquote><ol><li><p>history\u5BF9\u8C61</p></li><li><p>match\u5BF9\u8C61</p></li><li><p>withRouter\u51FD\u6570</p></li></ol></blockquote><h2 id="_2\u3001\u8DEF\u7531\u7684\u57FA\u672C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u8DEF\u7531\u7684\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a> 2\u3001\u8DEF\u7531\u7684\u57FA\u672C\u4F7F\u7528</h2><blockquote><p>1.\u660E\u786E\u597D\u754C\u9762\u4E2D\u7684\u5BFC\u822A\u533A\u3001\u5C55\u793A\u533A</p><p>2.\u5BFC\u822A\u533A\u7684a\u6807\u7B7E\u6539\u4E3ALink\u6807\u7B7E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/xxxxx&quot;</span><span class="token operator">&gt;</span>Demo<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.\u5C55\u793A\u533A\u5199Route\u6807\u7B7E\u8FDB\u884C\u8DEF\u5F84\u7684\u5339\u914D</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&#39;/xxxx&#39;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Demo<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>4.<code>&lt;App&gt;</code>\u7684\u6700\u5916\u4FA7\u5305\u88F9\u4E86\u4E00\u4E2A<code>&lt;BrowserRouter&gt;\u6216&lt;HashRouter&gt;</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
	<span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>App<span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span><span class="token punctuation">,</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_3\u3001\u8DEF\u7531\u7EC4\u4EF6\u4E0E\u4E00\u822C\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u8DEF\u7531\u7EC4\u4EF6\u4E0E\u4E00\u822C\u7EC4\u4EF6" aria-hidden="true">#</a> 3\u3001\u8DEF\u7531\u7EC4\u4EF6\u4E0E\u4E00\u822C\u7EC4\u4EF6</h2><blockquote><p>1.\u5199\u6CD5\u4E0D\u540C\uFF1A</p><p>\u200B \u4E00\u822C\u7EC4\u4EF6\uFF1A<code>&lt;Demo/&gt;</code></p><p>\u200B \u8DEF\u7531\u7EC4\u4EF6\uFF1A<code>&lt;Route path=&quot;/demo&quot; component={Demo}/&gt;</code></p><p>2.\u5B58\u653E\u4F4D\u7F6E\u4E0D\u540C\uFF1A</p><p>\u200B \u4E00\u822C\u7EC4\u4EF6\uFF1Acomponents</p><p>\u200B \u8DEF\u7531\u7EC4\u4EF6\uFF1Apages</p><ol start="3"><li>\u63A5\u6536\u5230\u7684props\u4E0D\u540C\uFF1A</li></ol><p>\u4E00\u822C\u7EC4\u4EF6\uFF1A\u5199\u7EC4\u4EF6\u6807\u7B7E\u65F6\u4F20\u9012\u4E86\u4EC0\u4E48\uFF0C\u5C31\u80FD\u6536\u5230\u4EC0\u4E48</p><p>\u8DEF\u7531\u7EC4\u4EF6\uFF1A\u63A5\u6536\u5230\u4E09\u4E2A\u56FA\u5B9A\u7684\u5C5E\u6027</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">//\u8DEF\u7531\u5C5E\u6027\u6253\u5370\u7ED3\u679C\u5C55\u793A</span>
history<span class="token operator">:</span>
	go<span class="token operator">:</span> \u0192 go(n)
	goBack<span class="token operator">:</span> \u0192 goBack()
	goForward<span class="token operator">:</span> \u0192 goForward()
	push<span class="token operator">:</span> \u0192 push(path<span class="token punctuation">,</span> state)
	replace<span class="token operator">:</span> \u0192 replace(path<span class="token punctuation">,</span> state)
location<span class="token operator">:</span>
    pathname<span class="token operator">:</span> <span class="token string">&quot;/about&quot;</span>
	search<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
	state<span class="token operator">:</span> undefined
	match<span class="token operator">:</span>
params<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
	path<span class="token operator">:</span> <span class="token string">&quot;/about&quot;</span>
	url<span class="token operator">:</span> <span class="token string">&quot;/about&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_4\u3001navlink\u4F7F\u7528\u4E0E\u5C01\u88C5" tabindex="-1"><a class="header-anchor" href="#_4\u3001navlink\u4F7F\u7528\u4E0E\u5C01\u88C5" aria-hidden="true">#</a> 4\u3001NavLink\u4F7F\u7528\u4E0E\u5C01\u88C5</h2><blockquote><ol><li><p>NavLink\u53EF\u4EE5<code>\u5B9E\u73B0\u8DEF\u7531\u94FE\u63A5\u7684\u9AD8\u4EAE</code>\uFF0C\u901A\u8FC7<code>activeClassName\u6307\u5B9A\u6837\u5F0F\u540D</code></p></li><li><p>\u5C01\u88C5</p></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u5C01\u88C5\u793A\u4F8B</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyNavLink</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">NavLink</span></span> <span class="token attr-name">activeClassName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>atguigu<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list-group-item<span class="token punctuation">&quot;</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u4F7F\u7528\u4E0E\u8C03\u7528</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u539F\u751Fhtml\u4E2D\uFF0C\u9760&lt;a&gt;\u8DF3\u8F6C\u4E0D\u540C\u7684\u9875\u9762</span>
<span class="token punctuation">{</span><span class="token comment">/* &lt;a className=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;
&lt;a className=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; */</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token comment">/* \u5728React\u4E2D\u9760\u8DEF\u7531\u94FE\u63A5\u5B9E\u73B0\u5207\u6362\u7EC4\u4EF6--\u7F16\u5199\u8DEF\u7531\u94FE\u63A5 */</span><span class="token punctuation">}</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">About</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Home</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_5\u3001switch\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_5\u3001switch\u7684\u4F7F\u7528" aria-hidden="true">#</a> 5\u3001Switch\u7684\u4F7F\u7528</h2><blockquote><p>1.\u901A\u5E38\u60C5\u51B5\u4E0B\uFF0Cpath\u548Ccomponent\u662F\u4E00\u4E00\u5BF9\u5E94\u7684\u5173\u7CFB\u3002</p><p>2.Switch\u53EF\u4EE5\u63D0\u9AD8\u8DEF\u7531\u5339\u914D\u6548\u7387(\u5355\u4E00\u5339\u914D) ---- \u5373\u5339\u914D\u5230\u4E00\u4E2A\u540E\u5C06\u4E0D\u518D\u5F80\u4E0B\u5339\u914D</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Test<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_6\u3001\u89E3\u51B3\u591A\u7EA7\u8DEF\u5F84\u5237\u65B0\u9875\u9762\u6837\u5F0F\u4E22\u5931\u7684\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u89E3\u51B3\u591A\u7EA7\u8DEF\u5F84\u5237\u65B0\u9875\u9762\u6837\u5F0F\u4E22\u5931\u7684\u95EE\u9898" aria-hidden="true">#</a> 6\u3001\u89E3\u51B3\u591A\u7EA7\u8DEF\u5F84\u5237\u65B0\u9875\u9762\u6837\u5F0F\u4E22\u5931\u7684\u95EE\u9898</h2><blockquote><p>1.public/index.html \u4E2D \u5F15\u5165\u6837\u5F0F\u65F6\u4E0D\u5199 ./ \u5199 / \uFF08\u5E38\u7528\uFF09</p><p>2.public/index.html \u4E2D \u5F15\u5165\u6837\u5F0F\u65F6\u4E0D\u5199 ./ \u5199 <code>%PUBLIC_URL%</code> \uFF08\u5E38\u7528,\u4F46<code>\u53EA\u5728react\u4E2D</code>\u6709\u6548\u679C\uFF09</p><p>3.\u4F7F\u7528HashRouter (\u4E0D\u5E38\u7528)</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>react\u811A\u624B\u67B6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
       <span class="token comment">&lt;!-- \u65B9\u6CD5\u4E8C --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>%PUBLIC_URL%/favicon.ico<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
         <span class="token comment">&lt;!-- \u65B9\u6CD5\u4E00 --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/css/bootstrap.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_7\u3001\u8DEF\u7531\u7684\u4E25\u683C\u5339\u914D\u4E0E\u6A21\u7CCA\u5339\u914D" tabindex="-1"><a class="header-anchor" href="#_7\u3001\u8DEF\u7531\u7684\u4E25\u683C\u5339\u914D\u4E0E\u6A21\u7CCA\u5339\u914D" aria-hidden="true">#</a> 7\u3001\u8DEF\u7531\u7684\u4E25\u683C\u5339\u914D\u4E0E\u6A21\u7CCA\u5339\u914D</h2><blockquote><ol><li><p>\u9ED8\u8BA4\u4F7F\u7528\u7684\u662F\u6A21\u7CCA\u5339\u914D\uFF08\u7B80\u5355\u8BB0\uFF1A\u3010\u8F93\u5165\u7684\u8DEF\u5F84\u3011\u5FC5\u987B\u5305\u542B\u8981\u3010\u5339\u914D\u7684\u8DEF\u5F84\u3011\uFF0C\u4E14\u987A\u5E8F\u8981\u4E00\u81F4\uFF09</p></li><li><p>\u5F00\u542F\u4E25\u683C\u5339\u914D\uFF1A&lt;Route <code>exact={true}</code>path=&quot;/about&quot; component={About}/&gt;</p></li></ol><p>\u53EF\u4EE5\u7701\u7565<code>exact={true}</code>\u4E3A<code>exact</code></p><ol start="3"><li><code>\u4E25\u683C\u5339\u914D\u4E0D\u8981\u968F\u4FBF\u5F00\u542F</code>\uFF0C\u9700\u8981\u518D\u5F00\uFF0C\u6709\u4E9B\u65F6\u5019\u5F00\u542F\u4F1A\u5BFC\u81F4\u65E0\u6CD5\u7EE7\u7EED\u5339\u914D\u4E8C\u7EA7\u8DEF\u7531</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u7F16\u5199\u8DEF\u7531\u94FE\u63A5</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">About</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/a/b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Home</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span>

<span class="token punctuation">{</span><span class="token comment">/* \u6CE8\u518C\u8DEF\u7531 */</span><span class="token punctuation">}</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">exact</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_8\u3001redirect\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_8\u3001redirect\u7684\u4F7F\u7528" aria-hidden="true">#</a> 8\u3001<strong>Redirect\u7684\u4F7F\u7528</strong></h2><blockquote><ol><li><p>\u4E00\u822C\u5199\u5728\u6240\u6709\u8DEF\u7531\u6CE8\u518C\u7684<code>\u6700\u4E0B\u65B9</code>\uFF0C\u5F53\u6240\u6709\u8DEF\u7531\u90FD<code>\u65E0\u6CD5\u5339\u914D\u65F6</code>\uFF0C\u8DF3\u8F6C\u5230Redirect\u6307\u5B9A\u7684\u8DEF\u7531</p></li><li><p>\u5177\u4F53\u7F16\u7801\uFF1A</p></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_9\u3001\u5D4C\u5957\u8DEF\u7531" tabindex="-1"><a class="header-anchor" href="#_9\u3001\u5D4C\u5957\u8DEF\u7531" aria-hidden="true">#</a> 9\u3001\u5D4C\u5957\u8DEF\u7531</h2><blockquote><ol><li><p>\u6CE8\u518C\u5B50\u8DEF\u7531\u65F6\u8981\u5199\u4E0A\u7236\u8DEF\u7531\u7684path\u503C</p></li><li><p>\u8DEF\u7531\u7684\u5339\u914D\u662F\u6309\u7167\u6CE8\u518C\u8DEF\u7531\u7684\u987A\u5E8F\u8FDB\u884C\u7684</p></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>\u6CE8\u518C\u4E00\u7EA7\u8DEF\u7531<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
	<span class="token punctuation">{</span><span class="token comment">/* \u5728React\u4E2D\u9760\u8DEF\u7531\u94FE\u63A5\u5B9E\u73B0\u5207\u6362\u7EC4\u4EF6--\u7F16\u5199\u8DEF\u7531\u94FE\u63A5 */</span><span class="token punctuation">}</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">About</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Home</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">{</span><span class="token comment">/* \u6CE8\u518C\u8DEF\u7531 */</span><span class="token punctuation">}</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>\u6CE8\u518C\u4E8C\u7EA7\u8DEF\u7531 <span class="token operator">:</span>Home\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nav nav-tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">News</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyNavLink</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Message</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyNavLink</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token punctuation">{</span><span class="token comment">/* \u6CE8\u518C\u8DEF\u7531 */</span><span class="token punctuation">}</span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>News<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Message<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Redirect</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/news<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Switch</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_10\u3001\u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_10\u3001\u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570" aria-hidden="true">#</a> 10\u3001\u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012\u53C2\u6570</h2><h3 id="i-params\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#i-params\u53C2\u6570" aria-hidden="true">#</a> \u2160-params\u53C2\u6570</h3><blockquote><ol><li><p>\u8DEF\u7531\u94FE\u63A5(\u643A\u5E26\u53C2\u6570)\uFF1A<code>&lt;Link to=&#39;/demo/test/tom/18&#39;}&gt;\u8BE6\u60C5&lt;/Link&gt;</code></p></li><li><p>\u6CE8\u518C\u8DEF\u7531(\u58F0\u660E\u63A5\u6536)\uFF1A<code>&lt;Route path=&quot;/demo/test/:name/:age&quot; component={Test}/&gt;</code></p></li><li><p>\u63A5\u6536\u53C2\u6570\uFF1Athis.props.match.params</p></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>\u53D1\u9001\u53C2\u6570<span class="token operator">:</span>\u7236\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token punctuation">{</span><span class="token comment">/* \u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012params\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/home/message/detail/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>msgObj<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>msgObj<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
       </span><span class="token punctuation">{</span><span class="token comment">/* \u58F0\u660E\u63A5\u6536params\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail/:id/:title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Detail<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>\u63A5\u53D7\u53C2\u6570<span class="token operator">:</span>\u5B50\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>id<span class="token punctuation">,</span>title<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="ii-search\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#ii-search\u53C2\u6570" aria-hidden="true">#</a> \u2161-search\u53C2\u6570</h3><blockquote><ol><li>\u8DEF\u7531\u94FE\u63A5(\u643A\u5E26\u53C2\u6570)\uFF1A<code>&lt;Link to=&#39;/demo/test?name=tom&amp;age=18&#39;}&gt;\u8BE6\u60C5&lt;/Link&gt;</code></li><li>\u6CE8\u518C\u8DEF\u7531(<code>\u65E0\u9700\u58F0\u660E</code>\uFF0C\u6B63\u5E38\u6CE8\u518C\u5373\u53EF)\uFF1A<code>&lt;Route path=&quot;/demo/test&quot; component={Test}/&gt;</code></li><li>\u63A5\u6536\u53C2\u6570\uFF1Athis.props.location.search</li><li>\u5907\u6CE8\uFF1A\u83B7\u53D6\u5230\u7684search\u662F<code>urlencoded\u7F16\u7801\u5B57\u7B26\u4E32</code>\uFF0C\u9700\u8981<code>\u501F\u52A9querystring\u89E3\u6790</code></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>\u53D1\u9001\u53C2\u6570<span class="token operator">:</span>\u7236\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      	</span><span class="token punctuation">{</span><span class="token comment">/* \u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012search\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/home/message/detail/?id=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>msgObj<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;title=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>msgObj<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
     	</span><span class="token punctuation">{</span><span class="token comment">/* search\u53C2\u6570\u65E0\u9700\u58F0\u660E\u63A5\u6536\uFF0C\u6B63\u5E38\u6CE8\u518C\u8DEF\u7531\u5373\u53EF */</span><span class="token punctuation">}</span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Detail<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>\u63A5\u53D7\u53C2\u6570<span class="token operator">:</span>\u5B50\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    <span class="token keyword">import</span> qs <span class="token keyword">from</span> <span class="token string">&#39;querystring&#39;</span>
	<span class="token comment">// \u63A5\u6536search\u53C2\u6570</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span>search<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location
	<span class="token keyword">const</span> <span class="token punctuation">{</span>id<span class="token punctuation">,</span>title<span class="token punctuation">}</span> <span class="token operator">=</span> qs<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="iii-state\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#iii-state\u53C2\u6570" aria-hidden="true">#</a> \u2162-state\u53C2\u6570</h3><blockquote><ol><li>\u8DEF\u7531\u94FE\u63A5(\u643A\u5E26\u53C2\u6570)\uFF1A[<code>&lt;Link to={{pathname:&#39;/demo/test&#39;,state:{name:&#39;tom&#39;,age:18}}}&gt;\u8BE6\u60C5&lt;/Link&gt;</code>]</li><li>\u6CE8\u518C\u8DEF\u7531(\u65E0\u9700\u58F0\u660E\uFF0C\u6B63\u5E38\u6CE8\u518C\u5373\u53EF)\uFF1A[<code>&lt;Route path=&quot;/demo/test&quot; component={Test}/&gt;</code>]</li><li>\u63A5\u6536\u53C2\u6570\uFF1Athis.props.location.state</li></ol><ul><li>\u5907\u6CE8\uFF1A\u4F7F\u7528<code>BrowserRouter</code>\u5237\u65B0\u624D\u53EF\u4EE5<code>\u4FDD\u7559\u4F4F\u53C2\u6570</code>,\u4F7F\u7528<code>HashRouter</code>\u5237\u65B0\u540Estate\u5C06\u4F1A\u6CA1\u6709<code>history</code>\u6765\u4FDD\u5B58\u53C2\u6570</li><li>\u5B50\u7EC4\u4EF6\u63A5\u53D7\u53C2\u6570\u65F6<code>const {id,title} = this.props.location.state || {}</code> ,\u540E\u9762\u6DFB\u52A0<code>||{}</code>\u662F\u9632\u6B62\u4F7F\u7528<code>HashRouter</code>\u540Estate\u4E3Aundefined\u65F6\u62A5\u9519</li></ul><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>\u53D1\u9001\u53C2\u6570<span class="token operator">:</span>\u7236\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      	</span><span class="token punctuation">{</span><span class="token comment">/* \u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012state\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token literal-property property">pathname</span><span class="token operator">:</span><span class="token string">&#39;/home/message/detail&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span>msgObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
     	</span><span class="token punctuation">{</span><span class="token comment">/* state\u53C2\u6570\u65E0\u9700\u58F0\u660E\u63A5\u6536\uFF0C\u6B63\u5E38\u6CE8\u518C\u8DEF\u7531\u5373\u53EF */</span><span class="token punctuation">}</span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Detail<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>\u63A5\u53D7\u53C2\u6570<span class="token operator">:</span>\u5B50\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    <span class="token comment">// \u63A5\u6536state\u53C2\u6570,\u540E\u9762\u6DFB\u52A0\`||{}\`\u662F\u9632\u6B62\u4F7F\u7528\`HashRouter\`\u540Estate\u4E3Aundefined\u65F6\u62A5\u9519</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span>id<span class="token punctuation">,</span>title<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_11\u3001\u7F16\u7A0B\u5F0F\u8DEF\u7531\u5BFC\u822A" tabindex="-1"><a class="header-anchor" href="#_11\u3001\u7F16\u7A0B\u5F0F\u8DEF\u7531\u5BFC\u822A" aria-hidden="true">#</a> 11\u3001\u7F16\u7A0B\u5F0F\u8DEF\u7531\u5BFC\u822A</h2><blockquote><p><code>\u501F\u52A9this.prosp.history\u5BF9\u8C61\u4E0A\u7684API\u5BF9</code>\u64CD\u4F5C\u8DEF\u7531\u8DF3\u8F6C\u3001\u524D\u8FDB\u3001\u540E\u9000</p><ol><li>-this.prosp.history.push()</li></ol><p>\u5C06\u5386\u53F2\u8BB0\u5F55\u538B\u5165\u6808</p><ol start="2"><li>-this.props.history.replace()</li></ol><p>\u66FF\u4EE3\u6808\u4F4D\u7F6E,\u5373\u4E0D\u4F1A\u4EA7\u751F\u5386\u53F2\u8BB0\u5F55</p><ol start="3"><li>-this.props.history.goBack()</li></ol><p>\u56DE\u9000\u4E00\u683C</p><ol start="4"><li>-this.props.history.goForward()</li></ol><p>\u524D\u8FDB\u4E00\u683C</p><ol start="5"><li>-this.props.history.go()</li></ol><p>\u524D\u8FDB\u6216\u8005\u540E\u9000n\u683C(\u6839\u636E\u4F20\u5165\u7684\u6570\u5B57\u6B63\u8D1F\u6570)</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> Detail <span class="token keyword">from</span> <span class="token string">&#39;./Detail&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Message</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
 state <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">messageArr</span><span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;01&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;\u6D88\u606F1&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;02&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;\u6D88\u606F2&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;03&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;\u6D88\u606F3&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>

 <span class="token function-variable function">replaceShow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> title</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token comment">//replace\u8DF3\u8F6C+\u643A\u5E26params\u53C2\u6570</span>
   <span class="token comment">//this.props.history.replace(\`/home/message/detail/\${id}/\${title}\`)</span>

   <span class="token comment">//replace\u8DF3\u8F6C+\u643A\u5E26search\u53C2\u6570</span>
   <span class="token comment">// this.props.history.replace(\`/home/message/detail?id=\${id}&amp;title=\${title}\`)</span>

   <span class="token comment">//replace\u8DF3\u8F6C+\u643A\u5E26state\u53C2\u6570</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/home/message/detail</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> title <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token function-variable function">pushShow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> title</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token comment">//push\u8DF3\u8F6C+\u643A\u5E26params\u53C2\u6570</span>
   <span class="token comment">// this.props.history.push(\`/home/message/detail/\${id}/\${title}\`)</span>

   <span class="token comment">//push\u8DF3\u8F6C+\u643A\u5E26search\u53C2\u6570</span>
   <span class="token comment">// this.props.history.push(\`/home/message/detail?id=\${id}&amp;title=\${title}\`)</span>

   <span class="token comment">//push\u8DF3\u8F6C+\u643A\u5E26state\u53C2\u6570</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/home/message/detail</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> title <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token punctuation">}</span>

 <span class="token function-variable function">back</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token function-variable function">forward</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token function-variable function">go</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> messageArr <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
         </span><span class="token punctuation">{</span>
           messageArr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">msgObj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
             <span class="token keyword">return</span> <span class="token punctuation">(</span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                 </span><span class="token punctuation">{</span><span class="token comment">/* \u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012params\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
                 </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Link to={\`/home/message/detail/\${msgObj.id}/\${msgObj.title}\`}&gt;{msgObj.title}&lt;/Link&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">

                 </span><span class="token punctuation">{</span><span class="token comment">/* \u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012search\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
                 </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Link to={\`/home/message/detail/?id=\${msgObj.id}&amp;title=\${msgObj.title}\`}&gt;{msgObj.title}&lt;/Link&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">

                 </span><span class="token punctuation">{</span><span class="token comment">/* \u5411\u8DEF\u7531\u7EC4\u4EF6\u4F20\u9012state\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
                 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">to</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">&#39;/home/message/detail&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> msgObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token literal-property property">title</span><span class="token operator">:</span> msgObj<span class="token punctuation">.</span>title <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>msgObj<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushShow</span><span class="token punctuation">(</span>msgObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> msgObj<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">push\u67E5\u770B</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replaceShow</span><span class="token punctuation">(</span>msgObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span> msgObj<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">replace\u67E5\u770B</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
               </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
             <span class="token punctuation">)</span>
           <span class="token punctuation">}</span><span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
       </span><span class="token punctuation">{</span><span class="token comment">/* \u58F0\u660E\u63A5\u6536params\u53C2\u6570 */</span><span class="token punctuation">}</span><span class="token plain-text">
       </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Route path=&quot;/home/message/detail/:id/:title&quot; component={Detail}/&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">

       </span><span class="token punctuation">{</span><span class="token comment">/* search\u53C2\u6570\u65E0\u9700\u58F0\u660E\u63A5\u6536\uFF0C\u6B63\u5E38\u6CE8\u518C\u8DEF\u7531\u5373\u53EF */</span><span class="token punctuation">}</span><span class="token plain-text">
       </span><span class="token punctuation">{</span><span class="token comment">/* &lt;Route path=&quot;/home/message/detail&quot; component={Detail}/&gt; */</span><span class="token punctuation">}</span><span class="token plain-text">

       </span><span class="token punctuation">{</span><span class="token comment">/* state\u53C2\u6570\u65E0\u9700\u58F0\u660E\u63A5\u6536\uFF0C\u6B63\u5E38\u6CE8\u518C\u8DEF\u7531\u5373\u53EF */</span><span class="token punctuation">}</span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span></span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail<span class="token punctuation">&quot;</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Detail<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">

       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>back<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u56DE\u9000</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>forward<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u524D\u8FDB</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>go<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">go</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_12\u3001withrouter\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_12\u3001withrouter\u7684\u4F7F\u7528" aria-hidden="true">#</a> 12\u3001withRouter\u7684\u4F7F\u7528</h2><blockquote><ol><li>withRouter\u53EF\u4EE5\u52A0\u5DE5\u4E00\u822C\u7EC4\u4EF6\uFF0C\u8BA9\u4E00\u822C\u7EC4\u4EF6\u5177\u5907\u8DEF\u7531\u7EC4\u4EF6\u6240\u7279\u6709\u7684API</li><li>withRouter\u7684\u8FD4\u56DE\u503C\u662F\u4E00\u4E2A\u65B0\u7EC4\u4EF6</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> withRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
 <span class="token function-variable function">back</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
 <span class="token function-variable function">forward</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
 <span class="token function-variable function">go</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
 <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Header\u7EC4\u4EF6\u6536\u5230\u7684props\u662F&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">React Router Demo</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>back<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u56DE\u9000</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>forward<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u524D\u8FDB</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>go<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">go</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withRouter</span><span class="token punctuation">(</span>Header<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_13\u3001browserrouter\u4E0Ehashrouter\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#_13\u3001browserrouter\u4E0Ehashrouter\u7684\u533A\u522B" aria-hidden="true">#</a> 13\u3001BrowserRouter\u4E0EHashRouter\u7684\u533A\u522B</h2><blockquote><p>\u5907\u6CE8\uFF1AHashRouter\u53EF\u4EE5\u7528\u4E8E\u89E3\u51B3\u4E00\u4E9B\u8DEF\u5F84\u9519\u8BEF\u76F8\u5173\u7684\u95EE\u9898\u3002\u5373\u5728<code>\u95EE\u98986</code>\u4E2D\u5F15\u5165\u6587\u4EF6\u65F6\u53EF\u4EE5\u4E0D\u8FDB\u884C\u8DEF\u5F84\u4FEE\u6539</p></blockquote><h3 id="i-\u5E95\u5C42\u539F\u7406\u4E0D\u4E00\u6837" tabindex="-1"><a class="header-anchor" href="#i-\u5E95\u5C42\u539F\u7406\u4E0D\u4E00\u6837" aria-hidden="true">#</a> \u2160-\u5E95\u5C42\u539F\u7406\u4E0D\u4E00\u6837\uFF1A</h3><blockquote><ol><li>BrowserRouter\u4F7F\u7528\u7684\u662FH5\u7684history API\uFF0C\u4E0D\u517C\u5BB9IE9\u53CA\u4EE5\u4E0B\u7248\u672C\u3002</li></ol><p><code>\u4F46\u4E00\u822C\u6765\u8BF4\u90FD\u7528\u7684\u8FD9\u4E2A</code></p><ol start="2"><li>HashRouter\u4F7F\u7528\u7684\u662FURL\u7684\u54C8\u5E0C\u503C\u3002</li></ol></blockquote><h3 id="ii-path\u8868\u73B0\u5F62\u5F0F\u4E0D\u4E00\u6837" tabindex="-1"><a class="header-anchor" href="#ii-path\u8868\u73B0\u5F62\u5F0F\u4E0D\u4E00\u6837" aria-hidden="true">#</a> \u2161-path\u8868\u73B0\u5F62\u5F0F\u4E0D\u4E00\u6837</h3><blockquote><ol><li><p>BrowserRouter\u7684\u8DEF\u5F84\u4E2D\u6CA1\u6709#,\u4F8B\u5982\uFF1Alocalhost:3000/demo/test</p></li><li><p>HashRouter\u7684\u8DEF\u5F84\u5305\u542B#,\u4F8B\u5982\uFF1Alocalhost:3000/#/demo/test</p></li></ol></blockquote><h3 id="iii-\u5237\u65B0\u540E\u5BF9\u8DEF\u7531state\u53C2\u6570\u7684\u5F71\u54CD" tabindex="-1"><a class="header-anchor" href="#iii-\u5237\u65B0\u540E\u5BF9\u8DEF\u7531state\u53C2\u6570\u7684\u5F71\u54CD" aria-hidden="true">#</a> \u2162-\u5237\u65B0\u540E\u5BF9\u8DEF\u7531state\u53C2\u6570\u7684\u5F71\u54CD</h3><blockquote><ol><li><p>BrowserRouter\u6CA1\u6709\u4EFB\u4F55\u5F71\u54CD\uFF0C\u56E0\u4E3Astate\u4FDD\u5B58\u5728history\u5BF9\u8C61\u4E2D\u3002</p></li><li><p>HashRouter<code>\u5237\u65B0\u540E\u4F1A\u5BFC\u81F4\u8DEF\u7531state\u53C2\u6570\u7684\u4E22\u5931\uFF01\uFF01\uFF01</code></p></li></ol></blockquote><h1 id="v-ant-design" tabindex="-1"><a class="header-anchor" href="#v-ant-design" aria-hidden="true">#</a> \u2164-Ant Design</h1><h2 id="_1\u3001\u76F8\u5173\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u76F8\u5173\u6587\u6863" aria-hidden="true">#</a> 1\u3001\u76F8\u5173\u6587\u6863</h2><blockquote><h3 id="ant-design-\u56FD\u5185\u8682\u8681\u91D1\u670D" tabindex="-1"><a class="header-anchor" href="#ant-design-\u56FD\u5185\u8682\u8681\u91D1\u670D" aria-hidden="true">#</a> ant-design(\u56FD\u5185\u8682\u8681\u91D1\u670D)</h3><ol><li>\u5B98\u7F51: https://ant.design/index-cn</li><li>Github: https://github.com/ant-design/ant-design/</li></ol><h3 id="material-ui-\u56FD\u5916" tabindex="-1"><a class="header-anchor" href="#material-ui-\u56FD\u5916" aria-hidden="true">#</a> material-ui(\u56FD\u5916)</h3><ol><li><p>\u5B98\u7F51: http://www.material-ui.com/#/</p></li><li><p>github: https://github.com/callemall/material-ui</p></li></ol></blockquote><h2 id="_2\u3001\u6309\u9700\u5F15\u5165\u4E0E\u81EA\u5B9A\u4E49\u4E3B\u9898" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u6309\u9700\u5F15\u5165\u4E0E\u81EA\u5B9A\u4E49\u4E3B\u9898" aria-hidden="true">#</a> 2\u3001\u6309\u9700\u5F15\u5165\u4E0E\u81EA\u5B9A\u4E49\u4E3B\u9898</h2><h3 id="i-\u5B89\u88C5\u4F9D\u8D56" tabindex="-1"><a class="header-anchor" href="#i-\u5B89\u88C5\u4F9D\u8D56" aria-hidden="true">#</a> \u2160-\u5B89\u88C5\u4F9D\u8D56</h3><blockquote><p>yarn add react-app-rewired customize-cra babel-plugin-import less less-loader</p></blockquote><h3 id="ii-\u4FEE\u6539package-json" tabindex="-1"><a class="header-anchor" href="#ii-\u4FEE\u6539package-json" aria-hidden="true">#</a> \u2161-\u4FEE\u6539package.json</h3><blockquote><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>	<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired start&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired build&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-app-rewired test&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;eject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts eject&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="iii-\u6839\u76EE\u5F55\u4E0B\u521B\u5EFAconfig-overrides-js" tabindex="-1"><a class="header-anchor" href="#iii-\u6839\u76EE\u5F55\u4E0B\u521B\u5EFAconfig-overrides-js" aria-hidden="true">#</a> \u2162-\u6839\u76EE\u5F55\u4E0B\u521B\u5EFAconfig-overrides.js</h3><blockquote><p>\u6CE8\u610F:\u5982\u679C\u6309\u7167\u5B98\u65B9\u6587\u6863\u7684\u81EA\u5B9A\u4E49\u4E3B\u9898\u8FDB\u884C\u914D\u7F6E\u53EF\u80FD\u4F1A\u62A5\u9519,\u9700\u8981\u591A\u52A0\u4E00\u5C42<code>lessOptions</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u914D\u7F6E\u5177\u4F53\u7684\u4FEE\u6539\u89C4\u5219</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> override<span class="token punctuation">,</span> fixBabelImports<span class="token punctuation">,</span>addLessLoader<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;customize-cra&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
	<span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">&#39;import&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">libraryName</span><span class="token operator">:</span> <span class="token string">&#39;antd&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">libraryDirectory</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span><span class="token punctuation">,</span>
		<span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">addLessLoader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">lessOptions</span><span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token literal-property property">javascriptEnabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			<span class="token literal-property property">modifyVars</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;@primary-color&#39;</span><span class="token operator">:</span> <span class="token string">&#39;green&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>\u5B98\u65B9\u65B9\u6CD5<span class="token punctuation">,</span>\u4F1A\u62A5\u9519<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>    
<span class="token operator">+</span> <span class="token function">addLessLoader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">+</span>   javascriptEnabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token operator">+</span>   modifyVars<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;@primary-color&#39;</span><span class="token operator">:</span> <span class="token string">&#39;#1DA57A&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">+</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>   
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="iv-\u6210\u529F" tabindex="-1"><a class="header-anchor" href="#iv-\u6210\u529F" aria-hidden="true">#</a> \u2163-\u6210\u529F</h3><blockquote><p>\u5907\u6CE8\uFF1A\u4E0D\u7528\u5728\u7EC4\u4EF6\u91CC\u4EB2\u81EA\u5F15\u5165\u6837\u5F0F\u4E86\uFF0C\u5373\uFF1Aimport &#39;antd/dist/antd.css&#39;\u5E94\u8BE5\u5220\u6389</p></blockquote><h1 id="vi-redux" tabindex="-1"><a class="header-anchor" href="#vi-redux" aria-hidden="true">#</a> \u2165-Redux</h1><h2 id="_1\u3001redux\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#_1\u3001redux\u7406\u89E3" aria-hidden="true">#</a> 1\u3001redux\u7406\u89E3</h2><h3 id="i-\u5B66\u4E60\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#i-\u5B66\u4E60\u6587\u6863" aria-hidden="true">#</a> \u2160-\u5B66\u4E60\u6587\u6863</h3><blockquote><ol><li><p>\u82F1\u6587\u6587\u6863: https://redux.js.org/</p></li><li><p>\u4E2D\u6587\u6587\u6863: http://www.redux.org.cn/</p></li><li><p>Github: https://github.com/reactjs/redux</p></li></ol></blockquote><h3 id="ii-redux\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#ii-redux\u662F\u4EC0\u4E48" aria-hidden="true">#</a> \u2161-redux\u662F\u4EC0\u4E48</h3><blockquote><ol><li><p>redux\u662F\u4E00\u4E2A\u4E13\u95E8\u7528\u4E8E\u505A<code>\u72B6\u6001\u7BA1\u7406\u7684JS\u5E93</code>(\u4E0D\u662Freact\u63D2\u4EF6\u5E93)\u3002</p></li><li><p>\u5B83\u53EF\u4EE5\u7528\u5728react, angular, vue\u7B49\u9879\u76EE\u4E2D, \u4F46\u57FA\u672C\u4E0Ereact\u914D\u5408\u4F7F\u7528\u3002</p></li><li><p>\u4F5C\u7528: \u96C6\u4E2D\u5F0F\u7BA1\u7406react\u5E94\u7528\u4E2D\u591A\u4E2A\u7EC4\u4EF6<code>\u5171\u4EAB</code>\u7684\u72B6\u6001\u3002</p></li></ol></blockquote><h3 id="iii-\u4EC0\u4E48\u60C5\u51B5\u4E0B\u9700\u8981\u4F7F\u7528redux" tabindex="-1"><a class="header-anchor" href="#iii-\u4EC0\u4E48\u60C5\u51B5\u4E0B\u9700\u8981\u4F7F\u7528redux" aria-hidden="true">#</a> \u2162-\u4EC0\u4E48\u60C5\u51B5\u4E0B\u9700\u8981\u4F7F\u7528redux</h3><blockquote><ol><li><p>\u67D0\u4E2A\u7EC4\u4EF6\u7684\u72B6\u6001\uFF0C\u9700\u8981\u8BA9\u5176\u4ED6\u7EC4\u4EF6\u53EF\u4EE5\u968F\u65F6\u62FF\u5230\uFF08\u5171\u4EAB\uFF09\u3002</p></li><li><p>\u4E00\u4E2A\u7EC4\u4EF6\u9700\u8981\u6539\u53D8\u53E6\u4E00\u4E2A\u7EC4\u4EF6\u7684\u72B6\u6001\uFF08\u901A\u4FE1\uFF09\u3002</p></li><li><p>\u603B\u4F53\u539F\u5219\uFF1A\u80FD\u4E0D\u7528\u5C31\u4E0D\u7528, \u5982\u679C\u4E0D\u7528\u6BD4\u8F83\u5403\u529B\u624D\u8003\u8651\u4F7F\u7528\u3002</p></li></ol></blockquote><h3 id="iv-redux\u5DE5\u4F5C\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#iv-redux\u5DE5\u4F5C\u6D41\u7A0B" aria-hidden="true">#</a> \u2163-redux\u5DE5\u4F5C\u6D41\u7A0B</h3><blockquote><p><img src="`+i+`" alt="React\u7CFB\u7EDF\u5B66\u4E60_Redux\u5DE5\u4F5C\u6D41\u7A0B\u539F\u7406\u56FE"></p></blockquote><h2 id="_2\u3001redux\u7684\u4E09\u4E2A\u6838\u5FC3\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_2\u3001redux\u7684\u4E09\u4E2A\u6838\u5FC3\u6982\u5FF5" aria-hidden="true">#</a> 2\u3001redux\u7684\u4E09\u4E2A\u6838\u5FC3\u6982\u5FF5</h2><h3 id="i-action" tabindex="-1"><a class="header-anchor" href="#i-action" aria-hidden="true">#</a> \u2160-action</h3><blockquote><ol><li><p><code>\u52A8\u4F5C\u7684\u5BF9\u8C61</code></p></li><li><p>\u5305\u542B2\u4E2A\u5C5E\u6027</p><p>type\uFF1A\u6807\u8BC6\u5C5E\u6027, \u503C\u4E3A\u5B57\u7B26\u4E32, \u552F\u4E00, \u5FC5\u8981\u5C5E\u6027</p><p>data\uFF1A\u6570\u636E\u5C5E\u6027, \u503C\u7C7B\u578B\u4EFB\u610F, \u53EF\u9009\u5C5E\u6027</p></li><li><p>\u4F8B\u5B50\uFF1A{ type: &#39;ADD_STUDENT&#39;,data:{name: &#39;tom&#39;,age:18} }</p></li></ol></blockquote><h3 id="ii-reducer" tabindex="-1"><a class="header-anchor" href="#ii-reducer" aria-hidden="true">#</a> \u2161-reducer</h3><blockquote><ol><li>\u7528\u4E8E\u521D\u59CB\u5316\u72B6\u6001\u3001\u52A0\u5DE5\u72B6\u6001\u3002</li><li>\u52A0\u5DE5\u65F6\uFF0C\u6839\u636E\u65E7\u7684state\u548Caction\uFF0C \u4EA7\u751F\u65B0\u7684state\u7684\`\u7EAF\u51FD\u6570(\u4EE5\u4E0B\u4E3A\u7EAF\u51FD\u6570\u6982\u5FF5)\`\`</li></ol><ul><li>\`\`\u7EAF\u51FD\u6570:\`\u4E00\u7C7B\u7279\u522B\u7684\u51FD\u6570: \u53EA\u8981\u662F\u540C\u6837\u7684\u8F93\u5165(\u5B9E\u53C2)\uFF0C\u5FC5\u5B9A\u5F97\u5230\u540C\u6837\u7684\u8F93\u51FA(\u8FD4\u56DE)</li><li>\u5FC5\u987B\u9075\u5B88\u4EE5\u4E0B\u4E00\u4E9B\u7EA6\u675F <ol><li>\u4E0D\u5F97\u6539\u5199\u53C2\u6570\u6570\u636E</li><li>\u4E0D\u4F1A\u4EA7\u751F\u4EFB\u4F55\u526F\u4F5C\u7528\uFF0C\u4F8B\u5982\u7F51\u7EDC\u8BF7\u6C42\uFF0C\u8F93\u5165\u548C\u8F93\u51FA\u8BBE\u5907</li><li>\u4E0D\u80FD\u8C03\u7528Date.now()\u6216\u8005Math.random()\u7B49\u4E0D\u7EAF\u7684\u65B9\u6CD5</li></ol></li></ul><ol start="3"><li><code>redux\u7684reducer\u51FD\u6570\u5FC5\u987B\u662F\u4E00\u4E2A\u7EAF\u51FD\u6570</code></li></ol></blockquote><h3 id="iii-store" tabindex="-1"><a class="header-anchor" href="#iii-store" aria-hidden="true">#</a> \u2162-store</h3><blockquote><ol><li><p>\u5C06state\u3001action\u3001reducer\u8054\u7CFB\u5728\u4E00\u8D77\u7684\u5BF9\u8C61</p></li><li><p><code>\u5982\u4F55\u5F97\u5230\u6B64\u5BF9\u8C61</code>?</p><ul><li>import {createStore} from &#39;redux&#39;</li><li>import reducer from &#39;./reducers&#39;</li><li>const store = createStore(reducer)</li></ul></li><li><p>\u6B64\u5BF9\u8C61\u7684\u529F\u80FD?</p><ul><li><p>getState(): \u5F97\u5230state</p></li><li><p>dispatch(action): \u5206\u53D1action, \u89E6\u53D1reducer\u8C03\u7528, \u4EA7\u751F\u65B0\u7684state</p></li><li><p>subscribe(listener): \u6CE8\u518C\u76D1\u542C, \u5F53\u4EA7\u751F\u4E86\u65B0\u7684state\u65F6, \u81EA\u52A8\u8C03\u7528</p></li></ul></li></ol></blockquote><h2 id="_3\u3001redux\u7684\u6838\u5FC3api" tabindex="-1"><a class="header-anchor" href="#_3\u3001redux\u7684\u6838\u5FC3api" aria-hidden="true">#</a> 3\u3001redux\u7684\u6838\u5FC3API</h2><h3 id="i-createstore-\u4E0Eapplymiddleware" tabindex="-1"><a class="header-anchor" href="#i-createstore-\u4E0Eapplymiddleware" aria-hidden="true">#</a> \u2160-createstore()\u4E0EapplyMiddleware()</h3><blockquote><p>createstore()\u4F5C\u7528\uFF1A\u521B\u5EFA\u5305\u542B\u6307\u5B9Areducer\u7684store\u5BF9\u8C61</p><p>applyMiddleware()\u4F5C\u7528\uFF1A\u5E94\u7528\u4E0A\u57FA\u4E8Eredux\u7684\u4E2D\u95F4\u4EF6(\u63D2\u4EF6\u5E93)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u4EE3\u7801\u793A\u4F8B</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>store<span class="token punctuation">.</span>js \u90E8\u5206\u4EE3\u7801<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">//\u5F15\u5165createStore,\u4E13\u95E8\u7528\u4E8E\u521B\u5EFAredux\u4E2D\u6700\u4E3A\u6838\u5FC3\u7684store\u5BF9\u8C61</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span>applyMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token comment">//\u66B4\u9732store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span><span class="token function">composeWithDevTools</span><span class="token punctuation">(</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="ii-store\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#ii-store\u5BF9\u8C61" aria-hidden="true">#</a> \u2161-store\u5BF9\u8C61</h3><blockquote><ol><li><p>\u4F5C\u7528: redux\u5E93\u6700\u6838\u5FC3\u7684\u7BA1\u7406\u5BF9\u8C61</p></li><li><p>\u5B83\u5185\u90E8\u7EF4\u62A4\u7740:</p><ul><li><p>state</p></li><li><p>reducer</p></li></ul></li><li><p>\u6838\u5FC3\u65B9\u6CD5:</p><ul><li><p>getState()</p></li><li><p>dispatch(action)</p></li><li><p>subscribe(listener)</p></li></ul></li><li><p>\u5177\u4F53\u7F16\u7801:</p><ul><li><p>store.getState()</p></li><li><p>store.dispatch({type:&#39;INCREMENT&#39;, number})</p></li><li><p>store.subscribe(render)</p></li></ul></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u4EE3\u7801\u793A\u4F8B</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>store<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">/**
* \u8BE5\u6587\u4EF6\u64B0\u6587\u7528\u4E8E\u66B4\u9732\u4E00\u4E2Astore\u5BF9\u8C61,\u6574\u4E2A\u5E94\u7528\u53EA\u6709\u4E00\u4E2Astore\u5BF9\u8C61
*/</span>
<span class="token comment">//\u5F15\u5165createStore,\u4E13\u95E8\u7528\u4E8E\u521B\u5EFAredux\u4E2D\u6700\u4E3A\u6838\u5FC3\u7684store\u5BF9\u8C61</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span>applyMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token comment">//\u5F15\u5165\u6C47\u603B\u540E\u7684reducer</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">&#39;./reducers&#39;</span>
<span class="token comment">//\u5F15\u5165redux-thunk\uFF0C\u7528\u4E8E\u652F\u6301\u5F02\u6B65action</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">&#39;redux-thunk&#39;</span>
<span class="token comment">//\u5F15\u5165redux-devtools-extension</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>composeWithDevTools<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux-devtools-extension&#39;</span>
<span class="token comment">//\u66B4\u9732store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span><span class="token function">composeWithDevTools</span><span class="token punctuation">(</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>index<span class="token punctuation">.</span>js \u5F15\u5165store\u5BF9\u8C61<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./redux/store&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Provider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
	<span class="token comment">/* \u6B64\u5904\u9700\u8981\u7528Provider\u5305\u88F9App\uFF0C\u76EE\u7684\u662F\u8BA9App\u6240\u6709\u7684\u540E\u4EE3\u5BB9\u5668\u7EC4\u4EF6\u90FD\u80FD\u63A5\u6536\u5230store */</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="iii-combinereducers" tabindex="-1"><a class="header-anchor" href="#iii-combinereducers" aria-hidden="true">#</a> \u2162-combineReducers()</h3><blockquote><p>\u4F5C\u7528\uFF1A\u5408\u5E76\u591A\u4E2Areducer\u51FD\u6570</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u4EE3\u7801\u793A\u4F8B</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> redux<span class="token operator">/</span>reducers<span class="token operator">/</span>index<span class="token punctuation">.</span>js <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">/**
 * \u8BE5\u6587\u4EF6\u7528\u4E8E\u6C47\u603B\u6240\u6709\u7684reducer\u4E3A\u4E00\u4E2A\u603B\u7684reducer
 */</span>
<span class="token comment">//\u5F15\u5165combineReducers\uFF0C\u7528\u4E8E\u6C47\u603B\u591A\u4E2Areducer</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>combineReducers<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token comment">//\u5F15\u5165\u4E3ACount\u7EC4\u4EF6\u670D\u52A1\u7684reducer</span>
<span class="token keyword">import</span> count <span class="token keyword">from</span> <span class="token string">&#39;./count&#39;</span>
<span class="token keyword">import</span> persons <span class="token keyword">from</span> <span class="token string">&#39;./person&#39;</span>

<span class="token comment">//\u6C47\u603B\u6240\u6709\u7684reducer\u53D8\u4E3A\u4E00\u4E2A\u603B\u7684reducer</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count<span class="token punctuation">,</span>persons
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_4\u3001redux-\u5F02\u6B65\u7F16\u7A0B" tabindex="-1"><a class="header-anchor" href="#_4\u3001redux-\u5F02\u6B65\u7F16\u7A0B" aria-hidden="true">#</a> 4\u3001redux \u5F02\u6B65\u7F16\u7A0B</h2><h3 id="i-\u7406\u89E3" tabindex="-1"><a class="header-anchor" href="#i-\u7406\u89E3" aria-hidden="true">#</a> \u2160-\u7406\u89E3</h3><blockquote><ol><li><p>redux\u9ED8\u8BA4\u662F\u4E0D\u80FD\u8FDB\u884C\u5F02\u6B65\u5904\u7406\u7684,</p></li><li><p>\u67D0\u4E9B\u65F6\u5019\u5E94\u7528\u4E2D\u9700\u8981\u5728<code>redux</code>\u4E2D\u6267\u884C\u5F02\u6B65\u4EFB\u52A1(ajax, \u5B9A\u65F6\u5668)</p></li></ol></blockquote><h3 id="ii-\u4F7F\u7528\u5F02\u6B65\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#ii-\u4F7F\u7528\u5F02\u6B65\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> \u2161- \u4F7F\u7528\u5F02\u6B65\u4E2D\u95F4\u4EF6</h3><blockquote><ol><li><p>\u4E0B\u8F7D\u4F9D\u8D56<code>npm install --save redux-thunk</code></p></li><li><p>\u4F7F\u7528</p></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u4EE3\u7801\u793A\u4F8B</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>store<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">/**
 * \u8BE5\u6587\u4EF6\u64B0\u6587\u7528\u4E8E\u66B4\u9732\u4E00\u4E2Astore\u5BF9\u8C61,\u6574\u4E2A\u5E94\u7528\u53EA\u6709\u4E00\u4E2Astore\u5BF9\u8C61
 */</span>
<span class="token comment">//\u5F15\u5165createStore,\u4E13\u95E8\u7528\u4E8E\u521B\u5EFAredux\u4E2D\u6700\u4E3A\u6838\u5FC3\u7684store\u5BF9\u8C61</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span>applyMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token comment">//\u5F15\u5165\u6C47\u603B\u540E\u7684reducer</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">&#39;./reducers&#39;</span>
<span class="token comment">//\u5F15\u5165redux-thunk\uFF0C\u7528\u4E8E\u652F\u6301\u5F02\u6B65action</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">&#39;redux-thunk&#39;</span>
<span class="token comment">//\u5F15\u5165redux-devtools-extension</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>composeWithDevTools<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux-devtools-extension&#39;</span>
<span class="token comment">//\u66B4\u9732store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span><span class="token function">composeWithDevTools</span><span class="token punctuation">(</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_5\u3001react-redux" tabindex="-1"><a class="header-anchor" href="#_5\u3001react-redux" aria-hidden="true">#</a> 5\u3001react-redux</h2><h3 id="i-\u7406\u89E3-1" tabindex="-1"><a class="header-anchor" href="#i-\u7406\u89E3-1" aria-hidden="true">#</a> \u2160-\u7406\u89E3</h3><blockquote><ol><li><p>\u4E00\u4E2Areact\u63D2\u4EF6\u5E93</p></li><li><p>\u4E13\u95E8\u7528\u6765\u7B80\u5316react\u5E94\u7528\u4E2D\u4F7F\u7528redux</p></li></ol></blockquote><h3 id="ii-react-redux\u5C06\u6240\u6709\u7EC4\u4EF6\u5206\u6210\u4E24\u5927\u7C7B" tabindex="-1"><a class="header-anchor" href="#ii-react-redux\u5C06\u6240\u6709\u7EC4\u4EF6\u5206\u6210\u4E24\u5927\u7C7B" aria-hidden="true">#</a> \u2161-react-Redux\u5C06\u6240\u6709\u7EC4\u4EF6\u5206\u6210\u4E24\u5927\u7C7B</h3><h4 id="_1-ui\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-ui\u7EC4\u4EF6" aria-hidden="true">#</a> \u2460 UI\u7EC4\u4EF6</h4><blockquote><ol><li><p>\u53EA\u8D1F\u8D23 UI \u7684\u5448\u73B0\uFF0C\u4E0D\u5E26\u6709\u4EFB\u4F55\u4E1A\u52A1\u903B\u8F91</p></li><li><p>\u901A\u8FC7props\u63A5\u6536\u6570\u636E(\u4E00\u822C\u6570\u636E\u548C\u51FD\u6570)</p></li><li><p>\u4E0D\u4F7F\u7528\u4EFB\u4F55 Redux \u7684 API</p></li><li><p>\u4E00\u822C\u4FDD\u5B58\u5728<code>components</code>\u6587\u4EF6\u5939\u4E0B,\u4E5F\u53EF\u4EE5\u76F4\u63A5\u5199\u5728\u5BB9\u5668\u7EC4\u4EF6\u4E2D\u76F4\u63A5\u52A0\u5DE5\u6210\u5BB9\u5668\u7EC4\u4EF6</p></li></ol></blockquote><h4 id="_2-\u5BB9\u5668\u7EC4\u4EF6" tabindex="-1"><a class="header-anchor" href="#_2-\u5BB9\u5668\u7EC4\u4EF6" aria-hidden="true">#</a> \u2461 \u5BB9\u5668\u7EC4\u4EF6</h4><blockquote><ol><li><p>\u8D1F\u8D23\u7BA1\u7406\u6570\u636E\u548C\u4E1A\u52A1\u903B\u8F91\uFF0C\u4E0D\u8D1F\u8D23UI\u7684\u5448\u73B0</p></li><li><p>\u4F7F\u7528 Redux \u7684 API</p></li><li><p>\u4E00\u822C\u4FDD\u5B58\u5728<code>ontainers</code>\u6587\u4EF6\u5939\u4E0B</p></li></ol></blockquote><h3 id="iii-\u76F8\u5173api" tabindex="-1"><a class="header-anchor" href="#iii-\u76F8\u5173api" aria-hidden="true">#</a> \u2162-\u76F8\u5173API</h3><h4 id="_1-provider" tabindex="-1"><a class="header-anchor" href="#_1-provider" aria-hidden="true">#</a> \u2460 Provider</h4><blockquote><p>\u4F5C\u7528: \u8BA9\u6240\u6709\u7EC4\u4EF6\u90FD\u53EF\u4EE5\u5F97\u5230state\u6570\u636E</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./redux/store&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Provider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
	<span class="token comment">/* \u6B64\u5904\u9700\u8981\u7528Provider\u5305\u88F9App\uFF0C\u76EE\u7684\u662F\u8BA9App\u6240\u6709\u7684\u540E\u4EE3\u5BB9\u5668\u7EC4\u4EF6\u90FD\u80FD\u63A5\u6536\u5230store */</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h4 id="_2-connect" tabindex="-1"><a class="header-anchor" href="#_2-connect" aria-hidden="true">#</a> \u2461 <code>connect()()</code></h4><blockquote><ol><li><p>\u4F5C\u7528: \u7528\u4E8E\u5305\u88C5 UI \u7EC4\u4EF6\u751F\u6210\u5BB9\u5668\u7EC4\u4EF6</p></li><li><p>\u4F7F\u7528connect(<code>mapDispatchToProps</code>,<code>mapDispatchToProps</code>)(UI\u7EC4\u4EF6)</p></li></ol><p>\u6CE8\u610F\u70B9:</p><ol><li>\u8BE5\u65B9\u6CD5\u9ED8\u8BA4\u4F20\u5165<code>state</code>\u4E0E<code>dispatch</code></li><li>\u53EF\u4EE5\u7701\u7565<code>dispatch</code>\u76F4\u63A5\u4F20\u5165<code>action</code>\u65B9\u6CD5,\u8BE5api\u4F1A\u81EA\u52A8\u5E2E\u4F60\u8C03\u7528<code>dispatch</code></li></ol></blockquote><h5 id="i-mapstatetoprops" tabindex="-1"><a class="header-anchor" href="#i-mapstatetoprops" aria-hidden="true">#</a> \u2160-mapStateToProps</h5><blockquote><p>\u4F5C\u7528:\u5C06\u5916\u90E8\u7684\u6570\u636E\uFF08\u5373<code>state\u5BF9\u8C61</code>\uFF09\u8F6C\u6362\u4E3AUI\u7EC4\u4EF6\u7684\u6807\u7B7E\u5C5E\u6027</p><p>1.mapStateToProps\u51FD\u6570\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF1B</p><p>2.\u8FD4\u56DE\u7684\u5BF9\u8C61\u4E2D\u7684key\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684key,value\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684value</p><p>3.mapStateToProps<code>\u7528\u4E8E\u4F20\u9012\u72B6\u6001</code></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span>state<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h5 id="ii-mapdispatchtoprops" tabindex="-1"><a class="header-anchor" href="#ii-mapdispatchtoprops" aria-hidden="true">#</a> \u2161-mapDispatchToProps</h5><blockquote><p>\u4F5C\u7528:\u5C06<code>\u5206\u53D1action\u7684\u51FD\u6570</code>\u8F6C\u6362\u4E3AUI\u7EC4\u4EF6\u7684\u6807\u7B7E\u5C5E\u6027</p><ol><li>mapDispatchToProps\u51FD\u6570\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF1B</li><li>\u8FD4\u56DE\u7684\u5BF9\u8C61\u4E2D\u7684key\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684key,value\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684value</li><li>mapDispatchToProps<code>\u7528\u4E8E\u4F20\u9012\u64CD\u4F5C\u72B6\u6001\u7684\u65B9\u6CD5</code></li><li>\u53EF\u4EE5\u7701\u7565<code>dispatch</code>,\u76F4\u63A5\u4F20\u5165<code>action</code>,api\u5C06\u4F1A<code>\u81EA\u52A8\u8C03\u7528</code>dispatch</li></ol></blockquote><h5 id="iii-\u4EE3\u7801\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#iii-\u4EE3\u7801\u793A\u4F8B" aria-hidden="true">#</a> \u2162-\u4EE3\u7801\u793A\u4F8B</h5><blockquote><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>\u4E0D\u7B80\u5316\u4EE3\u7801<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">/* 
	1.mapStateToProps\u51FD\u6570\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF1B
	2.\u8FD4\u56DE\u7684\u5BF9\u8C61\u4E2D\u7684key\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684key,value\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684value
	3.mapStateToProps\u7528\u4E8E\u4F20\u9012\u72B6\u6001
*/</span>
<span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">count</span><span class="token operator">:</span>state<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 
	1.mapDispatchToProps\u51FD\u6570\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF1B
	2.\u8FD4\u56DE\u7684\u5BF9\u8C61\u4E2D\u7684key\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684key,value\u5C31\u4F5C\u4E3A\u4F20\u9012\u7ED9UI\u7EC4\u4EF6props\u7684value
	3.mapDispatchToProps\u7528\u4E8E\u4F20\u9012\u64CD\u4F5C\u72B6\u6001\u7684\u65B9\u6CD5
*/</span>
<span class="token keyword">function</span> <span class="token function">mapDispatchToProps</span><span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">jia</span><span class="token operator">:</span><span class="token parameter">number</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createIncrementAction</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">jian</span><span class="token operator">:</span><span class="token parameter">number</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createDecrementAction</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">jiaAsync</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">number<span class="token punctuation">,</span>time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">createIncrementAsyncAction</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span>time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u4F7F\u7528connect()()\u521B\u5EFA\u5E76\u66B4\u9732\u4E00\u4E2ACount\u7684\u5BB9\u5668\u7EC4\u4EF6</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span>mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>CountUI<span class="token punctuation">)</span>

<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>\u4E0B\u9762\u662F\u7B80\u5316\u4EE3\u7801<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">//\u4F7F\u7528connect()()\u521B\u5EFA\u5E76\u66B4\u9732\u4E00\u4E2ACount\u7684\u5BB9\u5668\u7EC4\u4EF6</span>
<span class="token comment">//\u4F7F\u7528connect(\u4F20\u5165\u72B6\u6001,\u64CD\u4F5C\u72B6\u6001\u65B9\u6CD5)(UI\u7EC4\u4EF6)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>
 <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>
   <span class="token literal-property property">personCount</span><span class="token operator">:</span> state<span class="token punctuation">.</span>persons<span class="token punctuation">.</span>length
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">{</span>increment<span class="token punctuation">,</span> decrement<span class="token punctuation">,</span> incrementAsync<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>Count<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_6\u3001\u4F7F\u7528redux\u8C03\u8BD5\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u4F7F\u7528redux\u8C03\u8BD5\u5DE5\u5177" aria-hidden="true">#</a> 6\u3001\u4F7F\u7528redux\u8C03\u8BD5\u5DE5\u5177</h2><h3 id="i-\u5B89\u88C5chrome\u6D4F\u89C8\u5668\u63D2\u4EF6" tabindex="-1"><a class="header-anchor" href="#i-\u5B89\u88C5chrome\u6D4F\u89C8\u5668\u63D2\u4EF6" aria-hidden="true">#</a> \u2160- \u5B89\u88C5chrome\u6D4F\u89C8\u5668\u63D2\u4EF6</h3><blockquote><p>Redux DecTools</p></blockquote><h3 id="ii-\u4E0B\u8F7D\u5DE5\u5177\u4F9D\u8D56\u5305" tabindex="-1"><a class="header-anchor" href="#ii-\u4E0B\u8F7D\u5DE5\u5177\u4F9D\u8D56\u5305" aria-hidden="true">#</a> \u2161-\u4E0B\u8F7D\u5DE5\u5177\u4F9D\u8D56\u5305</h3><blockquote><p>npm install --save-dev redux-devtools-extension</p></blockquote><h3 id="iii-\u4FEE\u6539store-js" tabindex="-1"><a class="header-anchor" href="#iii-\u4FEE\u6539store-js" aria-hidden="true">#</a> \u2162-\u4FEE\u6539store.js</h3><blockquote><p><code>import {composeWithDevTools} from &#39;redux-devtools-extension&#39;</code></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
* \u8BE5\u6587\u4EF6\u64B0\u6587\u7528\u4E8E\u66B4\u9732\u4E00\u4E2Astore\u5BF9\u8C61,\u6574\u4E2A\u5E94\u7528\u53EA\u6709\u4E00\u4E2Astore\u5BF9\u8C61
*/</span>
<span class="token comment">//\u5F15\u5165createStore,\u4E13\u95E8\u7528\u4E8E\u521B\u5EFAredux\u4E2D\u6700\u4E3A\u6838\u5FC3\u7684store\u5BF9\u8C61</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span>applyMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token comment">//\u5F15\u5165\u6C47\u603B\u540E\u7684reducer</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">&#39;./reducers&#39;</span>
<span class="token comment">//\u5F15\u5165redux-thunk\uFF0C\u7528\u4E8E\u652F\u6301\u5F02\u6B65action</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">&#39;redux-thunk&#39;</span>
<span class="token comment">//\u5F15\u5165redux-devtools-extension</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>composeWithDevTools<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux-devtools-extension&#39;</span>
<span class="token comment">//\u66B4\u9732store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span><span class="token function">composeWithDevTools</span><span class="token punctuation">(</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h1 id="vii-redux\u6C42\u548C\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#vii-redux\u6C42\u548C\u6848\u4F8B" aria-hidden="true">#</a> \u2166-Redux\u6C42\u548C\u6848\u4F8B</h1><blockquote><p>\u5C06\u53EA\u5C55\u793A\u6700\u7EC8\u4EE3\u7801</p><p><code>\u6CE8\u610F</code>:\u5728<code>reducer</code>\u4E2D\u5982\u679CpreState\u662F\u4E00\u4E2A\u6570\u7EC4,\u4E0D\u53EF\u4EE5\u7528<code>push\u3001unshift</code>\u7B49\u65B9\u6CD5\u8FDB\u884C\u4FEE\u6539,\u5982\u6B64\u4FEE\u6539\u5E76\u4E0D\u4F1A\u4FEE\u6539\u5176\u5F15\u7528,\u6240\u4EE5<code>diff</code>\u5E76\u4E0D\u4F1A\u5224\u5B9A\u5176\u53D1\u751F\u6539\u53D8,<code>\u5BFC\u81F4\u9875\u9762\u65E0\u6CD5\u81EA\u52A8\u91CD\u65B0\u6E32\u67D3</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	<span class="token comment">//preState.unshift(data) //\u6B64\u5904\u4E0D\u53EF\u4EE5\u8FD9\u6837\u5199\uFF0C\u8FD9\u6837\u4F1A\u5BFC\u81F4preState\u88AB\u6539\u5199\u4E86\uFF0CpersonReducer\u5C31\u4E0D\u662F\u7EAF\u51FD\u6570\u4E86\u3002</span>
	<span class="token keyword">return</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span><span class="token operator">...</span>preState<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="_1\u3001\u6C42\u548C\u6848\u4F8B-redux\u7CBE\u7B80\u7248" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u6C42\u548C\u6848\u4F8B-redux\u7CBE\u7B80\u7248" aria-hidden="true">#</a> 1\u3001\u6C42\u548C\u6848\u4F8B_redux\u7CBE\u7B80\u7248</h3><blockquote><p>(1).\u53BB\u9664Count\u7EC4\u4EF6\u81EA\u8EAB\u7684\u72B6\u6001</p><p>(2).src\u4E0B\u5EFA\u7ACB:</p><p>\u200B -redux</p><p>\u200B -store.js</p><p>\u200B -count_reducer.js</p><p>(3).store.js\uFF1A</p><p>\u200B 1).\u5F15\u5165redux\u4E2D\u7684createStore\u51FD\u6570\uFF0C\u521B\u5EFA\u4E00\u4E2Astore</p><p>\u200B 2).createStore\u8C03\u7528\u65F6\u8981\u4F20\u5165\u4E00\u4E2A\u4E3A\u5176\u670D\u52A1\u7684reducer</p><p>\u200B 3).\u8BB0\u5F97\u66B4\u9732store\u5BF9\u8C61</p><p>(4).count_reducer.js\uFF1A</p><p>\u200B 1).reducer\u7684\u672C\u8D28\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u63A5\u6536\uFF1ApreState,action\uFF0C\u8FD4\u56DE\u52A0\u5DE5\u540E\u7684\u72B6\u6001</p><p>\u200B 2).reducer\u6709\u4E24\u4E2A\u4F5C\u7528\uFF1A\u521D\u59CB\u5316\u72B6\u6001\uFF0C\u52A0\u5DE5\u72B6\u6001</p><p>\u200B 3).reducer\u88AB\u7B2C\u4E00\u6B21\u8C03\u7528\u65F6\uFF0C\u662Fstore\u81EA\u52A8\u89E6\u53D1\u7684\uFF0C</p><p>\u200B \u4F20\u9012\u7684preState\u662Fundefined,</p><p>\u200B \u4F20\u9012\u7684action\u662F:{type:&#39;@@REDUX/INIT_a.2.b.4}</p><p>(5).\u5728index.js\u4E2D\u76D1\u6D4Bstore\u4E2D\u72B6\u6001\u7684\u6539\u53D8\uFF0C\u4E00\u65E6\u53D1\u751F\u6539\u53D8\u91CD\u65B0\u6E32\u67D3&lt; App/&gt;</p><p>\u200B \u5907\u6CE8\uFF1Aredux\u53EA\u8D1F\u8D23\u7BA1\u7406\u72B6\u6001\uFF0C\u81F3\u4E8E\u72B6\u6001\u7684\u6539\u53D8\u9A71\u52A8\u7740\u9875\u9762\u7684\u5C55\u793A\uFF0C\u8981\u9760\u6211\u4EEC\u81EA\u5DF1\u5199</p></blockquote><h3 id="_2\u3001\u6C42\u548C\u6848\u4F8B-redux\u5B8C\u6574\u7248" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u6C42\u548C\u6848\u4F8B-redux\u5B8C\u6574\u7248" aria-hidden="true">#</a> 2\u3001\u6C42\u548C\u6848\u4F8B_redux\u5B8C\u6574\u7248</h3><blockquote><p>\u65B0\u589E\u6587\u4EF6\uFF1A</p><p>1.count_action.js \u4E13\u95E8\u7528\u4E8E\u521B\u5EFAaction\u5BF9\u8C61</p><p>2.constant.js \u653E\u7F6E\u5BB9\u6613\u5199\u9519\u7684type\u503C</p></blockquote><h3 id="_3\u3001\u6C42\u548C\u6848\u4F8B-redux\u5F02\u6B65action\u7248" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u6C42\u548C\u6848\u4F8B-redux\u5F02\u6B65action\u7248" aria-hidden="true">#</a> 3\u3001\u6C42\u548C\u6848\u4F8B_redux\u5F02\u6B65action\u7248</h3><blockquote><p>(1).\u660E\u786E\uFF1A\u5EF6\u8FDF\u7684\u52A8\u4F5C\u4E0D\u60F3\u4EA4\u7ED9\u7EC4\u4EF6\u81EA\u8EAB\uFF0C\u60F3\u4EA4\u7ED9action</p><p>(2).\u4F55\u65F6\u9700\u8981\u5F02\u6B65action\uFF1A\u60F3\u8981\u5BF9\u72B6\u6001\u8FDB\u884C\u64CD\u4F5C\uFF0C\u4F46\u662F\u5177\u4F53\u7684\u6570\u636E\u9760\u5F02\u6B65\u4EFB\u52A1\u8FD4\u56DE\u3002</p><p>(3).\u5177\u4F53\u7F16\u7801\uFF1A</p><p>\u200B 1).yarn add redux-thunk\uFF0C\u5E76\u914D\u7F6E\u5728store\u4E2D</p><p>\u200B 2).\u521B\u5EFAaction\u7684\u51FD\u6570\u4E0D\u518D\u8FD4\u56DE\u4E00\u822C\u5BF9\u8C61\uFF0C\u800C\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u8BE5\u51FD\u6570\u4E2D\u5199\u5F02\u6B65\u4EFB\u52A1\u3002</p><p>\u200B 3).\u5F02\u6B65\u4EFB\u52A1\u6709\u7ED3\u679C\u540E\uFF0C\u5206\u53D1\u4E00\u4E2A\u540C\u6B65\u7684action\u53BB\u771F\u6B63\u64CD\u4F5C\u6570\u636E\u3002</p><p>(4).\u5907\u6CE8\uFF1A\u5F02\u6B65action\u4E0D\u662F\u5FC5\u987B\u8981\u5199\u7684\uFF0C\u5B8C\u5168\u53EF\u4EE5\u81EA\u5DF1\u7B49\u5F85\u5F02\u6B65\u4EFB\u52A1\u7684\u7ED3\u679C\u4E86\u518D\u53BB\u5206\u53D1\u540C\u6B65action\u3002</p></blockquote><h3 id="_4\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u57FA\u672C\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u57FA\u672C\u4F7F\u7528" aria-hidden="true">#</a> 4\u3001\u6C42\u548C\u6848\u4F8B_react-redux\u57FA\u672C\u4F7F\u7528</h3><blockquote><p>(1).\u660E\u786E\u4E24\u4E2A\u6982\u5FF5\uFF1A</p><p>\u200B 1).UI\u7EC4\u4EF6:\u4E0D\u80FD\u4F7F\u7528\u4EFB\u4F55redux\u7684api\uFF0C\u53EA\u8D1F\u8D23\u9875\u9762\u7684\u5448\u73B0\u3001\u4EA4\u4E92\u7B49\u3002</p><p>\u200B 2).\u5BB9\u5668\u7EC4\u4EF6\uFF1A\u8D1F\u8D23\u548Credux\u901A\u4FE1\uFF0C\u5C06\u7ED3\u679C\u4EA4\u7ED9UI\u7EC4\u4EF6\u3002</p><p>(2).\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A\u5BB9\u5668\u7EC4\u4EF6\u2014\u2014\u2014\u2014\u9760react-redux \u7684 connect\u51FD\u6570</p><p>\u200B connect(mapStateToProps,mapDispatchToProps)(UI\u7EC4\u4EF6)</p><p>\u200B -mapStateToProps:\u6620\u5C04\u72B6\u6001\uFF0C\u8FD4\u56DE\u503C\u662F\u4E00\u4E2A\u5BF9\u8C61</p><p>\u200B -mapDispatchToProps:\u6620\u5C04\u64CD\u4F5C\u72B6\u6001\u7684\u65B9\u6CD5\uFF0C\u8FD4\u56DE\u503C\u662F\u4E00\u4E2A\u5BF9\u8C61</p><p>(3).\u5907\u6CE81\uFF1A\u5BB9\u5668\u7EC4\u4EF6\u4E2D\u7684store\u662F\u9760props\u4F20\u8FDB\u53BB\u7684\uFF0C\u800C\u4E0D\u662F\u5728\u5BB9\u5668\u7EC4\u4EF6\u4E2D\u76F4\u63A5\u5F15\u5165</p><p>(4).\u5907\u6CE82\uFF1AmapDispatchToProps\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A\u5BF9\u8C61</p></blockquote><h3 id="_5\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u4F18\u5316" aria-hidden="true">#</a> 5\u3001\u6C42\u548C\u6848\u4F8B_react-redux\u4F18\u5316</h3><blockquote><p>(1).\u5BB9\u5668\u7EC4\u4EF6\u548CUI\u7EC4\u4EF6\u6574\u5408\u4E00\u4E2A\u6587\u4EF6</p><p>(2).\u65E0\u9700\u81EA\u5DF1\u7ED9\u5BB9\u5668\u7EC4\u4EF6\u4F20\u9012store\uFF0C\u7ED9&lt; App/&gt;\u5305\u88F9\u4E00\u4E2A&lt; Provider store={store} /&gt;\u5373\u53EF\u3002</p><p>(3).\u4F7F\u7528\u4E86react-redux\u540E\u4E5F\u4E0D\u7528\u518D\u81EA\u5DF1\u68C0\u6D4Bredux\u4E2D\u72B6\u6001\u7684\u6539\u53D8\u4E86\uFF0C\u5BB9\u5668\u7EC4\u4EF6\u53EF\u4EE5\u81EA\u52A8\u5B8C\u6210\u8FD9\u4E2A\u5DE5\u4F5C\u3002</p><p>(4).mapDispatchToProps\u4E5F\u53EF\u4EE5\u7B80\u5355\u7684\u5199\u6210\u4E00\u4E2A\u5BF9\u8C61</p><p>(5).\u4E00\u4E2A\u7EC4\u4EF6\u8981\u548Credux\u201C\u6253\u4EA4\u9053\u201D\u8981\u7ECF\u8FC7\u54EA\u51E0\u6B65\uFF1F</p><p>\u200B (1).\u5B9A\u4E49\u597DUI\u7EC4\u4EF6---\u4E0D\u66B4\u9732</p><p>\u200B (2).\u5F15\u5165connect\u751F\u6210\u4E00\u4E2A\u5BB9\u5668\u7EC4\u4EF6\uFF0C\u5E76\u66B4\u9732\uFF0C\u5199\u6CD5\u5982\u4E0B</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">connect</span><span class="token punctuation">(</span>
      <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//\u6620\u5C04\u72B6\u6001</span>
      <span class="token punctuation">{</span><span class="token literal-property property">key</span><span class="token operator">:</span>xxxxxAction<span class="token punctuation">}</span> <span class="token comment">//\u6620\u5C04\u64CD\u4F5C\u72B6\u6001\u7684\u65B9\u6CD5</span>
     <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">UI</span>\u7EC4\u4EF6<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B (3).\u5728UI\u7EC4\u4EF6\u4E2D\u901A\u8FC7this.props.xxxxxxx\u8BFB\u53D6\u548C\u64CD\u4F5C\u72B6\u6001</p></blockquote><h3 id="_6\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u6570\u636E\u5171\u4EAB\u7248" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u6570\u636E\u5171\u4EAB\u7248" aria-hidden="true">#</a> 6\u3001\u6C42\u548C\u6848\u4F8B_react-redux\u6570\u636E\u5171\u4EAB\u7248</h3><blockquote><p>(1).\u5B9A\u4E49\u4E00\u4E2APserson\u7EC4\u4EF6\uFF0C\u548CCount\u7EC4\u4EF6\u901A\u8FC7redux\u5171\u4EAB\u6570\u636E\u3002</p><p>(2).\u4E3APerson\u7EC4\u4EF6\u7F16\u5199\uFF1Areducer\u3001action\uFF0C\u914D\u7F6Econstant\u5E38\u91CF\u3002</p><p>(3).\u91CD\u70B9\uFF1APerson\u7684reducer\u548CCount\u7684Reducer\u8981\u4F7F\u7528combineReducers\u8FDB\u884C\u5408\u5E76\uFF0C\u5408\u5E76\u540E\u7684\u603B\u72B6\u6001\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF01\uFF01\uFF01</p><p>(4).\u4EA4\u7ED9store\u7684\u662F\u603Breducer\uFF0C\u6700\u540E\u6CE8\u610F\u5728\u7EC4\u4EF6\u4E2D\u53D6\u51FA\u72B6\u6001\u7684\u65F6\u5019\uFF0C\u8BB0\u5F97\u201C\u53D6\u5230\u4F4D\u201D\u3002</p></blockquote><h3 id="_7\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u5F00\u53D1\u8005\u5DE5\u5177\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_7\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u5F00\u53D1\u8005\u5DE5\u5177\u7684\u4F7F\u7528" aria-hidden="true">#</a> 7\u3001\u6C42\u548C\u6848\u4F8B_react-redux\u5F00\u53D1\u8005\u5DE5\u5177\u7684\u4F7F\u7528</h3><blockquote><p>(1).yarn add redux-devtools-extension</p><p>(2).store\u4E2D\u8FDB\u884C\u914D\u7F6E</p><p>\u200B import {composeWithDevTools} from &#39;redux-devtools-extension&#39;</p><p>\u200B const store = createStore(allReducer,composeWithDevTools(applyMiddleware(thunk)))</p></blockquote><h3 id="_8\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u6700\u7EC8\u7248" tabindex="-1"><a class="header-anchor" href="#_8\u3001\u6C42\u548C\u6848\u4F8B-react-redux\u6700\u7EC8\u7248" aria-hidden="true">#</a> 8\u3001\u6C42\u548C\u6848\u4F8B_react-redux\u6700\u7EC8\u7248</h3><blockquote><p>(1).\u6240\u6709\u53D8\u91CF\u540D\u5B57\u8981\u89C4\u8303\uFF0C\u5C3D\u91CF\u89E6\u53D1\u5BF9\u8C61\u7684\u7B80\u5199\u5F62\u5F0F\u3002</p><p>(2).reducers\u6587\u4EF6\u5939\u4E2D\uFF0C\u7F16\u5199index.js\u4E13\u95E8\u7528\u4E8E\u6C47\u603B\u5E76\u66B4\u9732\u6240\u6709\u7684reducer</p></blockquote><h3 id="_9\u3001\u6700\u7EC8\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_9\u3001\u6700\u7EC8\u4EE3\u7801" aria-hidden="true">#</a> 9\u3001\u6700\u7EC8\u4EE3\u7801</h3><h4 id="i-src\u6587\u4EF6\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#i-src\u6587\u4EF6\u76EE\u5F55" aria-hidden="true">#</a> \u2160-src\u6587\u4EF6\u76EE\u5F55</h4><blockquote><p>src</p><p>--<code>containers</code></p><p>\u200B --Count</p><p>\u200B --index.jsx</p><p>\u200B --Person</p><p>\u200B --index.jsx</p><p>--<code>redux</code></p><p>\u200B --actions</p><p>\u200B --count.js</p><p>\u200B --person.js</p><p>\u200B --reducers</p><p>\u200B --count.js</p><p>\u200B --index.js</p><p>\u200B --person.js</p><p>\u200B --constant.js</p><p>\u200B --store.js</p><p>--<code>App.jsx</code></p><p>--<code>index.js</code></p></blockquote><h4 id="ii-index-js" tabindex="-1"><a class="header-anchor" href="#ii-index-js" aria-hidden="true">#</a> \u2161-index.js</h4><blockquote><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./redux/store&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Provider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
	<span class="token comment">/* \u6B64\u5904\u9700\u8981\u7528Provider\u5305\u88F9App\uFF0C\u76EE\u7684\u662F\u8BA9App\u6240\u6709\u7684\u540E\u4EE3\u5BB9\u5668\u7EC4\u4EF6\u90FD\u80FD\u63A5\u6536\u5230store */</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h4 id="iii-app-jsx" tabindex="-1"><a class="header-anchor" href="#iii-app-jsx" aria-hidden="true">#</a> \u2162-App.jsx</h4><blockquote><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> Count <span class="token keyword">from</span> <span class="token string">&#39;./containers/Count&#39;</span> <span class="token comment">//\u5F15\u5165\u7684Count\u7684\u5BB9\u5668\u7EC4\u4EF6</span>
<span class="token keyword">import</span> Person <span class="token keyword">from</span> <span class="token string">&#39;./containers/Person&#39;</span> <span class="token comment">//\u5F15\u5165\u7684Person\u7684\u5BB9\u5668\u7EC4\u4EF6</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Count</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h4 id="iv-redux\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#iv-redux\u6587\u4EF6" aria-hidden="true">#</a> \u2163-redux\u6587\u4EF6</h4><blockquote><ol><li><code>action</code>\u6587\u4EF6\u5939</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>count<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">/**
* \u8BE5\u6587\u4EF6\u4E13\u95E8\u672ACount\u7EC4\u4EF6\u751F\u6210\u5BF9\u8C61
*/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">INCREMENT</span><span class="token punctuation">,</span><span class="token constant">DECREMENT</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../constant&#39;</span>

<span class="token comment">//\u58F0\u660E\u540C\u6B65action,\u5C31\u662F\u6307action\u7684\u503C\u4E3AObject\u7C7B\u578B\u7684\u4E00\u822C\u5BF9\u8C61</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">increment</span><span class="token operator">=</span><span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token constant">INCREMENT</span><span class="token punctuation">,</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">decrement</span><span class="token operator">=</span><span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class="token constant">DECREMENT</span><span class="token punctuation">,</span>data<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token comment">//\u58F0\u660E\u5F02\u6B65action,\u5C31\u662F\u6307action\u7684\u503C\u4E3A\u51FD\u6570,\u5F02\u6B65action\u4E2D\u4E00\u822C\u90FD\u4F1A\u8C03\u7528\u540C\u6B65action</span>
<span class="token comment">//\u5728\u5916\u90E8\u8C03\u7528\u8BE5action\u65B9\u6CD5\u65F6\u9700\u8981\u5F15\u5165redux-thunk\uFF0C\u7528\u4E8E\u652F\u6301\u5F02\u6B65action</span>
<span class="token comment">//\u8BE5\u65B9\u6CD5\u4F1A\u81EA\u52A8\u4F20\u5165dispatch</span>
 <span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">incrementAsync</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>time</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
       <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">increment</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>time<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>person<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">ADD_PERSON</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../constant&#39;</span>
<span class="token comment">//\u521B\u5EFA\u589E\u52A0\u4E00\u4E2A\u4EBA\u7684action\u52A8\u4F5C\u5BF9\u8C61</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addPerson</span><span class="token operator">=</span><span class="token parameter">personObj</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token constant">ADD_PERSON</span><span class="token punctuation">,</span>
 <span class="token literal-property property">data</span><span class="token operator">:</span>personObj
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><code>reducers</code>\u6587\u4EF6\u5939</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>count<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">/**
* 1. \u8BE5\u6587\u4EF6\u65F6\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u4E3ACount\u7EC4\u4EF6\u670D\u52A1\u7684reducer.reducer\u7684\u672C\u8D28\u5C31\u662F\u4E00\u4E2A\u51FD\u6570
* 2. reducer\u51FD\u6570\u4F1A\u63A5\u5230\u4E24\u4E2A\u53C2\u6570,\u5206\u522B\u4E3A:\u4E4B\u524D\u72B6\u6001(preState),\u52A8\u4F5C\u5BF9\u8C61(action)
*/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
 <span class="token constant">INCREMENT</span><span class="token punctuation">,</span>
 <span class="token constant">DECREMENT</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../constant&#39;</span>
<span class="token keyword">const</span> initState <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">//\u521D\u59CB\u5316\u72B6\u6001</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">countReducer</span><span class="token punctuation">(</span><span class="token parameter">preState <span class="token operator">=</span> initState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">//\u4ECEaction\u5BF9\u8C61\u4E2D\u83B7\u53D6:type:data</span>
 <span class="token keyword">const</span> <span class="token punctuation">{</span>
   type<span class="token punctuation">,</span>
   data
 <span class="token punctuation">}</span> <span class="token operator">=</span> action
 <span class="token comment">//\u6839\u636Etype\u51B3\u5B9A\u5982\u4F55\u52A0\u5DE5\u6570\u636E</span>
 <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">case</span> <span class="token constant">INCREMENT</span><span class="token operator">:</span>
     <span class="token keyword">return</span> preState <span class="token operator">+</span> data
   <span class="token keyword">case</span> <span class="token constant">DECREMENT</span><span class="token operator">:</span>
     <span class="token keyword">return</span> preState <span class="token operator">-</span> data
   <span class="token keyword">default</span><span class="token operator">:</span>
     <span class="token keyword">return</span> preState
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>person<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">ADD_PERSON</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../constant&#39;</span>
<span class="token comment">//\u521D\u59CB\u5316\u4EBA\u7684\u5217\u8868</span>
<span class="token keyword">const</span> initState <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">&#39;001&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;tom&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">personReducer</span><span class="token punctuation">(</span><span class="token parameter">preState<span class="token operator">=</span>initState<span class="token punctuation">,</span>action</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">// console.log(&#39;personReducer@#@#@#&#39;);</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span>type<span class="token punctuation">,</span>data<span class="token punctuation">}</span> <span class="token operator">=</span> action
	<span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token constant">ADD_PERSON</span><span class="token operator">:</span> <span class="token comment">//\u82E5\u662F\u6DFB\u52A0\u4E00\u4E2A\u4EBA</span>
			<span class="token comment">//preState.unshift(data) //\u6B64\u5904\u4E0D\u53EF\u4EE5\u8FD9\u6837\u5199\uFF0C\u8FD9\u6837\u4F1A\u5BFC\u81F4preState\u88AB\u6539\u5199\u4E86\uFF0CpersonReducer\u5C31\u4E0D\u662F\u7EAF\u51FD\u6570\u4E86\u3002</span>
			<span class="token keyword">return</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span><span class="token operator">...</span>preState<span class="token punctuation">]</span>
		<span class="token keyword">default</span><span class="token operator">:</span>
			<span class="token keyword">return</span> preState
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>index<span class="token punctuation">.</span>js<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">/**
* \u8BE5\u6587\u4EF6\u7528\u4E8E\u6C47\u603B\u6240\u6709\u7684reducer\u4E3A\u4E00\u4E2A\u603B\u7684reducer
*/</span>
<span class="token comment">//\u5F15\u5165combineReducers\uFF0C\u7528\u4E8E\u6C47\u603B\u591A\u4E2Areducer</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>combineReducers<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token comment">//\u5F15\u5165\u4E3ACount\u7EC4\u4EF6\u670D\u52A1\u7684reducer</span>
<span class="token keyword">import</span> count <span class="token keyword">from</span> <span class="token string">&#39;./count&#39;</span>
<span class="token keyword">import</span> persons <span class="token keyword">from</span> <span class="token string">&#39;./person&#39;</span>

<span class="token comment">//\u6C47\u603B\u6240\u6709\u7684reducer\u53D8\u4E3A\u4E00\u4E2A\u603B\u7684reducer</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 count<span class="token punctuation">,</span>persons
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><code>store.js</code></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* \u8BE5\u6587\u4EF6\u64B0\u6587\u7528\u4E8E\u66B4\u9732\u4E00\u4E2Astore\u5BF9\u8C61,\u6574\u4E2A\u5E94\u7528\u53EA\u6709\u4E00\u4E2Astore\u5BF9\u8C61
*/</span>
<span class="token comment">//\u5F15\u5165createStore,\u4E13\u95E8\u7528\u4E8E\u521B\u5EFAredux\u4E2D\u6700\u4E3A\u6838\u5FC3\u7684store\u5BF9\u8C61</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">,</span>applyMiddleware<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token comment">//\u5F15\u5165\u6C47\u603B\u540E\u7684reducer</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">&#39;./reducers&#39;</span>
<span class="token comment">//\u5F15\u5165redux-thunk\uFF0C\u7528\u4E8E\u652F\u6301\u5F02\u6B65action</span>
<span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">&#39;redux-thunk&#39;</span>
<span class="token comment">//\u5F15\u5165redux-devtools-extension</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>composeWithDevTools<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux-devtools-extension&#39;</span>
<span class="token comment">//\u66B4\u9732store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span><span class="token function">composeWithDevTools</span><span class="token punctuation">(</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.<code>constant.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
* \u8BE5\u6A21\u5757\u662F\u7528\u4E8E\u5B9A\u4E49action\u5BF9\u8C61\u4E2D\u7684type\u7C7B\u578B\u7684\u5E38\u91CF\u503C,\u76EE\u7684\u53EA\u6709\u4E00\u4E2A:
*  \u4FBF\u4E8E\u7BA1\u7406\u7684\u540C\u4E8B\u9632\u6B62\u7A0B\u5E8F\u5458\u5355\u8BCD\u5199\u9519
*/</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">INCREMENT</span> <span class="token operator">=</span> <span class="token string">&#39;increment&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">DECREMENT</span> <span class="token operator">=</span> <span class="token string">&#39;decrement&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ADD_PERSON</span> <span class="token operator">=</span> <span class="token string">&#39;add_person&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h4 id="v-containers" tabindex="-1"><a class="header-anchor" href="#v-containers" aria-hidden="true">#</a> \u2164-containers</h4><blockquote><ol><li><code>Count</code>\u6587\u4EF6\u5939\u7684<code>index.jsx</code></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token comment">//\u5F15\u5165action</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  increment<span class="token punctuation">,</span>
  decrement<span class="token punctuation">,</span>
  incrementAsync
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../redux/actions/count&quot;</span>
<span class="token comment">//\u5F15\u5165connect\u7528\u4E8E\u94FE\u63A5UI\u7EC4\u4EF6\u4E0Eredux</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>

<span class="token comment">//\u5B9A\u4E49UI\u7EC4\u4EF6,\u8FD9\u4E2A\u5C06\u518Dconnect()()\u4E2D\u52A0\u5DE5\u6210\u5BB9\u5668\u7EC4\u4EF6,\u5C31\u53EF\u4EE5\u8C03\u7528\u5230\u5176\u4F20\u5165\u7684redux\u72B6\u6001\u4E0Eactions</span>
<span class="token keyword">class</span> <span class="token class-name">Count</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u83B7\u53D6\u51FA\u5165\u5185\u5BB9</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//\u51CF\u6CD5</span>
  <span class="token function-variable function">decrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">decrement</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//\u5947\u6570\u518D\u52A0</span>
  <span class="token function-variable function">incrementIfOdd</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//\u5F02\u6B65\u52A0</span>
  <span class="token function-variable function">incrementAsync</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">incrementAsync</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FCount\u7EC4\u4EF6,\u4E0B\u65B9\u7EC4\u4EF6\u603B\u4EBA\u6570\u4E3A:</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>personCount<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5F53\u524D\u6C42\u548C\u4E3A\uFF1A</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectNumber <span class="token operator">=</span> c<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">3</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increment<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>decrement<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>incrementIfOdd<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5F53\u524D\u6C42\u548C\u4E3A\u5947\u6570\u518D\u52A0</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>incrementAsync<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5F02\u6B65\u52A0</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&amp;nbsp;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


<span class="token comment">//\u4F7F\u7528connect()()\u521B\u5EFA\u5E76\u66B4\u9732\u4E00\u4E2ACount\u7684\u5BB9\u5668\u7EC4\u4EF6</span>
<span class="token comment">//\u4F7F\u7528connect(\u4F20\u5165\u72B6\u6001,\u64CD\u4F5C\u72B6\u6001\u65B9\u6CD5)(UI\u7EC4\u4EF6)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>
  <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count<span class="token punctuation">,</span>
    <span class="token literal-property property">personCount</span><span class="token operator">:</span> state<span class="token punctuation">.</span>persons<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>increment<span class="token punctuation">,</span> decrement<span class="token punctuation">,</span> incrementAsync<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>Count<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><code>Person</code>\u6587\u4EF6\u5939\u4E0B\u7684jsx</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> addPerson <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../../redux/actions/person&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> nanoid <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;nanoid&#39;</span>
<span class="token comment">//\u521B\u5EFAUI\u7EC4\u4EF6</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">addPerson</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameNode<span class="token punctuation">.</span>value
    <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ageNode<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">1</span>
    <span class="token keyword">const</span> personObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token function">nanoid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">addPerson</span><span class="token punctuation">(</span>personObj<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>nameNode<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ageNode<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FPerson\u7EC4\u4EF6,\u4E0A\u65B9\u7EC4\u4EF6\u6C42\u548C\u4E3A</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameNode <span class="token operator">=</span> c<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8F93\u5165\u540D\u5B57<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">c</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ageNode <span class="token operator">=</span> c<span class="token punctuation">}</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u8F93\u5165\u5E74\u9F84<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addPerson<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6DFB\u52A0</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>p<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>p<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text">--</span><span class="token punctuation">{</span>p<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>
  <span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">persons</span><span class="token operator">:</span> state<span class="token punctuation">.</span>persons<span class="token punctuation">,</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> addPerson <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h1 id="viii-react-\u62D3\u5C55" tabindex="-1"><a class="header-anchor" href="#viii-react-\u62D3\u5C55" aria-hidden="true">#</a> \u2167-React \u62D3\u5C55</h1><h2 id="_1\u3001-setstate" tabindex="-1"><a class="header-anchor" href="#_1\u3001-setstate" aria-hidden="true">#</a> 1\u3001 setState</h2><h3 id="setstate\u66F4\u65B0\u72B6\u6001\u76842\u79CD\u5199\u6CD5" tabindex="-1"><a class="header-anchor" href="#setstate\u66F4\u65B0\u72B6\u6001\u76842\u79CD\u5199\u6CD5" aria-hidden="true">#</a> setState\u66F4\u65B0\u72B6\u6001\u76842\u79CD\u5199\u6CD5</h3><blockquote><p>(1). setState(stateChange, [callback])------\u5BF9\u8C61\u5F0F\u7684setState 1.stateChange\u4E3A\u72B6\u6001\u6539\u53D8\u5BF9\u8C61(\u8BE5\u5BF9\u8C61\u53EF\u4EE5\u4F53\u73B0\u51FA\u72B6\u6001\u7684\u66F4\u6539) 2.callback\u662F\u53EF\u9009\u7684\u56DE\u8C03\u51FD\u6570, \u5B83\u5728\u72B6\u6001\u66F4\u65B0\u5B8C\u6BD5\u3001\u754C\u9762\u4E5F\u66F4\u65B0\u540E(render\u8C03\u7528\u540E)\u624D\u88AB\u8C03\u7528</p><p>(2). setState(updater, [callback])------\u51FD\u6570\u5F0F\u7684setState</p><ul><li>updater\u4E3A\u8FD4\u56DEstateChange\u5BF9\u8C61\u7684\u51FD\u6570\u3002</li><li>updater\u53EF\u4EE5\u63A5\u6536\u5230state\u548Cprops\u3002</li><li>callback\u662F\u53EF\u9009\u7684\u56DE\u8C03\u51FD\u6570, \u5B83\u5728\u72B6\u6001\u66F4\u65B0\u3001\u754C\u9762\u4E5F\u66F4\u65B0\u540E(render\u8C03\u7528\u540E)\u624D\u88AB\u8C03\u7528\u3002</li></ul><p>\u603B\u7ED3: 1.\u5BF9\u8C61\u5F0F\u7684setState\u662F\u51FD\u6570\u5F0F\u7684setState\u7684\u7B80\u5199\u65B9\u5F0F(<code>\u8BED\u6CD5\u7CD6</code>) 2.\u4F7F\u7528\u539F\u5219\uFF1A (1).\u5982\u679C\u65B0\u72B6\u6001\u4E0D\u4F9D\u8D56\u4E8E\u539F\u72B6\u6001 ===&gt; \u4F7F\u7528\u5BF9\u8C61\u65B9\u5F0F (2).\u5982\u679C\u65B0\u72B6\u6001\u4F9D\u8D56\u4E8E\u539F\u72B6\u6001 ===&gt; \u4F7F\u7528\u51FD\u6570\u65B9\u5F0F (3).\u5982\u679C\u9700\u8981\u5728setState()\u6267\u884C\u540E\u83B7\u53D6\u6700\u65B0\u7684\u72B6\u6001\u6570\u636E, \u8981\u5728\u7B2C\u4E8C\u4E2Acallback\u51FD\u6570\u4E2D\u8BFB\u53D6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
<span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">//\u5BF9\u8C61\u5F0F\u7684setState</span>
<span class="token comment">/* //1.\u83B7\u53D6\u539F\u6765\u7684count\u503C
const {count} = this.state
//2.\u66F4\u65B0\u72B6\u6001
this.setState({count:count+1},()=&gt;{ console.log(this.state.count); })
//console.log(&#39;12\u884C\u7684\u8F93\u51FA&#39;,this.state.count); //0 */</span>
<span class="token comment">//\u51FD\u6570\u5F0F\u7684setState</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>\u5F53\u524D\u6C42\u548C\u4E3A\uFF1A<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">}</span><span class="token operator">&gt;</span>\u70B9\u6211<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><hr><h2 id="_2\u3001lazyload" tabindex="-1"><a class="header-anchor" href="#_2\u3001lazyload" aria-hidden="true">#</a> 2\u3001lazyLoad</h2><h3 id="\u8DEF\u7531\u7EC4\u4EF6\u7684lazyload" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u7EC4\u4EF6\u7684lazyload" aria-hidden="true">#</a> \u8DEF\u7531\u7EC4\u4EF6\u7684lazyLoad</h3><blockquote><ol><li>\u61D2\u52A0\u8F7D\u4E2D\u7684\u7EC4\u4EF6,\u968F\u7528\u968F\u8C03,\u4E0D\u4F1A\u63D0\u524D\u52A0\u8F7D</li><li>\u4F7F\u7528\u61D2\u52A0\u8F7D\u65F6\u9700\u8981\u7ED9\u5B9A\u4E00\u4E2A<code>fallback</code>,\u7528\u4E8E\u8BF7\u6C42\u8FC7\u6162\u6216\u8005\u8BF7\u6C42\u4E0D\u5230\u7EC4\u4EF6\u65F6\u663E\u793A,\u901A\u5E38\u4E3A<code>\u7EC4\u4EF6</code>(\u4E5F\u53EF\u4EE5\u76F4\u63A5\u4E3A\u4E00\u4E2A<code>\u865A\u62DFDOM</code>)</li><li><code>fallback</code>\u5982\u679C\u662F\u6307\u5B9A\u4E3A\u4E00\u4E2A\u7EC4\u4EF6,\u5219\u8BE5\u7EC4\u4EF6\u4E00\u5B9A\u4E0D\u80FD\u6307\u5B9A\u4E3A<code>\u61D2\u52A0\u8F7D\u7EC4\u4EF6</code>,\u5C31\u6B63\u5E38\u5F15\u5165\u7684\u90A3\u79CD\u7EC4\u4EF6\u5373\u53EF</li></ol></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//	import Loading from &#39;./Loading&#39; // \u7528\u4E8E\u6307\u5B9A\`fallback\`</span>
<span class="token comment">//1.\u901A\u8FC7React\u7684lazy\u51FD\u6570\u914D\u5408import()\u51FD\u6570\u52A8\u6001\u52A0\u8F7D\u8DEF\u7531\u7EC4\u4EF6 ===&gt; \u8DEF\u7531\u7EC4\u4EF6\u4EE3\u7801\u4F1A\u88AB\u5206\u5F00\u6253\u5305</span>
	<span class="token keyword">const</span> Login <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/pages/Login&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">//2.\u901A\u8FC7&lt;Suspense&gt;\u6307\u5B9A\u5728\u52A0\u8F7D\u5F97\u5230\u8DEF\u7531\u6253\u5305\u6587\u4EF6\u524D\u663E\u793A\u4E00\u4E2A\u81EA\u5B9A\u4E49loading\u754C\u9762</span>
	<span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>loading<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token comment">//&lt;Suspense fallback={&lt;Loading/&gt;}&gt;   \u6307\u5B9A\u4E3A\u7EC4\u4EF6                 </span>
        <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/xxx&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Xxxx<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">&quot;/login&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_3\u3001hooks" tabindex="-1"><a class="header-anchor" href="#_3\u3001hooks" aria-hidden="true">#</a> 3\u3001Hooks</h2><blockquote><p>\u8BE6\u89C1\u9694\u58C1\u6587\u4EF6\u5939<code>React Hooks</code>\u7B14\u8BB0</p></blockquote><h4 id="_1-react-hook-hooks\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1-react-hook-hooks\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 1. React Hook/Hooks\u662F\u4EC0\u4E48?</h4><blockquote><p>(1). Hook\u662FReact 16.8.0\u7248\u672C\u589E\u52A0\u7684\u65B0\u7279\u6027/\u65B0\u8BED\u6CD5 (2). \u53EF\u4EE5\u8BA9\u4F60\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u4F7F\u7528 state \u4EE5\u53CA\u5176\u4ED6\u7684 React \u7279\u6027</p></blockquote><h4 id="_2-\u4E09\u4E2A\u5E38\u7528\u7684hook" tabindex="-1"><a class="header-anchor" href="#_2-\u4E09\u4E2A\u5E38\u7528\u7684hook" aria-hidden="true">#</a> 2. \u4E09\u4E2A\u5E38\u7528\u7684Hook</h4><blockquote><p>(1). State Hook: React.useState() (2). Effect Hook: React.useEffect() (3). Ref Hook: React.useRef()</p></blockquote><h4 id="_3-state-hook" tabindex="-1"><a class="header-anchor" href="#_3-state-hook" aria-hidden="true">#</a> 3. State Hook</h4><blockquote><p>(1). State Hook\u8BA9\u51FD\u6570\u7EC4\u4EF6\u4E5F\u53EF\u4EE5\u6709state\u72B6\u6001, \u5E76\u8FDB\u884C\u72B6\u6001\u6570\u636E\u7684\u8BFB\u5199\u64CD\u4F5C (2). \u8BED\u6CD5: const [xxx, setXxx] = React.useState(initValue)<br> (3). useState()\u8BF4\u660E: \u53C2\u6570: \u7B2C\u4E00\u6B21\u521D\u59CB\u5316\u6307\u5B9A\u7684\u503C\u5728\u5185\u90E8\u4F5C\u7F13\u5B58 \u8FD4\u56DE\u503C: \u5305\u542B2\u4E2A\u5143\u7D20\u7684\u6570\u7EC4, \u7B2C1\u4E2A\u4E3A\u5185\u90E8\u5F53\u524D\u72B6\u6001\u503C, \u7B2C2\u4E2A\u4E3A\u66F4\u65B0\u72B6\u6001\u503C\u7684\u51FD\u6570 (4). setXxx()2\u79CD\u5199\u6CD5: setXxx(newValue): \u53C2\u6570\u4E3A\u975E\u51FD\u6570\u503C, \u76F4\u63A5\u6307\u5B9A\u65B0\u7684\u72B6\u6001\u503C, \u5185\u90E8\u7528\u5176\u8986\u76D6\u539F\u6765\u7684\u72B6\u6001\u503C setXxx(value =&gt; newValue): \u53C2\u6570\u4E3A\u51FD\u6570, \u63A5\u6536\u539F\u672C\u7684\u72B6\u6001\u503C, \u8FD4\u56DE\u65B0\u7684\u72B6\u6001\u503C, \u5185\u90E8\u7528\u5176\u8986\u76D6\u539F\u6765\u7684\u72B6\u6001\u503C</p></blockquote><h4 id="_4-effect-hook" tabindex="-1"><a class="header-anchor" href="#_4-effect-hook" aria-hidden="true">#</a> 4. Effect Hook</h4><blockquote><p>(1). Effect Hook \u53EF\u4EE5\u8BA9\u4F60\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u6267\u884C\u526F\u4F5C\u7528\u64CD\u4F5C(\u7528\u4E8E\u6A21\u62DF\u7C7B\u7EC4\u4EF6\u4E2D\u7684\u751F\u547D\u5468\u671F\u94A9\u5B50) (2). React\u4E2D\u7684\u526F\u4F5C\u7528\u64CD\u4F5C: \u53D1ajax\u8BF7\u6C42\u6570\u636E\u83B7\u53D6 \u8BBE\u7F6E\u8BA2\u9605 / \u542F\u52A8\u5B9A\u65F6\u5668 \u624B\u52A8\u66F4\u6539\u771F\u5B9EDOM (3). \u8BED\u6CD5\u548C\u8BF4\u660E: useEffect(() =&gt; { // \u5728\u6B64\u53EF\u4EE5\u6267\u884C\u4EFB\u4F55\u5E26\u526F\u4F5C\u7528\u64CD\u4F5C return () =&gt; { // \u5728\u7EC4\u4EF6\u5378\u8F7D\u524D\u6267\u884C // \u5728\u6B64\u505A\u4E00\u4E9B\u6536\u5C3E\u5DE5\u4F5C, \u6BD4\u5982\u6E05\u9664\u5B9A\u65F6\u5668/\u53D6\u6D88\u8BA2\u9605\u7B49 } }, [stateValue]) // \u5982\u679C\u6307\u5B9A\u7684\u662F[], \u56DE\u8C03\u51FD\u6570\u53EA\u4F1A\u5728\u7B2C\u4E00\u6B21render()\u540E\u6267\u884C</p><p>(4). \u53EF\u4EE5\u628A useEffect Hook \u770B\u505A\u5982\u4E0B\u4E09\u4E2A\u51FD\u6570\u7684\u7EC4\u5408 componentDidMount() componentDidUpdate() componentWillUnmount()</p></blockquote><h4 id="_5-ref-hook" tabindex="-1"><a class="header-anchor" href="#_5-ref-hook" aria-hidden="true">#</a> 5. Ref Hook</h4><blockquote><p>(1). Ref Hook\u53EF\u4EE5\u5728\u51FD\u6570\u7EC4\u4EF6\u4E2D\u5B58\u50A8/\u67E5\u627E\u7EC4\u4EF6\u5185\u7684\u6807\u7B7E\u6216\u4EFB\u610F\u5176\u5B83\u6570\u636E (2). \u8BED\u6CD5: const refContainer = useRef() (3). \u4F5C\u7528:\u4FDD\u5B58\u6807\u7B7E\u5BF9\u8C61,\u529F\u80FD\u4E0EReact.createRef()\u4E00\u6837</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	myRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><hr><h2 id="_4\u3001-fragment" tabindex="-1"><a class="header-anchor" href="#_4\u3001-fragment" aria-hidden="true">#</a> 4\u3001 Fragment</h2><blockquote><ol><li><p>\u4F5C\u7528:\u53EF\u4EE5\u4E0D\u7528\u5FC5\u987B\u6709\u4E00\u4E2A\u771F\u5B9E\u7684DOM\u6839\u6807\u7B7E\u4E86</p></li><li><p>\u5F53\u4F60\u4E0D\u5F97\u4E0D\u4F7F\u7528\u4E00\u4E2A<code>\u5BB9\u5668</code>\u53BB\u5305\u88F9dom\u5143\u7D20--jsx\u8BED\u6CD5\u8981\u6C42,\u4EE5\u5F80\u6211\u4EEC\u505A\u6CD5\u662F\u76F4\u63A5\u5305\u4E00\u5C42<code>div</code></p></li><li><p>\u4F7F\u7528<code>Fragment</code>\u540E\u53EF\u4EE5<code>\u53D6\u4EE3div</code>,\u4F46\u662F\u7F16\u8BD1\u540E\u4F1A\u88ABreact\u4E22\u5F03,\u6240\u4EE5\u4E0D\u4F1A\u9020\u6210\u6CA1\u5FC5\u8981\u7684\u5C42\u7EA7\u5D4C\u5957</p></li><li><p>\u6548\u679C\u7B49\u540C\u4E8E\u76F4\u63A5\u5199\u4E00\u4E2A<code>\u7A7A\u6807\u7B7E&lt;&gt;&lt;/&gt;</code>,\u4F46\u662F\u4E8C\u8005\u6709\u533A\u522B</p><p><code>\u533A\u522B</code>:<code>Fragment</code>\u53EF\u4EE5\u6DFB\u52A0<code>key</code>\u5C5E\u6027\u4F5C\u4E3A\u552F\u4E00\u6807\u8BC6,\u800C\u7A7A\u6807\u7B7E\u4E00\u70B9\u5C5E\u6027\u90FD\u4E0D\u80FD\u52A0</p></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span>Fragment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Fragment</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Fragment</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_5\u3001context" tabindex="-1"><a class="header-anchor" href="#_5\u3001context" aria-hidden="true">#</a> 5\u3001Context</h2><blockquote><p>\u4E00\u79CD\u7EC4\u4EF6\u95F4\u901A\u4FE1\u65B9\u5F0F, \u5E38\u7528\u4E8E\u3010\u7956\u7EC4\u4EF6\u3011\u4E0E\u3010\u540E\u4EE3\u7EC4\u4EF6\u3011\u95F4\u901A\u4FE1</p><ol><li>\u521B\u5EFAContext\u5BB9\u5668\u5BF9\u8C61\uFF1A</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	<span class="token keyword">const</span> XxxContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>\u6E32\u67D3\u5B50\u7EC4\u65F6\uFF0C\u5916\u9762\u5305\u88F9<code>xxxContext.Provider</code>, \u901A\u8FC7value\u5C5E\u6027\u7ED9\u540E\u4EE3\u7EC4\u4EF6\u4F20\u9012\u6570\u636E\uFF1A</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xxxContext.Provider</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>\u6570\u636E<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		\u5B50\u7EC4\u4EF6
 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xxxContext.Provider</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u540E\u4EE3\u7EC4\u4EF6\u8BFB\u53D6\u6570\u636E\uFF1A<code>\u4E24\u79CD\u65B9\u6CD5</code></li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code>	<span class="token comment">//\u7B2C\u4E00\u79CD\u65B9\u5F0F:\u4EC5\u9002\u7528\u4E8E\u7C7B\u7EC4\u4EF6 </span>
\u200B	  <span class="token keyword">static</span> contextType <span class="token operator">=</span> xxxContext  <span class="token comment">// \u58F0\u660E\u63A5\u6536context</span>
\u200B	  <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token comment">// \u8BFB\u53D6context\u4E2D\u7684value\u6570\u636E</span>

\u200B	<span class="token comment">//\u7B2C\u4E8C\u79CD\u65B9\u5F0F: \u51FD\u6570\u7EC4\u4EF6\u4E0E\u7C7B\u7EC4\u4EF6\u90FD\u53EF\u4EE5</span>
\u200B	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xxxContext.Consumer</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
\u200B	    </span><span class="token punctuation">{</span>
\u200B	      <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span> <span class="token comment">// value\u5C31\u662Fcontext\u4E2D\u7684value\u6570\u636E</span>
\u200B	        \u8981\u663E\u793A\u7684\u5185\u5BB9
\u200B	      <span class="token punctuation">)</span>
\u200B	    <span class="token punctuation">}</span><span class="token plain-text">
\u200B	  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xxxContext.Consumer</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F:\u5728\u5E94\u7528\u5F00\u53D1\u4E2D<code>\u4E00\u822C\u4E0D\u7528context</code>, \u4E00\u822C\u90FD\u7528\u5B83\u7684\u5C01\u88C5react\u63D2\u4EF6</p><p>4)\u5B8C\u6574\u4F8B\u5B50:</p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//------------------- \u5B8C\u6574\u4F8B\u5B50 ------------------------------------------------</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./index.css&#39;</span>
<span class="token comment">//\u521B\u5EFAContext\u5BF9\u8C61</span>
<span class="token keyword">const</span> MyContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>Provider<span class="token punctuation">,</span>Consumer<span class="token punctuation">}</span> <span class="token operator">=</span> MyContext
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>

	state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">username</span><span class="token operator">:</span><span class="token string">&#39;tom&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>username<span class="token punctuation">,</span>age<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FA\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u7684\u7528\u6237\u540D\u662F:</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>username<span class="token punctuation">,</span>age<span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">B</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FB\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">C</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* class C extends Component {
	//\u58F0\u660E\u63A5\u6536context
	static contextType = MyContext
	render() {
		const {username,age} = this.context
		return (
			&lt;div className=&quot;grand&quot;&gt;
				&lt;h3&gt;\u6211\u662FC\u7EC4\u4EF6&lt;/h3&gt;
				&lt;h4&gt;\u6211\u4ECEA\u7EC4\u4EF6\u63A5\u6536\u5230\u7684\u7528\u6237\u540D:{username},\u5E74\u9F84\u662F{age}&lt;/h4&gt;
			&lt;/div&gt;
		)
	}
} */</span>

<span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>grand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FC\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u4ECEA\u7EC4\u4EF6\u63A5\u6536\u5230\u7684\u7528\u6237\u540D:
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Consumer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token punctuation">{</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>value<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,\u5E74\u9F84\u662F</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>value<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">}</span><span class="token plain-text"> //\u4E5F\u53EF\u4EE5\u8FD4\u56DE\u6807\u7B7E
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Consumer</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><hr><h2 id="_6\u3001\u7EC4\u4EF6\u4F18\u5316-purecomponent" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u7EC4\u4EF6\u4F18\u5316-purecomponent" aria-hidden="true">#</a> 6\u3001\u7EC4\u4EF6\u4F18\u5316 --<code>PureComponent</code></h2><blockquote><p><strong>\u2160-<code>Component\u76842\u4E2A\u95EE\u9898</code></strong></p><ol><li>\u53EA\u8981\u6267\u884CsetState(),\u5373\u4F7F\u4E0D\u6539\u53D8\u72B6\u6001\u6570\u636E, \u7EC4\u4EF6\u4E5F\u4F1A\u91CD\u65B0render() ==&gt; \u6548\u7387\u4F4E</li><li>\u53EA\u5F53\u524D\u7EC4\u4EF6\u91CD\u65B0render(), \u5C31\u4F1A\u81EA\u52A8\u91CD\u65B0render\u5B50\u7EC4\u4EF6\uFF0C\u7EB5\u4F7F\u5B50\u7EC4\u4EF6\u6CA1\u6709\u7528\u5230\u7236\u7EC4\u4EF6\u7684\u4EFB\u4F55\u6570\u636E ==&gt; \u6548\u7387\u4F4E</li></ol><p><strong>\u2161-\u6548\u7387\u9AD8\u7684\u505A\u6CD5:</strong></p><p>\u53EA\u6709\u5F53\u7EC4\u4EF6\u7684state\u6216props\u6570\u636E\u53D1\u751F\u6539\u53D8\u65F6\u624D\u91CD\u65B0render()</p><p><strong>\u2162-\u539F\u56E0\u89E3\u6790</strong></p><p>Component\u4E2D\u7684shouldComponentUpdate()\u603B\u662F\u8FD4\u56DEtrue</p></blockquote><h4 id="\u4F18\u5316\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u89E3\u51B3" aria-hidden="true">#</a> \u4F18\u5316\u89E3\u51B3</h4><blockquote><p>\u529E\u6CD51: <code>\u91CD\u5199shouldComponentUpdate()</code>\u65B9\u6CD5 \u6BD4\u8F83\u65B0\u65E7state\u6216props\u6570\u636E, \u5982\u679C\u6709\u53D8\u5316\u624D\u8FD4\u56DEtrue, \u5982\u679C\u6CA1\u6709\u8FD4\u56DEfalse \u529E\u6CD52:<br> \u4F7F\u7528<code>PureComponent</code> PureComponent\u91CD\u5199\u4E86shouldComponentUpdate(), \u53EA\u6709state\u6216props\u6570\u636E\u6709\u53D8\u5316\u624D\u8FD4\u56DEtrue \u6CE8\u610F: \u53EA\u662F\u8FDB\u884Cstate\u548Cprops\u6570\u636E\u7684<code>\u6D45\u6BD4\u8F83</code>, \u5982\u679C\u53EA\u662F\u6570\u636E\u5BF9\u8C61\u5185\u90E8\u6570\u636E\u53D8\u4E86, \u8FD4\u56DEfalse<br> \u4E0D\u8981\u76F4\u63A5\u4FEE\u6539state\u6570\u636E, \u800C\u662F\u8981<code>\u4EA7\u751F\u65B0\u6570\u636E</code> \u9879\u76EE\u4E2D\u4E00\u822C\u4F7F\u7528PureComponent\u6765\u4F18\u5316</p><p><strong>\u4F18\u5316\u4EE3\u7801\u793A\u4F8B:</strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> PureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./index.css&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
 state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">carName</span><span class="token operator">:</span> <span class="token string">&quot;\u5954\u9A70c36&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">stus</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;\u5C0F\u5F20&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5C0F\u674E&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5C0F\u738B&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
 <span class="token function-variable function">addStu</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token comment">/* const {stus} = this.state
   stus.unshift(&#39;\u5C0F\u5218&#39;)
   this.setState({stus}) */</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> stus <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">stus</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;\u5C0F\u5218&#39;</span><span class="token punctuation">,</span> <span class="token operator">...</span>stus<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token function-variable function">changeCar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token comment">//this.setState({carName:&#39;\u8FC8\u5DF4\u8D6B&#39;})</span>

   <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
   obj<span class="token punctuation">.</span>carName <span class="token operator">=</span> <span class="token string">&#39;\u8FC8\u5DF4\u8D6B&#39;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token comment">/* shouldComponentUpdate(nextProps,nextState){
   // console.log(this.props,this.state); //\u76EE\u524D\u7684props\u548Cstate
   // console.log(nextProps,nextState); //\u63A5\u4E0B\u8981\u53D8\u5316\u7684\u76EE\u6807props\uFF0C\u76EE\u6807state
   return !this.state.carName === nextState.carName
 } */</span>

 <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Parent---render&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> carName <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FParent\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stus<span class="token punctuation">}</span><span class="token plain-text">&amp;nbsp;
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u7684\u8F66\u540D\u5B57\u662F\uFF1A</span><span class="token punctuation">{</span>carName<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeCar<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u70B9\u6211\u6362\u8F66</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addStu<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6DFB\u52A0\u4E00\u4E2A\u5C0F\u5218</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span> <span class="token attr-name">carName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u5965\u62D3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{</span>
 <span class="token comment">/* shouldComponentUpdate(nextProps,nextState){
   console.log(this.props,this.state); //\u76EE\u524D\u7684props\u548Cstate
   console.log(nextProps,nextState); //\u63A5\u4E0B\u8981\u53D8\u5316\u7684\u76EE\u6807props\uFF0C\u76EE\u6807state
   return !this.props.carName === nextProps.carName
 } */</span>
 <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Child---render&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FChild\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
       </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u63A5\u5230\u7684\u8F66\u662F\uFF1A</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>carName<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><hr><h2 id="_7\u3001-render-props-\u7C7B\u4F3Cvue\u63D2\u69FD" tabindex="-1"><a class="header-anchor" href="#_7\u3001-render-props-\u7C7B\u4F3Cvue\u63D2\u69FD" aria-hidden="true">#</a> 7\u3001 render props ---\u7C7B\u4F3Cvue\u63D2\u69FD</h2><blockquote><ol><li>\u5982\u4F55\u5411\u7EC4\u4EF6\u5185\u90E8\u52A8\u6001\u4F20\u5165\u5E26\u5185\u5BB9\u7684\u7ED3\u6784(\u6807\u7B7E)?</li></ol><p>Vue\u4E2D: \u4F7F\u7528slot\u6280\u672F, \u4E5F\u5C31\u662F\u901A\u8FC7\u7EC4\u4EF6\u6807\u7B7E\u4F53\u4F20\u5165\u7ED3\u6784 &lt; A&gt;&lt; B/&gt;&lt; /A&gt; React\u4E2D: \u4F7F\u7528children props: \u901A\u8FC7\u7EC4\u4EF6\u6807\u7B7E\u4F53\u4F20\u5165\u7ED3\u6784 \u4F7F\u7528render props: \u901A\u8FC7\u7EC4\u4EF6\u6807\u7B7E\u5C5E\u6027\u4F20\u5165\u7ED3\u6784,\u800C\u4E14\u53EF\u4EE5\u643A\u5E26\u6570\u636E\uFF0C\u4E00\u822C\u7528render\u51FD\u6570\u5C5E\u6027</p><ol start="2"><li>children props</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">A</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">B</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">xxxx</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">B</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">A</span></span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
<span class="token literal-property property">\u95EE\u9898</span><span class="token operator">:</span> \u5982\u679C<span class="token constant">B</span>\u7EC4\u4EF6\u9700\u8981<span class="token constant">A</span>\u7EC4\u4EF6\u5185\u7684\u6570\u636E<span class="token punctuation">,</span> <span class="token operator">==</span><span class="token operator">&gt;</span> \u505A\u4E0D\u5230 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>render props</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">A</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">C</span></span> <span class="token attr-name">data</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">C</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">A</span></span><span class="token punctuation">&gt;</span></span>
<span class="token constant">A</span><span class="token literal-property property">\u7EC4\u4EF6</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\u5185\u90E8state\u6570\u636E<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token constant">C</span><span class="token literal-property property">\u7EC4\u4EF6</span><span class="token operator">:</span> \u8BFB\u53D6<span class="token constant">A</span>\u7EC4\u4EF6\u4F20\u5165\u7684\u6570\u636E\u663E\u793A <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>data<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u793A\u4F8B</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;./index.css&#39;</span>
<span class="token keyword">import</span> <span class="token constant">C</span> <span class="token keyword">from</span> <span class="token string">&#39;../1_setState&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FParent\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">A</span></span> <span class="token attr-name">render</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">C</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;tom&#39;</span><span class="token punctuation">}</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FA\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;B--render&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FB\u7EC4\u4EF6,</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><hr><h2 id="_8\u3001\u9519\u8BEF\u8FB9\u754C" tabindex="-1"><a class="header-anchor" href="#_8\u3001\u9519\u8BEF\u8FB9\u754C" aria-hidden="true">#</a> 8\u3001\u9519\u8BEF\u8FB9\u754C</h2><blockquote><ol><li>\u7406\u89E3\uFF1A</li></ol><p>\u200B \u9519\u8BEF\u8FB9\u754C(Error boundary)\uFF1A\u7528\u6765\u6355\u83B7\u540E\u4EE3\u7EC4\u4EF6\u9519\u8BEF\uFF0C\u6E32\u67D3\u51FA\u5907\u7528\u9875\u9762</p><ol start="2"><li>\u7279\u70B9\uFF1A</li></ol><p>\u200B <code>\u53EA\u80FD\u6355\u83B7\u540E\u4EE3\u7EC4\u4EF6\u751F\u547D\u5468\u671F</code>\u4EA7\u751F\u7684\u9519\u8BEF\uFF0C<code>\u4E0D\u80FD\u6355\u83B7\u81EA\u5DF1\u7EC4\u4EF6</code>\u4EA7\u751F\u7684\u9519\u8BEF\u548C\u5176\u4ED6\u7EC4\u4EF6\u5728\u5408\u6210\u4E8B\u4EF6\u3001\u5B9A\u65F6\u5668\u4E2D\u4EA7\u751F\u7684\u9519\u8BEF</p><ol start="3"><li>getDerivedStateFromError\u914D\u5408componentDidCatch</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// \u751F\u547D\u5468\u671F\u51FD\u6570\uFF0C\u4E00\u65E6\u540E\u53F0\u7EC4\u4EF6\u62A5\u9519\uFF0C\u5C31\u4F1A\u89E6\u53D1</span>
<span class="token keyword">static</span> <span class="token function">getDerivedStateFromError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5728render\u4E4B\u524D\u89E6\u53D1</span>
    <span class="token comment">// \u8FD4\u56DE\u65B0\u7684state</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">hasError</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">componentDidCatch</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u7EDF\u8BA1\u9875\u9762\u7684\u9519\u8BEF\u3002\u53D1\u9001\u8BF7\u6C42\u53D1\u9001\u5230\u540E\u53F0\u53BB</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u4EE3\u7801\u793A\u4F8B</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> Child <span class="token keyword">from</span> <span class="token string">&#39;./Child&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>

  state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">hasError</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token comment">//\u7528\u4E8E\u6807\u8BC6\u5B50\u7EC4\u4EF6\u662F\u5426\u4EA7\u751F\u9519\u8BEF</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//\u5F53Parent\u7684\u5B50\u7EC4\u4EF6\u51FA\u73B0\u62A5\u9519\u65F6\u5019\uFF0C\u4F1A\u89E6\u53D1getDerivedStateFromError\u8C03\u7528\uFF0C\u5E76\u643A\u5E26\u9519\u8BEF\u4FE1\u606F</span>
  <span class="token keyword">static</span> <span class="token function">getDerivedStateFromError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;@@@&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">hasError</span><span class="token operator">:</span> error <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">componentDidCatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u6B64\u5904\u7EDF\u8BA1\u9519\u8BEF\uFF0C\u53CD\u9988\u7ED9\u670D\u52A1\u5668\uFF0C\u7528\u4E8E\u901A\u77E5\u7F16\u7801\u4EBA\u5458\u8FDB\u884Cbug\u7684\u89E3\u51B3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u6211\u662FParent\u7EC4\u4EF6</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>hasError <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5F53\u524D\u7F51\u7EDC\u4E0D\u7A33\u5B9A\uFF0C\u7A0D\u540E\u518D\u8BD5</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Child</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_9\u3001-\u7EC4\u4EF6\u901A\u4FE1\u65B9\u5F0F\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#_9\u3001-\u7EC4\u4EF6\u901A\u4FE1\u65B9\u5F0F\u603B\u7ED3" aria-hidden="true">#</a> 9\u3001 \u7EC4\u4EF6\u901A\u4FE1\u65B9\u5F0F\u603B\u7ED3</h2><blockquote><ol><li>\u7EC4\u4EF6\u95F4\u7684\u5173\u7CFB\uFF1A</li></ol><ul><li>\u7236\u5B50\u7EC4\u4EF6</li><li>\u5144\u5F1F\u7EC4\u4EF6\uFF08\u975E\u5D4C\u5957\u7EC4\u4EF6\uFF09</li><li>\u7956\u5B59\u7EC4\u4EF6\uFF08\u8DE8\u7EA7\u7EC4\u4EF6\uFF09</li></ul><ol start="2"><li><p>\u51E0\u79CD\u901A\u4FE1\u65B9\u5F0F\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">-</span> props\uFF1A
     <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children <span class="token function">props</span>
     <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>render props

<span class="token operator">-</span> \u6D88\u606F\u8BA2\u9605<span class="token operator">-</span>\u53D1\u5E03\uFF1A
     ubs<span class="token operator">-</span>sub\u3001event\u7B49\u7B49

<span class="token operator">-</span> \u96C6\u4E2D\u5F0F\u7BA1\u7406\uFF1A
     edux\u3001dva\u7B49\u7B49

<span class="token operator">-</span> conText<span class="token operator">:</span>
     \u4EA7\u8005<span class="token operator">-</span>\u6D88\u8D39\u8005\u6A21\u5F0F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u6BD4\u8F83\u597D\u7684\u642D\u914D\u65B9\u5F0F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">-</span> \u7236\u5B50\u7EC4\u4EF6\uFF1Aprops
<span class="token operator">-</span> \u5144\u5F1F\u7EC4\u4EF6\uFF1A\u6D88\u606F\u8BA2\u9605<span class="token operator">-</span>\u53D1\u5E03\u3001\u96C6\u4E2D\u5F0F\u7BA1\u7406
<span class="token operator">-</span> <span class="token function">\u7956\u5B59\u7EC4\u4EF6</span><span class="token punctuation">(</span>\u8DE8\u7EA7\u7EC4\u4EF6<span class="token punctuation">)</span>\uFF1A\u6D88\u606F\u8BA2\u9605<span class="token operator">-</span><span class="token function">\u53D1\u5E03\u3001\u96C6\u4E2D\u5F0F\u7BA1\u7406\u3001conText</span><span class="token punctuation">(</span>\u5F00\u53D1\u7528\u7684\u5C11\uFF0C\u5C01\u88C5\u63D2\u4EF6\u7528\u7684\u591A<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></blockquote><h1 id="ix-\u7EC4\u4EF6\u95F4\u901A\u4FE1\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#ix-\u7EC4\u4EF6\u95F4\u901A\u4FE1\u793A\u4F8B" aria-hidden="true">#</a> \u2168-\u7EC4\u4EF6\u95F4\u901A\u4FE1\u793A\u4F8B</h1><h2 id="_1\u3001\u5144\u5F1F\u95F4\u4F20\u503C\u65B9\u5F0F1-\u5B50\u4F20\u7236\u3001\u7236\u4F20\u5B50" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u5144\u5F1F\u95F4\u4F20\u503C\u65B9\u5F0F1-\u5B50\u4F20\u7236\u3001\u7236\u4F20\u5B50" aria-hidden="true">#</a> 1\u3001\u5144\u5F1F\u95F4\u4F20\u503C\u65B9\u5F0F1 --&gt; [\u5B50\u4F20\u7236\u3001\u7236\u4F20\u5B50]</h2><blockquote><ol><li>\u7236\u7EC4\u4EF6\u5B9A\u4E49\u4E00\u4E2A[<code>\u72B6\u6001</code>]\u6216[<code>\u65B9\u6CD5</code>],\u5176\u4E2D[\u65B9\u6CD5]\u80FD\u4FEE\u6539[\u72B6\u6001]</li></ol><ul><li>\u5C06[\u65B9\u6CD5]\u4F20\u7ED9\u8981\u8FDB\u884C\u53D1\u9001\u503C\u7684\u5B50\u7EC4\u4EF6,\u901A\u8FC7\u7EE7\u627F\u5230\u7684[\u65B9\u6CD5],\u53BB\u4FEE\u6539\u7236\u7EC4\u4EF6\u7684[\u72B6\u6001]</li><li>\u5C06[\u72B6\u6001]\u4F20\u7ED9\u8981\u63A5\u53D7\u503C\u7684\u5B50\u7EC4\u4EF6,\u8FD9\u6837\u5C31\u80FD\u505A\u5230\u5144\u5F1F\u95F4\u4F20\u503C</li></ul><ol start="2"><li>\u4EE3\u7801\u793A\u4F8B</li></ol><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>\u7236\u7EC4\u4EF6<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">searchParams</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">handleIPSearch</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">searchParams</span><span class="token operator">:</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>\u5B50\u7EC4\u4EF6<span class="token number">1</span><span class="token operator">:</span>\u8981\u5BF9\u7EC4\u4EF6<span class="token number">2</span>\u8FDB\u884C\u4FEE\u6539\u7684 handleIPSearch<span class="token operator">=</span><span class="token punctuation">{</span>handleIPSearch<span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>\u5B50\u7EC4\u4EF6<span class="token number">2</span><span class="token operator">:</span>\u8981\u63A5\u53D7\u503C\u7684    searchParams<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>searchParams<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token plain-text">
--------------\u5B50\u7EC4\u4EF61----------------------
const ManageTable = (props: IProps) =&gt; </span><span class="token punctuation">{</span>
 <span class="token keyword">const</span> <span class="token punctuation">{</span>  handleIPSearch <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
 <span class="token keyword">return</span><span class="token punctuation">(</span>
     <span class="token comment">//\u6B64\u5904\u5373\u53EF\u8C03\u7528\u4FEE\u6539\u7236\u7EC4\u4EF6\u72B6\u6001\u7684\u51FD\u6570</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>   <span class="token function">handleIPSearch</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
    \u5BF9\u7236\u7EC4\u4EF6\u503C\u8FDB\u884C\u4FEE\u6539,\u95F4\u63A5\u6539\u53D8\u7EC4\u4EF62\u63A5\u6536\u5230\u7684\u503C
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token plain-text">
--------------\u5B50\u7EC4\u4EF62----------------------
const IPInfo: FC = (props) =&gt; </span><span class="token punctuation">{</span>
    <span class="token comment">//\u6B64\u5904\u5C31\u80FD\u4F7F\u7528\u7236\u7EC4\u4EF6\u7684\u72B6\u6001</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> searchParams <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">(</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">searchParams</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">)</span>    
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h2 id="_2\u3001\u5144\u5F1F\u95F4\u4F20\u503C\u65B9\u5F0F2-mitt-\u53D1\u5E03\u8BA2\u9605\u8005\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u5144\u5F1F\u95F4\u4F20\u503C\u65B9\u5F0F2-mitt-\u53D1\u5E03\u8BA2\u9605\u8005\u6A21\u5F0F" aria-hidden="true">#</a> 2\u3001\u5144\u5F1F\u95F4\u4F20\u503C\u65B9\u5F0F2 --&gt;[mitt(\u53D1\u5E03\u8BA2\u9605\u8005\u6A21\u5F0F)]</h2>`,200),E=s("\u6B64\u65B9\u6CD5\u7528\u7684\u662F["),C=n("code",null,"mitt",-1),S=s("]\u5B9E\u73B0,\u5176\u5B9E\u672C\u8D28\u4E0A\u5C31\u662F\u6CE8\u518C\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\u8FDB\u884C\u76D1\u542C --> "),M={href:"https://github.com/developit/mitt",target:"_blank",rel:"noopener noreferrer"},P=s("mitt\u6E90\u7801\u5730\u5740"),O=a(`<p>\u53EF\u4EE5\u81EA\u5DF1\u5B9E\u73B0,\u6B64\u5904\u56E0\u4E3A\u4EBA\u5BB6\u5199\u7684\u4E0D\u9519\u4E86,\u5C31\u4EE5\u6B64\u4F5C\u4E3A\u4F8B\u5B50</p><ol><li>\u5B89\u88C5\u6216\u8005\u76F4\u63A5\u590D\u5236\u4F7F\u7528</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save mitt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>\u4F7F\u7528\u793A\u4F8B</li></ol><div class="language-tsx ext-tsx line-numbers-mode"><pre class="language-tsx"><code><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> \u9996\u5148\u8981\u5B9A\u4E49\u4E00\u4E2A\u516C\u7528\u5168\u5C40\u53D8\u91CF  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token comment">//\u6587\u4EF6 utils/index.ts</span>
<span class="token keyword">import</span> mitt <span class="token keyword">from</span> <span class="token string">&#39;./mitt&#39;</span><span class="token punctuation">;</span>
<span class="token comment">//\u6B64\u5904\u58F0\u660E,\u5C06\u5176\u53D8\u4E3A\u5168\u5C40\u53D8\u91CF</span>
<span class="token keyword">const</span> eventBus <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> eventBus <span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token function">\u53D1\u9001\u503C\u7684\u7EC4\u4EF6</span><span class="token punctuation">(</span>\u8981\u4FEE\u6539\u522B\u4EBA\u7684\u7EC4\u4EF6<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">//\u5BFC\u5165\u5171\u6709\u53D8\u91CF</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> eventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;~/utils&#39;</span><span class="token punctuation">;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">//\u5EF6\u8FDF\u53D1\u9001\u662F\u672C\u4EBA\u6B64\u4E4B\u524D\u6709\u4E00\u4E2A\u8DF3\u8F6C\u52A8\u4F5C,\u8DF3\u8F6C\u5230\u63A5\u6536\u65B9\u7EC4\u4EF6</span>
    <span class="token comment">// \u9632\u6B62\u4FEE\u6539\u4E86\u503C\u7684\u65F6\u5019\u4F46\u662F\u63A5\u6536\u7EC4\u4EF6\u672A\u6CE8\u518C  \u6B63\u5E38\u60C5\u51B5\u76F4\u63A5\u53D1\u9001\u5373\u53EF     </span>
    <span class="token comment">//setTimeout(() =&gt; {</span>
    <span class="token comment">// eventBus.emit(&#39;foo&#39;, data);</span>
    <span class="token comment">//}, 100);</span>
    eventBus<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>    
   <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
    
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token function">\u63A5\u53D7\u65B9\u7EC4\u4EF6</span><span class="token punctuation">(</span>\u63A5\u53D7\u53D1\u9001\u65B9\u7684\u7EC4\u4EF6<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    
<span class="token keyword">const</span> Search<span class="token operator">:</span> <span class="token constant">FC</span><span class="token operator">&lt;</span>IProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//\u66FF\u6362\u4E3Amitt\u5199\u6CD5,\u6B64\u65F6\u5DF2\u7ECF\u63A5\u6536\u5230\u4E86</span>
    eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>searchParams<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u63A5\u53D7\u5230\u503C\u4E86&#39;</span><span class="token punctuation">,</span>searchParams<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>mitt\u6E90\u7801</li></ol><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">EventType</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token punctuation">;</span>

<span class="token comment">// An event handler can take an optional event argument</span>
<span class="token comment">// and should not return a value</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Handler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">WildcardHandler<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  type<span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span>
  event<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">// An array of all currently registered event handlers for a type</span>
<span class="token class-name"><span class="token keyword">export</span></span> <span class="token keyword">type</span> <span class="token class-name">EventHandlerList<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>Handler<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">WildCardEventHandlerList<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>
  WildcardHandler<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// A map of event types and their corresponding event handlers.</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">EventHandlerMap<span class="token operator">&lt;</span>Events <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span>EventType<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token operator">=</span> Map<span class="token operator">&lt;</span>
  <span class="token keyword">keyof</span> Events <span class="token operator">|</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span>
  EventHandlerList<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">|</span> WildCardEventHandlerList<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span>
<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Emitter<span class="token operator">&lt;</span>Events <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span>EventType<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span> <span class="token punctuation">{</span>
  all<span class="token operator">:</span> EventHandlerMap<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  on<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> handler<span class="token operator">:</span> Handler<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>type<span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span> handler<span class="token operator">:</span> WildcardHandler<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  off<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>
    type<span class="token operator">:</span> Key<span class="token punctuation">,</span>
    handler<span class="token operator">?</span><span class="token operator">:</span> Handler<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>type<span class="token operator">:</span> <span class="token string">&#39;*&#39;</span><span class="token punctuation">,</span> handler<span class="token operator">:</span> WildcardHandler<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  emit<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> event<span class="token operator">:</span> Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span><span class="token punctuation">(</span>
    type<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token keyword">extends</span> <span class="token class-name">Events</span><span class="token punctuation">[</span>Key<span class="token punctuation">]</span> <span class="token operator">?</span> Key <span class="token operator">:</span> <span class="token builtin">never</span>
  <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * Mitt: Tiny (~200b) functional event emitter / pubsub.
 * <span class="token keyword">@name</span> mitt
 * <span class="token keyword">@returns</span> <span class="token punctuation">{</span>Mitt<span class="token punctuation">}</span>
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">mitt</span><span class="token generic class-name"><span class="token operator">&lt;</span>Events <span class="token keyword">extends</span> Record<span class="token operator">&lt;</span>EventType<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span>
  all<span class="token operator">?</span><span class="token operator">:</span> EventHandlerMap<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Emitter<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">type</span> <span class="token class-name">GenericEventHandler</span> <span class="token operator">=</span>
    <span class="token operator">|</span> Handler<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span>
    <span class="token operator">|</span> WildcardHandler<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  all <span class="token operator">=</span> all <span class="token operator">||</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * A Map of event names to registered handler functions.
     */</span>
    all<span class="token punctuation">,</span>

    <span class="token doc-comment comment">/**
     * Register an event handler for the given type.
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string|symbol<span class="token punctuation">}</span> type Type of event to listen for, or \`&#39;*&#39;\` for all events
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Function<span class="token punctuation">}</span> handler Function to call in response to given event
     * <span class="token keyword">@memberOf</span> mitt
     */</span>
    <span class="token generic-function"><span class="token function">on</span><span class="token generic class-name"><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> handler<span class="token operator">:</span> GenericEventHandler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> handlers<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>GenericEventHandler<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        handlers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span>handler<span class="token punctuation">]</span> <span class="token keyword">as</span> EventHandlerList<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token doc-comment comment">/**
     * Remove an event handler for the given type.
     * If \`handler\` is omitted, all handlers of the given type are removed.
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string|symbol<span class="token punctuation">}</span> type Type of event to unregister \`handler\` from, or \`&#39;*&#39;\`
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Function<span class="token punctuation">}</span> [handler] Handler function to remove
     * <span class="token keyword">@memberOf</span> mitt
     */</span>
    <span class="token generic-function"><span class="token function">off</span><span class="token generic class-name"><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> handler<span class="token operator">?</span><span class="token operator">:</span> GenericEventHandler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> handlers<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>GenericEventHandler<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          handlers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>handlers<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token doc-comment comment">/**
     * Invoke all handlers for the given type.
     * If present, \`&#39;*&#39;\` handlers are invoked after type-matched handlers.
     *
     * Note: Manually firing &#39;*&#39; handlers is not supported.
     *
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>string|symbol<span class="token punctuation">}</span> type The event type to invoke
     * <span class="token keyword">@param</span> <span class="token punctuation">{</span>Any<span class="token punctuation">}</span> [evt] Any value (object is recommended and powerful), passed to each handler
     * <span class="token keyword">@memberOf</span> mitt
     */</span>
    <span class="token generic-function"><span class="token function">emit</span><span class="token generic class-name"><span class="token operator">&lt;</span>Key <span class="token keyword">extends</span> <span class="token keyword">keyof</span> Events<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>type<span class="token operator">:</span> Key<span class="token punctuation">,</span> evt<span class="token operator">?</span><span class="token operator">:</span> Events<span class="token punctuation">[</span>Key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> handlers <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>handlers <span class="token keyword">as</span> EventHandlerList<span class="token operator">&lt;</span>Events<span class="token punctuation">[</span><span class="token keyword">keyof</span> Events<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">handler</span><span class="token punctuation">(</span>evt<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      handlers <span class="token operator">=</span> all<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span>handlers <span class="token keyword">as</span> WildCardEventHandlerList<span class="token operator">&lt;</span>Events<span class="token operator">&gt;</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">handler</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> evt<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),T=a('<h2 id="_3\u3001\u7236\u7EC4\u4EF6\u8C03\u7528\u5B50\u7EC4\u4EF6\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u7236\u7EC4\u4EF6\u8C03\u7528\u5B50\u7EC4\u4EF6\u65B9\u6CD5" aria-hidden="true">#</a> 3\u3001\u7236\u7EC4\u4EF6\u8C03\u7528\u5B50\u7EC4\u4EF6\u65B9\u6CD5</h2><h3 id="_1-\u573A\u666F\u63CF\u8FF0" tabindex="-1"><a class="header-anchor" href="#_1-\u573A\u666F\u63CF\u8FF0" aria-hidden="true">#</a> \u2460 \u573A\u666F\u63CF\u8FF0</h3><blockquote><p>\u5F53\u672C\u4EBA\u8981\u5C01\u88C5\u4E00\u4E2A\u5173\u4E8E\u7ED1\u5B9A\u624B\u673A\u53F7\u7684\u7EC4\u4EF6\u5E76\u5E94\u7528\u4E8E\u9879\u76EE\u4E2D, \u4F46\u662F\u5230\u6574\u4F53\u8868\u5355\u6821\u9A8C\u65F6 (\u6211\u9700\u8981\u77E5\u9053\u624B\u673A\u53F7\u5217\u662F\u5426\u8FDB\u884C\u4E86\u4FEE\u6539),\u4EE5\u6B64\u6765\u5224\u65AD\u662F\u5426\u53D1\u9001\u4FEE\u6539\u8BF7\u6C42</p><p>\u56E0\u4E3A [\u624B\u673A\u5217] \u7684\u76F8\u5173\u6821\u9A8C\u5199\u5728\u5C01\u88C5\u7684\u65B9\u6CD5\u4E2D,\u5728\u7236\u7EC4\u4EF6\u9700\u8981\u8C03\u7528\u4E00\u6B21\u5176\u6821\u9A8C\u65B9\u5F0F,\u5F97\u5230\u5176\u6821\u9A8C\u7ED3\u679C</p><img src="'+u+'" alt="image-20210820184059775" style="zoom:80%;"></blockquote>',3),A={id:"_2-\u4F7F\u7528hooks\u7684-useimperativehandle-useref",tabindex:"-1"},H=n("a",{class:"header-anchor",href:"#_2-\u4F7F\u7528hooks\u7684-useimperativehandle-useref","aria-hidden":"true"},"#",-1),N=s(" \u2461 \u4F7F\u7528hooks\u7684-- "),I={href:"https://reactjs.org/docs/hooks-reference.html#useimperativehandle",target:"_blank",rel:"noopener noreferrer"},L=s("useImperativeHandle"),B=s("\uFF0C"),W={href:"https://reactjs.org/docs/hooks-reference.html#useref",target:"_blank",rel:"noopener noreferrer"},U=s("useRef"),F=a(`<blockquote><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u7236\u7EC4\u4EF6\u4EE3\u7801</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">FC</span><span class="token punctuation">,</span> useEffect<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> MyPhoneInput <span class="token keyword">from</span> <span class="token string">&#39;~/components/my-phone-input&#39;</span><span class="token punctuation">;</span> <span class="token comment">//\u5F15\u5165\u5B50\u7EC4\u4EF6</span>
<span class="token keyword">const</span> <span class="token literal-property property">ChannelEdit</span><span class="token operator">:</span> <span class="token constant">FC</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">IProps</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = (props) =&gt; </span><span class="token punctuation">{</span>
 <span class="token keyword">const</span> childRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//useRef</span>
 <span class="token keyword">const</span> <span class="token function-variable function">checkSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> childRef<span class="token operator">?.</span>current<span class="token operator">?.</span><span class="token function">checkSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8C03\u7528\u5B50\u7EC4\u4EF6\u7684\u65B9\u6CD5</span>
 <span class="token keyword">return</span><span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyPhoneInput</span></span>  <span class="token attr-name">cRef</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>childRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>  
<span class="token punctuation">)</span>    
<span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//\u5B50\u7EC4\u4EF6\u4EE3\u7801</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState<span class="token punctuation">,</span> useImperativeHandle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">SuperPhoneInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token function">useImperativeHandle</span><span class="token punctuation">(</span>cRef<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
   checkSubmit<span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u9700\u8981\u5728\u7236\u7EC4\u4EF6\u8C03\u7528\u7684 \u5B50\u7EC4\u4EF6\u65B9\u6CD5 </span>
<span class="token keyword">const</span> <span class="token function-variable function">checkSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> tels <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> ischange <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token comment">//..... \u5404\u79CD\u64CD\u4F5C,\u7136\u540E\u8FD4\u56DE\u7ED3\u679C\u7ED9\u7236\u7EC4\u4EF6</span>
   <span class="token keyword">return</span> <span class="token punctuation">{</span> ischange<span class="token punctuation">,</span> tels <span class="token punctuation">}</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote>`,1);function K($,V){const t=o("ExternalLinkIcon");return c(),l("div",null,[k,n("blockquote",null,[n("ol",null,[n("li",null,[d,n("a",v,[m,p(t)])]),b,g,h])]),y,n("blockquote",null,[x,n("p",null,[f,w,q,n("a",j,[_,p(t)])]),R]),D,n("blockquote",null,[n("p",null,[E,C,S,n("a",M,[P,p(t)])]),O]),T,n("h3",A,[H,N,n("a",I,[L,p(t)]),B,n("a",W,[U,p(t)])]),F])}var G=e(r,[["render",K],["__file","React\u57FA\u7840.html.vue"]]);export{G as default};
